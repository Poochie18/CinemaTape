(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ym={exports:{}},Lo={},Jm={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=Symbol.for("react.element"),Yw=Symbol.for("react.portal"),Jw=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),Zw=Symbol.for("react.provider"),ex=Symbol.for("react.context"),tx=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),Nh=Symbol.iterator;function ix(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xm=Object.assign,Zm={};function xs(t,e,n){this.props=t,this.context=e,this.refs=Zm,this.updater=n||Qm}xs.prototype.isReactComponent={};xs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eg(){}eg.prototype=xs.prototype;function Yc(t,e,n){this.props=t,this.context=e,this.refs=Zm,this.updater=n||Qm}var Jc=Yc.prototype=new eg;Jc.constructor=Yc;Xm(Jc,xs.prototype);Jc.isPureReactComponent=!0;var Ah=Array.isArray,tg=Object.prototype.hasOwnProperty,Qc={current:null},ng={key:!0,ref:!0,__self:!0,__source:!0};function rg(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)tg.call(e,r)&&!ng.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Ii,type:t,key:i,ref:a,props:s,_owner:Qc.current}}function ax(t,e){return{$$typeof:Ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ii}function ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dh=/\/+/g;function vl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ox(""+t.key):e.toString(36)}function Ca(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ii:case Yw:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+vl(a,0):r,Ah(s)?(n="",t!=null&&(n=t.replace(Dh,"$&/")+"/"),Ca(s,e,n,"",function(u){return u})):s!=null&&(Xc(s)&&(s=ax(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Dh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Ah(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+vl(i,o);a+=Ca(i,e,n,l,s)}else if(l=ix(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+vl(i,o++),a+=Ca(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Xi(t,e,n){if(t==null)return t;var r=[],s=0;return Ca(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Pa={transition:null},ux={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Pa,ReactCurrentOwner:Qc};function sg(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Xi,forEach:function(t,e,n){Xi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xi(t,function(){e++}),e},toArray:function(t){return Xi(t,function(e){return e})||[]},only:function(t){if(!Xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=xs;W.Fragment=Jw;W.Profiler=Xw;W.PureComponent=Yc;W.StrictMode=Qw;W.Suspense=nx;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;W.act=sg;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xm({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Qc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)tg.call(e,l)&&!ng.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ii,type:t.type,key:s,ref:i,props:r,_owner:a}};W.createContext=function(t){return t={$$typeof:ex,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zw,_context:t},t.Consumer=t};W.createElement=rg;W.createFactory=function(t){var e=rg.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:tx,render:t}};W.isValidElement=Xc;W.lazy=function(t){return{$$typeof:sx,_payload:{_status:-1,_result:t},_init:lx}};W.memo=function(t,e){return{$$typeof:rx,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Pa.transition;Pa.transition={};try{t()}finally{Pa.transition=e}};W.unstable_act=sg;W.useCallback=function(t,e){return ze.current.useCallback(t,e)};W.useContext=function(t){return ze.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};W.useEffect=function(t,e){return ze.current.useEffect(t,e)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return ze.current.useMemo(t,e)};W.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};W.useRef=function(t){return ze.current.useRef(t)};W.useState=function(t){return ze.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";Jm.exports=W;var x=Jm.exports;const Zc=Gw(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=x,dx=Symbol.for("react.element"),hx=Symbol.for("react.fragment"),fx=Object.prototype.hasOwnProperty,px=cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function ig(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fx.call(e,r)&&!mx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dx,type:t,key:i,ref:a,props:s,_owner:px.current}}Lo.Fragment=hx;Lo.jsx=ig;Lo.jsxs=ig;Ym.exports=Lo;var m=Ym.exports,Su={},ag={exports:{}},ct={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,$){var B=N.length;N.push($);e:for(;0<B;){var L=B-1>>>1,G=N[L];if(0<s(G,$))N[L]=$,N[B]=G,B=L;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],B=N.pop();if(B!==$){N[0]=B;e:for(var L=0,G=N.length,Ze=G>>>1;L<Ze;){var et=2*(L+1)-1,zt=N[et],tt=et+1,Hn=N[tt];if(0>s(zt,B))tt<G&&0>s(Hn,zt)?(N[L]=Hn,N[tt]=B,L=tt):(N[L]=zt,N[et]=B,L=et);else if(tt<G&&0>s(Hn,B))N[L]=Hn,N[tt]=B,L=tt;else break e}}return $}function s(N,$){var B=N.sortIndex-$.sortIndex;return B!==0?B:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function b(N){if(w=!1,g(N),!v)if(n(l)!==null)v=!0,z(k);else{var $=n(u);$!==null&&Z(b,$.startTime-N)}}function k(N,$){v=!1,w&&(w=!1,y(T),T=-1),f=!0;var B=h;try{for(g($),d=n(l);d!==null&&(!(d.expirationTime>$)||N&&!q());){var L=d.callback;if(typeof L=="function"){d.callback=null,h=d.priorityLevel;var G=L(d.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),g($)}else r(l);d=n(l)}if(d!==null)var Ze=!0;else{var et=n(u);et!==null&&Z(b,et.startTime-$),Ze=!1}return Ze}finally{d=null,h=B,f=!1}}var _=!1,E=null,T=-1,j=5,C=-1;function q(){return!(t.unstable_now()-C<j)}function R(){if(E!==null){var N=t.unstable_now();C=N;var $=!0;try{$=E(!0,N)}finally{$?O():(_=!1,E=null)}}else _=!1}var O;if(typeof p=="function")O=function(){p(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,H=A.port2;A.port1.onmessage=R,O=function(){H.postMessage(null)}}else O=function(){S(R,0)};function z(N){E=N,_||(_=!0,O())}function Z(N,$){T=S(function(){N(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,z(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var B=h;h=$;try{return N()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=h;h=N;try{return $()}finally{h=B}},t.unstable_scheduleCallback=function(N,$,B){var L=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?L+B:L):B=L,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,N={id:c++,callback:$,priorityLevel:N,startTime:B,expirationTime:G,sortIndex:-1},B>L?(N.sortIndex=B,e(u,N),n(l)===null&&N===n(u)&&(w?(y(T),T=-1):w=!0,Z(b,B-L))):(N.sortIndex=G,e(l,N),v||f||(v=!0,z(k))),N},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(N){var $=h;return function(){var B=h;h=$;try{return N.apply(this,arguments)}finally{h=B}}}})(lg);og.exports=lg;var gx=og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=x,lt=gx;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ug=new Set,ui={};function Sr(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(ui[t]=e,t=0;t<e.length;t++)ug.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=Object.prototype.hasOwnProperty,vx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lh={},Mh={};function wx(t){return bu.call(Mh,t)?!0:bu.call(Lh,t)?!1:vx.test(t)?Mh[t]=!0:(Lh[t]=!0,!1)}function xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sx(t,e,n,r){if(e===null||typeof e>"u"||xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function td(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ed,td);Ne[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ed,td);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ed,td);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function nd(t,e,n,r){var s=Ne.hasOwnProperty(e)?Ne[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sx(e,n,s,r)&&(n=null),r||s===null?wx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cn=yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),hg=Symbol.for("react.offscreen"),$h=Symbol.iterator;function Ts(t){return t===null||typeof t!="object"?null:(t=$h&&t[$h]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,wl;function Us(t){if(wl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wl=e&&e[1]||""}return`
`+wl+t}var xl=!1;function Sl(t,e){if(!t||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Us(t):""}function bx(t){switch(t.tag){case 5:return Us(t.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return t=Sl(t.type,!1),t;case 11:return t=Sl(t.type.render,!1),t;case 1:return t=Sl(t.type,!0),t;default:return""}}function Tu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ur:return"Fragment";case Fr:return"Portal";case ku:return"Profiler";case rd:return"StrictMode";case _u:return"Suspense";case Eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dg:return(t.displayName||"Context")+".Consumer";case cg:return(t._context.displayName||"Context")+".Provider";case sd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case id:return e=t.displayName||null,e!==null?e:Tu(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return Tu(t(e))}catch{}}return null}function kx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(e);case 8:return e===rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _x(t){var e=fg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ea(t){t._valueTracker||(t._valueTracker=_x(t))}function pg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cu(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ih(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mg(t,e){e=e.checked,e!=null&&nd(t,"checked",e,!1)}function Pu(t,e){mg(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ru(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ru(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ru(t,e,n){(e!=="number"||Wa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vs=Array.isArray;function ns(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ju(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Vs(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function gg(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ta,vg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ta.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ci(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ex=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(t){Ex.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ks[e]=Ks[t]})});function wg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ks.hasOwnProperty(t)&&Ks[t]?(""+e).trim():e+"px"}function xg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Tx=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(t,e){if(e){if(Tx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lu=null,rs=null,ss=null;function Bh(t){if(t=Vi(t)){if(typeof Lu!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Uo(e),Lu(t.stateNode,t.type,e))}}function Sg(t){rs?ss?ss.push(t):ss=[t]:rs=t}function bg(){if(rs){var t=rs,e=ss;if(ss=rs=null,Bh(t),e)for(t=0;t<e.length;t++)Bh(e[t])}}function kg(t,e){return t(e)}function _g(){}var bl=!1;function Eg(t,e,n){if(bl)return t(e,n);bl=!0;try{return kg(t,e,n)}finally{bl=!1,(rs!==null||ss!==null)&&(_g(),bg())}}function di(t,e){var n=t.stateNode;if(n===null)return null;var r=Uo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Mu=!1;if(nn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Mu=!1}function Cx(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qs=!1,Ha=null,Ka=!1,$u=null,Px={onError:function(t){qs=!0,Ha=t}};function Rx(t,e,n,r,s,i,a,o,l){qs=!1,Ha=null,Cx.apply(Px,arguments)}function jx(t,e,n,r,s,i,a,o,l){if(Rx.apply(this,arguments),qs){if(qs){var u=Ha;qs=!1,Ha=null}else throw Error(P(198));Ka||(Ka=!0,$u=u)}}function br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zh(t){if(br(t)!==t)throw Error(P(188))}function Ox(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zh(s),t;if(i===r)return zh(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Cg(t){return t=Ox(t),t!==null?Pg(t):null}function Pg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pg(t);if(e!==null)return e;t=t.sibling}return null}var Rg=lt.unstable_scheduleCallback,Wh=lt.unstable_cancelCallback,Nx=lt.unstable_shouldYield,Ax=lt.unstable_requestPaint,ge=lt.unstable_now,Dx=lt.unstable_getCurrentPriorityLevel,od=lt.unstable_ImmediatePriority,jg=lt.unstable_UserBlockingPriority,qa=lt.unstable_NormalPriority,Lx=lt.unstable_LowPriority,Og=lt.unstable_IdlePriority,Mo=null,Ut=null;function Mx(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Fx,$x=Math.log,Ix=Math.LN2;function Fx(t){return t>>>=0,t===0?32:31-($x(t)/Ix|0)|0}var na=64,ra=4194304;function Bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ga(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Bs(o):(i&=a,i!==0&&(r=Bs(i)))}else a=n&~s,a!==0?r=Bs(a):i!==0&&(r=Bs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rt(e),s=1<<n,r|=t[n],e&=~s;return r}function Ux(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Rt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Ux(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Iu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ng(){var t=na;return na<<=1,!(na&4194240)&&(na=64),t}function kl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=n}function Bx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ld(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var X=0;function Ag(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dg,ud,Lg,Mg,$g,Fu=!1,sa=[],En=null,Tn=null,Cn=null,hi=new Map,fi=new Map,wn=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hh(t,e){switch(t){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(e.pointerId)}}function Ps(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vi(e),e!==null&&ud(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wx(t,e,n,r,s){switch(e){case"focusin":return En=Ps(En,t,e,n,r,s),!0;case"dragenter":return Tn=Ps(Tn,t,e,n,r,s),!0;case"mouseover":return Cn=Ps(Cn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hi.set(i,Ps(hi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fi.set(i,Ps(fi.get(i)||null,t,e,n,r,s)),!0}return!1}function Ig(t){var e=ar(t.target);if(e!==null){var n=br(e);if(n!==null){if(e=n.tag,e===13){if(e=Tg(n),e!==null){t.blockedOn=e,$g(t.priority,function(){Lg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ra(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Du=r,n.target.dispatchEvent(r),Du=null}else return e=Vi(n),e!==null&&ud(e),t.blockedOn=n,!1;e.shift()}return!0}function Kh(t,e,n){Ra(t)&&n.delete(e)}function Hx(){Fu=!1,En!==null&&Ra(En)&&(En=null),Tn!==null&&Ra(Tn)&&(Tn=null),Cn!==null&&Ra(Cn)&&(Cn=null),hi.forEach(Kh),fi.forEach(Kh)}function Rs(t,e){t.blockedOn===e&&(t.blockedOn=null,Fu||(Fu=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Hx)))}function pi(t){function e(s){return Rs(s,t)}if(0<sa.length){Rs(sa[0],t);for(var n=1;n<sa.length;n++){var r=sa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(En!==null&&Rs(En,t),Tn!==null&&Rs(Tn,t),Cn!==null&&Rs(Cn,t),hi.forEach(e),fi.forEach(e),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)Ig(n),n.blockedOn===null&&wn.shift()}var is=cn.ReactCurrentBatchConfig,Ya=!0;function Kx(t,e,n,r){var s=X,i=is.transition;is.transition=null;try{X=1,cd(t,e,n,r)}finally{X=s,is.transition=i}}function qx(t,e,n,r){var s=X,i=is.transition;is.transition=null;try{X=4,cd(t,e,n,r)}finally{X=s,is.transition=i}}function cd(t,e,n,r){if(Ya){var s=Uu(t,e,n,r);if(s===null)Al(t,e,r,Ja,n),Hh(t,r);else if(Wx(s,t,e,n,r))r.stopPropagation();else if(Hh(t,r),e&4&&-1<zx.indexOf(t)){for(;s!==null;){var i=Vi(s);if(i!==null&&Dg(i),i=Uu(t,e,n,r),i===null&&Al(t,e,r,Ja,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Al(t,e,r,null,n)}}var Ja=null;function Uu(t,e,n,r){if(Ja=null,t=ad(r),t=ar(t),t!==null)if(e=br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ja=t,null}function Fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case od:return 1;case jg:return 4;case qa:case Lx:return 16;case Og:return 536870912;default:return 16}default:return 16}}var kn=null,dd=null,ja=null;function Ug(){if(ja)return ja;var t,e=dd,n=e.length,r,s="value"in kn?kn.value:kn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ja=s.slice(t,1<r?1-r:void 0)}function Oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ia(){return!0}function qh(){return!1}function dt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ia:qh,this.isPropagationStopped=qh,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),e}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=dt(Ss),Ui=he({},Ss,{view:0,detail:0}),Gx=dt(Ui),_l,El,js,$o=he({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(_l=t.screenX-js.screenX,El=t.screenY-js.screenY):El=_l=0,js=t),_l)},movementY:function(t){return"movementY"in t?t.movementY:El}}),Gh=dt($o),Yx=he({},$o,{dataTransfer:0}),Jx=dt(Yx),Qx=he({},Ui,{relatedTarget:0}),Tl=dt(Qx),Xx=he({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=dt(Xx),eS=he({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tS=dt(eS),nS=he({},Ss,{data:0}),Yh=dt(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iS[t])?!!e[t]:!1}function fd(){return aS}var oS=he({},Ui,{key:function(t){if(t.key){var e=rS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(t){return t.type==="keypress"?Oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lS=dt(oS),uS=he({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=dt(uS),cS=he({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),dS=dt(cS),hS=he({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=dt(hS),pS=he({},$o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mS=dt(pS),gS=[9,13,27,32],pd=nn&&"CompositionEvent"in window,Gs=null;nn&&"documentMode"in document&&(Gs=document.documentMode);var yS=nn&&"TextEvent"in window&&!Gs,Vg=nn&&(!pd||Gs&&8<Gs&&11>=Gs),Qh=" ",Xh=!1;function Bg(t,e){switch(t){case"keyup":return gS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function vS(t,e){switch(t){case"compositionend":return zg(e);case"keypress":return e.which!==32?null:(Xh=!0,Qh);case"textInput":return t=e.data,t===Qh&&Xh?null:t;default:return null}}function wS(t,e){if(Vr)return t==="compositionend"||!pd&&Bg(t,e)?(t=Ug(),ja=dd=kn=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vg&&e.locale!=="ko"?null:e.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xS[t.type]:e==="textarea"}function Wg(t,e,n,r){Sg(r),e=Qa(e,"onChange"),0<e.length&&(n=new hd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,mi=null;function SS(t){ty(t,0)}function Io(t){var e=Wr(t);if(pg(e))return t}function bS(t,e){if(t==="change")return e}var Hg=!1;if(nn){var Cl;if(nn){var Pl="oninput"in document;if(!Pl){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),Pl=typeof ef.oninput=="function"}Cl=Pl}else Cl=!1;Hg=Cl&&(!document.documentMode||9<document.documentMode)}function tf(){Ys&&(Ys.detachEvent("onpropertychange",Kg),mi=Ys=null)}function Kg(t){if(t.propertyName==="value"&&Io(mi)){var e=[];Wg(e,mi,t,ad(t)),Eg(SS,e)}}function kS(t,e,n){t==="focusin"?(tf(),Ys=e,mi=n,Ys.attachEvent("onpropertychange",Kg)):t==="focusout"&&tf()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(mi)}function ES(t,e){if(t==="click")return Io(e)}function TS(t,e){if(t==="input"||t==="change")return Io(e)}function CS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:CS;function gi(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bu.call(e,s)||!Ot(t[s],e[s]))return!1}return!0}function nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rf(t,e){var n=nf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nf(n)}}function qg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gg(){for(var t=window,e=Wa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wa(t.document)}return e}function md(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PS(t){var e=Gg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qg(n.ownerDocument.documentElement,n)){if(r!==null&&md(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=rf(n,i);var a=rf(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RS=nn&&"documentMode"in document&&11>=document.documentMode,Br=null,Vu=null,Js=null,Bu=!1;function sf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||Br==null||Br!==Wa(r)||(r=Br,"selectionStart"in r&&md(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&gi(Js,r)||(Js=r,r=Qa(Vu,"onSelect"),0<r.length&&(e=new hd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Br)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},Rl={},Yg={};nn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Fo(t){if(Rl[t])return Rl[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yg)return Rl[t]=e[n];return t}var Jg=Fo("animationend"),Qg=Fo("animationiteration"),Xg=Fo("animationstart"),Zg=Fo("transitionend"),ey=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(t,e){ey.set(t,e),Sr(e,[t])}for(var jl=0;jl<af.length;jl++){var Ol=af[jl],jS=Ol.toLowerCase(),OS=Ol[0].toUpperCase()+Ol.slice(1);Fn(jS,"on"+OS)}Fn(Jg,"onAnimationEnd");Fn(Qg,"onAnimationIteration");Fn(Xg,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(Zg,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function of(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jx(r,e,void 0,t),t.currentTarget=null}function ty(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;of(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;of(s,o,u),i=l}}}if(Ka)throw t=$u,Ka=!1,$u=null,t}function se(t,e){var n=e[qu];n===void 0&&(n=e[qu]=new Set);var r=t+"__bubble";n.has(r)||(ny(e,t,2,!1),n.add(r))}function Nl(t,e,n){var r=0;e&&(r|=4),ny(n,t,r,e)}var oa="_reactListening"+Math.random().toString(36).slice(2);function yi(t){if(!t[oa]){t[oa]=!0,ug.forEach(function(n){n!=="selectionchange"&&(NS.has(n)||Nl(n,!1,t),Nl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oa]||(e[oa]=!0,Nl("selectionchange",!1,e))}}function ny(t,e,n,r){switch(Fg(e)){case 1:var s=Kx;break;case 4:s=qx;break;default:s=cd}n=s.bind(null,e,n,t),s=void 0,!Mu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Al(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ar(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Eg(function(){var u=i,c=ad(n),d=[];e:{var h=ey.get(t);if(h!==void 0){var f=hd,v=t;switch(t){case"keypress":if(Oa(n)===0)break e;case"keydown":case"keyup":f=lS;break;case"focusin":v="focus",f=Tl;break;case"focusout":v="blur",f=Tl;break;case"beforeblur":case"afterblur":f=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=dS;break;case Jg:case Qg:case Xg:f=Zx;break;case Zg:f=fS;break;case"scroll":f=Gx;break;case"wheel":f=mS;break;case"copy":case"cut":case"paste":f=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Jh}var w=(e&4)!==0,S=!w&&t==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=di(p,y),b!=null&&w.push(vi(p,b,g)))),S)break;p=p.return}0<w.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Du&&(v=n.relatedTarget||n.fromElement)&&(ar(v)||v[rn]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?ar(v):null,v!==null&&(S=br(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(w=Gh,b="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Jh,b="onPointerLeave",y="onPointerEnter",p="pointer"),S=f==null?h:Wr(f),g=v==null?h:Wr(v),h=new w(b,p+"leave",f,n,c),h.target=S,h.relatedTarget=g,b=null,ar(c)===u&&(w=new w(y,p+"enter",v,n,c),w.target=g,w.relatedTarget=S,b=w),S=b,f&&v)t:{for(w=f,y=v,p=0,g=w;g;g=Er(g))p++;for(g=0,b=y;b;b=Er(b))g++;for(;0<p-g;)w=Er(w),p--;for(;0<g-p;)y=Er(y),g--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=Er(w),y=Er(y)}w=null}else w=null;f!==null&&lf(d,h,f,w,!1),v!==null&&S!==null&&lf(d,S,v,w,!0)}}e:{if(h=u?Wr(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=bS;else if(Zh(h))if(Hg)k=TS;else{k=_S;var _=kS}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=ES);if(k&&(k=k(t,u))){Wg(d,k,n,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Ru(h,"number",h.value)}switch(_=u?Wr(u):window,t){case"focusin":(Zh(_)||_.contentEditable==="true")&&(Br=_,Vu=u,Js=null);break;case"focusout":Js=Vu=Br=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,sf(d,n,c);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":sf(d,n,c)}var E;if(pd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Vr?Bg(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Vg&&n.locale!=="ko"&&(Vr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Vr&&(E=Ug()):(kn=c,dd="value"in kn?kn.value:kn.textContent,Vr=!0)),_=Qa(u,T),0<_.length&&(T=new Yh(T,t,null,n,c),d.push({event:T,listeners:_}),E?T.data=E:(E=zg(n),E!==null&&(T.data=E)))),(E=yS?vS(t,n):wS(t,n))&&(u=Qa(u,"onBeforeInput"),0<u.length&&(c=new Yh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}ty(d,e)})}function vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=di(t,n),i!=null&&r.unshift(vi(t,i,s)),i=di(t,e),i!=null&&r.push(vi(t,i,s))),t=t.return}return r}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lf(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=di(n,i),l!=null&&a.unshift(vi(n,l,o))):s||(l=di(n,i),l!=null&&a.push(vi(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var AS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(DS,"")}function la(t,e,n){if(e=uf(e),uf(t)!==e&&n)throw Error(P(425))}function Xa(){}var zu=null,Wu=null;function Hu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(t){return cf.resolve(null).then(t).catch($S)}:Ku;function $S(t){setTimeout(function(){throw t})}function Dl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pi(e)}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Lt="__reactFiber$"+bs,wi="__reactProps$"+bs,rn="__reactContainer$"+bs,qu="__reactEvents$"+bs,IS="__reactListeners$"+bs,FS="__reactHandles$"+bs;function ar(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=df(t);t!==null;){if(n=t[Lt])return n;t=df(t)}return e}t=n,n=t.parentNode}return null}function Vi(t){return t=t[Lt]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Uo(t){return t[wi]||null}var Gu=[],Hr=-1;function Un(t){return{current:t}}function ie(t){0>Hr||(t.current=Gu[Hr],Gu[Hr]=null,Hr--)}function ne(t,e){Hr++,Gu[Hr]=t.current,t.current=e}var Ln={},$e=Un(Ln),Ye=Un(!1),pr=Ln;function ds(t,e){var n=t.type.contextTypes;if(!n)return Ln;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Je(t){return t=t.childContextTypes,t!=null}function Za(){ie(Ye),ie($e)}function hf(t,e,n){if($e.current!==Ln)throw Error(P(168));ne($e,e),ne(Ye,n)}function ry(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,kx(t)||"Unknown",s));return he({},n,r)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ln,pr=$e.current,ne($e,t),ne(Ye,Ye.current),!0}function ff(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=ry(t,e,pr),r.__reactInternalMemoizedMergedChildContext=t,ie(Ye),ie($e),ne($e,t)):ie(Ye),ne(Ye,n)}var Gt=null,Vo=!1,Ll=!1;function sy(t){Gt===null?Gt=[t]:Gt.push(t)}function US(t){Vo=!0,sy(t)}function Vn(){if(!Ll&&Gt!==null){Ll=!0;var t=0,e=X;try{var n=Gt;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gt=null,Vo=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(t+1)),Rg(od,Vn),s}finally{X=e,Ll=!1}}return null}var Kr=[],qr=0,to=null,no=0,mt=[],gt=0,mr=null,Yt=1,Jt="";function Jn(t,e){Kr[qr++]=no,Kr[qr++]=to,to=t,no=e}function iy(t,e,n){mt[gt++]=Yt,mt[gt++]=Jt,mt[gt++]=mr,mr=t;var r=Yt;t=Jt;var s=32-Rt(r)-1;r&=~(1<<s),n+=1;var i=32-Rt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Yt=1<<32-Rt(e)+s|n<<s|r,Jt=i+t}else Yt=1<<i|n<<s|r,Jt=t}function gd(t){t.return!==null&&(Jn(t,1),iy(t,1,0))}function yd(t){for(;t===to;)to=Kr[--qr],Kr[qr]=null,no=Kr[--qr],Kr[qr]=null;for(;t===mr;)mr=mt[--gt],mt[gt]=null,Jt=mt[--gt],mt[gt]=null,Yt=mt[--gt],mt[gt]=null}var ot=null,at=null,ae=!1,Pt=null;function ay(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,at=Pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mr!==null?{id:Yt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,at=null,!0):!1;default:return!1}}function Yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ju(t){if(ae){var e=at;if(e){var n=e;if(!pf(t,e)){if(Yu(t))throw Error(P(418));e=Pn(n.nextSibling);var r=ot;e&&pf(t,e)?ay(r,n):(t.flags=t.flags&-4097|2,ae=!1,ot=t)}}else{if(Yu(t))throw Error(P(418));t.flags=t.flags&-4097|2,ae=!1,ot=t}}}function mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function ua(t){if(t!==ot)return!1;if(!ae)return mf(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hu(t.type,t.memoizedProps)),e&&(e=at)){if(Yu(t))throw oy(),Error(P(418));for(;e;)ay(t,e),e=Pn(e.nextSibling)}if(mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=Pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ot?Pn(t.stateNode.nextSibling):null;return!0}function oy(){for(var t=at;t;)t=Pn(t.nextSibling)}function hs(){at=ot=null,ae=!1}function vd(t){Pt===null?Pt=[t]:Pt.push(t)}var VS=cn.ReactCurrentBatchConfig;function Os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ca(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gf(t){var e=t._init;return e(t._payload)}function ly(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Nn(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,p,g,b){return p===null||p.tag!==6?(p=Bl(g,y.mode,b),p.return=y,p):(p=s(p,g),p.return=y,p)}function l(y,p,g,b){var k=g.type;return k===Ur?c(y,p,g.props.children,b,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===mn&&gf(k)===p.type)?(b=s(p,g.props),b.ref=Os(y,p,g),b.return=y,b):(b=Ia(g.type,g.key,g.props,null,y.mode,b),b.ref=Os(y,p,g),b.return=y,b)}function u(y,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=zl(g,y.mode,b),p.return=y,p):(p=s(p,g.children||[]),p.return=y,p)}function c(y,p,g,b,k){return p===null||p.tag!==7?(p=hr(g,y.mode,b,k),p.return=y,p):(p=s(p,g),p.return=y,p)}function d(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Bl(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zi:return g=Ia(p.type,p.key,p.props,null,y.mode,g),g.ref=Os(y,null,p),g.return=y,g;case Fr:return p=zl(p,y.mode,g),p.return=y,p;case mn:var b=p._init;return d(y,b(p._payload),g)}if(Vs(p)||Ts(p))return p=hr(p,y.mode,g,null),p.return=y,p;ca(y,p)}return null}function h(y,p,g,b){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(y,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zi:return g.key===k?l(y,p,g,b):null;case Fr:return g.key===k?u(y,p,g,b):null;case mn:return k=g._init,h(y,p,k(g._payload),b)}if(Vs(g)||Ts(g))return k!==null?null:c(y,p,g,b,null);ca(y,g)}return null}function f(y,p,g,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,o(p,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zi:return y=y.get(b.key===null?g:b.key)||null,l(p,y,b,k);case Fr:return y=y.get(b.key===null?g:b.key)||null,u(p,y,b,k);case mn:var _=b._init;return f(y,p,g,_(b._payload),k)}if(Vs(b)||Ts(b))return y=y.get(g)||null,c(p,y,b,k,null);ca(p,b)}return null}function v(y,p,g,b){for(var k=null,_=null,E=p,T=p=0,j=null;E!==null&&T<g.length;T++){E.index>T?(j=E,E=null):j=E.sibling;var C=h(y,E,g[T],b);if(C===null){E===null&&(E=j);break}t&&E&&C.alternate===null&&e(y,E),p=i(C,p,T),_===null?k=C:_.sibling=C,_=C,E=j}if(T===g.length)return n(y,E),ae&&Jn(y,T),k;if(E===null){for(;T<g.length;T++)E=d(y,g[T],b),E!==null&&(p=i(E,p,T),_===null?k=E:_.sibling=E,_=E);return ae&&Jn(y,T),k}for(E=r(y,E);T<g.length;T++)j=f(E,y,T,g[T],b),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?T:j.key),p=i(j,p,T),_===null?k=j:_.sibling=j,_=j);return t&&E.forEach(function(q){return e(y,q)}),ae&&Jn(y,T),k}function w(y,p,g,b){var k=Ts(g);if(typeof k!="function")throw Error(P(150));if(g=k.call(g),g==null)throw Error(P(151));for(var _=k=null,E=p,T=p=0,j=null,C=g.next();E!==null&&!C.done;T++,C=g.next()){E.index>T?(j=E,E=null):j=E.sibling;var q=h(y,E,C.value,b);if(q===null){E===null&&(E=j);break}t&&E&&q.alternate===null&&e(y,E),p=i(q,p,T),_===null?k=q:_.sibling=q,_=q,E=j}if(C.done)return n(y,E),ae&&Jn(y,T),k;if(E===null){for(;!C.done;T++,C=g.next())C=d(y,C.value,b),C!==null&&(p=i(C,p,T),_===null?k=C:_.sibling=C,_=C);return ae&&Jn(y,T),k}for(E=r(y,E);!C.done;T++,C=g.next())C=f(E,y,T,C.value,b),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?T:C.key),p=i(C,p,T),_===null?k=C:_.sibling=C,_=C);return t&&E.forEach(function(R){return e(y,R)}),ae&&Jn(y,T),k}function S(y,p,g,b){if(typeof g=="object"&&g!==null&&g.type===Ur&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zi:e:{for(var k=g.key,_=p;_!==null;){if(_.key===k){if(k=g.type,k===Ur){if(_.tag===7){n(y,_.sibling),p=s(_,g.props.children),p.return=y,y=p;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===mn&&gf(k)===_.type){n(y,_.sibling),p=s(_,g.props),p.ref=Os(y,_,g),p.return=y,y=p;break e}n(y,_);break}else e(y,_);_=_.sibling}g.type===Ur?(p=hr(g.props.children,y.mode,b,g.key),p.return=y,y=p):(b=Ia(g.type,g.key,g.props,null,y.mode,b),b.ref=Os(y,p,g),b.return=y,y=b)}return a(y);case Fr:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=s(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=zl(g,y.mode,b),p.return=y,y=p}return a(y);case mn:return _=g._init,S(y,p,_(g._payload),b)}if(Vs(g))return v(y,p,g,b);if(Ts(g))return w(y,p,g,b);ca(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,g),p.return=y,y=p):(n(y,p),p=Bl(g,y.mode,b),p.return=y,y=p),a(y)):n(y,p)}return S}var fs=ly(!0),uy=ly(!1),ro=Un(null),so=null,Gr=null,wd=null;function xd(){wd=Gr=so=null}function Sd(t){var e=ro.current;ie(ro),t._currentValue=e}function Qu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function as(t,e){so=t,wd=Gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(wd!==t)if(t={context:t,memoizedValue:e,next:null},Gr===null){if(so===null)throw Error(P(308));Gr=t,so.dependencies={lanes:0,firstContext:t}}else Gr=Gr.next=t;return e}var or=null;function bd(t){or===null?or=[t]:or.push(t)}function cy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bd(e)):(n.next=s.next,s.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sn(t,n)}return s=r.interleaved,s===null?(e.next=e,bd(r)):(e.next=s.next,s.next=e),r.interleaved=e,sn(t,n)}function Na(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ld(t,n)}}function yf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function io(t,e,n,r){var s=t.updateQueue;gn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,f=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,w=o;switch(h=e,f=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=he({},d,h);break e;case 2:gn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yr|=a,t.lanes=a,t.memoizedState=d}}function vf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Bi={},Vt=Un(Bi),xi=Un(Bi),Si=Un(Bi);function lr(t){if(t===Bi)throw Error(P(174));return t}function _d(t,e){switch(ne(Si,e),ne(xi,t),ne(Vt,Bi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ou(e,t)}ie(Vt),ne(Vt,e)}function ps(){ie(Vt),ie(xi),ie(Si)}function hy(t){lr(Si.current);var e=lr(Vt.current),n=Ou(e,t.type);e!==n&&(ne(xi,t),ne(Vt,n))}function Ed(t){xi.current===t&&(ie(Vt),ie(xi))}var ue=Un(0);function ao(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ml=[];function Td(){for(var t=0;t<Ml.length;t++)Ml[t]._workInProgressVersionPrimary=null;Ml.length=0}var Aa=cn.ReactCurrentDispatcher,$l=cn.ReactCurrentBatchConfig,gr=0,de=null,ke=null,Te=null,oo=!1,Qs=!1,bi=0,BS=0;function Ae(){throw Error(P(321))}function Cd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function Pd(t,e,n,r,s,i){if(gr=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Aa.current=t===null||t.memoizedState===null?KS:qS,t=n(r,s),Qs){i=0;do{if(Qs=!1,bi=0,25<=i)throw Error(P(301));i+=1,Te=ke=null,e.updateQueue=null,Aa.current=GS,t=n(r,s)}while(Qs)}if(Aa.current=lo,e=ke!==null&&ke.next!==null,gr=0,Te=ke=de=null,oo=!1,e)throw Error(P(300));return t}function Rd(){var t=bi!==0;return bi=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?de.memoizedState=Te=t:Te=Te.next=t,Te}function xt(){if(ke===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Te===null?de.memoizedState:Te.next;if(e!==null)Te=e,ke=t;else{if(t===null)throw Error(P(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Te===null?de.memoizedState=Te=t:Te=Te.next=t}return Te}function ki(t,e){return typeof e=="function"?e(t):e}function Il(t){var e=xt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((gr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,de.lanes|=c,yr|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Ot(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,de.lanes|=i,yr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fl(t){var e=xt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Ot(i,e.memoizedState)||(Ge=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fy(){}function py(t,e){var n=de,r=xt(),s=e(),i=!Ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,jd(yy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,_i(9,gy.bind(null,n,r,s,e),void 0,null),Ce===null)throw Error(P(349));gr&30||my(n,e,s)}return s}function my(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gy(t,e,n,r){e.value=n,e.getSnapshot=r,vy(e)&&wy(t)}function yy(t,e,n){return n(function(){vy(e)&&wy(t)})}function vy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function wy(t){var e=sn(t,1);e!==null&&jt(e,t,1,-1)}function wf(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},e.queue=t,t=t.dispatch=HS.bind(null,de,t),[e.memoizedState,t]}function _i(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xy(){return xt().memoizedState}function Da(t,e,n,r){var s=Dt();de.flags|=t,s.memoizedState=_i(1|e,n,void 0,r===void 0?null:r)}function Bo(t,e,n,r){var s=xt();r=r===void 0?null:r;var i=void 0;if(ke!==null){var a=ke.memoizedState;if(i=a.destroy,r!==null&&Cd(r,a.deps)){s.memoizedState=_i(e,n,i,r);return}}de.flags|=t,s.memoizedState=_i(1|e,n,i,r)}function xf(t,e){return Da(8390656,8,t,e)}function jd(t,e){return Bo(2048,8,t,e)}function Sy(t,e){return Bo(4,2,t,e)}function by(t,e){return Bo(4,4,t,e)}function ky(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _y(t,e,n){return n=n!=null?n.concat([t]):null,Bo(4,4,ky.bind(null,e,t),n)}function Od(){}function Ey(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ty(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cy(t,e,n){return gr&21?(Ot(n,e)||(n=Ng(),de.lanes|=n,yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function zS(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=$l.transition;$l.transition={};try{t(!1),e()}finally{X=n,$l.transition=r}}function Py(){return xt().memoizedState}function WS(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ry(t))jy(e,n);else if(n=cy(t,e,n,r),n!==null){var s=Be();jt(n,t,r,s),Oy(n,e,r)}}function HS(t,e,n){var r=On(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ry(t))jy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Ot(o,a)){var l=e.interleaved;l===null?(s.next=s,bd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=cy(t,e,s,r),n!==null&&(s=Be(),jt(n,t,r,s),Oy(n,e,r))}}function Ry(t){var e=t.alternate;return t===de||e!==null&&e===de}function jy(t,e){Qs=oo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Oy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ld(t,n)}}var lo={readContext:wt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},KS={readContext:wt,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:xf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Da(4194308,4,ky.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Da(4194308,4,t,e)},useInsertionEffect:function(t,e){return Da(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WS.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:wf,useDebugValue:Od,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=wf(!1),e=t[0];return t=zS.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,s=Dt();if(ae){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ce===null)throw Error(P(349));gr&30||my(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,xf(yy.bind(null,r,i,t),[t]),r.flags|=2048,_i(9,gy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dt(),e=Ce.identifierPrefix;if(ae){var n=Jt,r=Yt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qS={readContext:wt,useCallback:Ey,useContext:wt,useEffect:jd,useImperativeHandle:_y,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Ty,useReducer:Il,useRef:xy,useState:function(){return Il(ki)},useDebugValue:Od,useDeferredValue:function(t){var e=xt();return Cy(e,ke.memoizedState,t)},useTransition:function(){var t=Il(ki)[0],e=xt().memoizedState;return[t,e]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1},GS={readContext:wt,useCallback:Ey,useContext:wt,useEffect:jd,useImperativeHandle:_y,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Ty,useReducer:Fl,useRef:xy,useState:function(){return Fl(ki)},useDebugValue:Od,useDeferredValue:function(t){var e=xt();return ke===null?e.memoizedState=t:Cy(e,ke.memoizedState,t)},useTransition:function(){var t=Fl(ki)[0],e=xt().memoizedState;return[t,e]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1};function _t(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zo={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Be(),s=On(t),i=Xt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Rn(t,i,s),e!==null&&(jt(e,t,s,r),Na(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Be(),s=On(t),i=Xt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Rn(t,i,s),e!==null&&(jt(e,t,s,r),Na(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Be(),r=On(t),s=Xt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Rn(t,s,r),e!==null&&(jt(e,t,r,n),Na(e,t,r))}};function Sf(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!gi(n,r)||!gi(s,i):!0}function Ny(t,e,n){var r=!1,s=Ln,i=e.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=Je(e)?pr:$e.current,r=e.contextTypes,i=(r=r!=null)?ds(t,s):Ln),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function Zu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},kd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=Je(e)?pr:$e.current,s.context=ds(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zo.enqueueReplaceState(s,s.state,null),io(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",r=e;do n+=bx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ul(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ec(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YS=typeof WeakMap=="function"?WeakMap:Map;function Ay(t,e,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){co||(co=!0,cc=r),ec(t,e)},n}function Dy(t,e,n){n=Xt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ec(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ec(t,e),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function kf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=u1.bind(null,t,e,n),e.then(t,t))}function _f(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ef(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xt(-1,1),e.tag=2,Rn(n,e,1))),n.lanes|=1),t)}var JS=cn.ReactCurrentOwner,Ge=!1;function Ue(t,e,n,r){e.child=t===null?uy(e,null,n,r):fs(e,t.child,n,r)}function Tf(t,e,n,r,s){n=n.render;var i=e.ref;return as(e,s),r=Pd(t,e,n,r,i,s),n=Rd(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,an(t,e,s)):(ae&&n&&gd(e),e.flags|=1,Ue(t,e,r,s),e.child)}function Cf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ly(t,e,i,r,s)):(t=Ia(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(a,r)&&t.ref===e.ref)return an(t,e,s)}return e.flags|=1,t=Nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ly(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(gi(i,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,an(t,e,s)}return tc(t,e,n,r,s)}function My(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Jr,rt),rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(Jr,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(Jr,rt),rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ne(Jr,rt),rt|=r;return Ue(t,e,s,n),e.child}function $y(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tc(t,e,n,r,s){var i=Je(n)?pr:$e.current;return i=ds(e,i),as(e,s),n=Pd(t,e,n,r,i,s),r=Rd(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,an(t,e,s)):(ae&&r&&gd(e),e.flags|=1,Ue(t,e,n,s),e.child)}function Pf(t,e,n,r,s){if(Je(n)){var i=!0;eo(e)}else i=!1;if(as(e,s),e.stateNode===null)La(t,e),Ny(e,n,r),Zu(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=Je(n)?pr:$e.current,u=ds(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&bf(e,a,r,u),gn=!1;var h=e.memoizedState;a.state=h,io(e,r,a,s),l=e.memoizedState,o!==r||h!==l||Ye.current||gn?(typeof c=="function"&&(Xu(e,n,c,r),l=e.memoizedState),(o=gn||Sf(e,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:_t(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=wt(l):(l=Je(n)?pr:$e.current,l=ds(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&bf(e,a,r,l),gn=!1,h=e.memoizedState,a.state=h,io(e,r,a,s);var v=e.memoizedState;o!==d||h!==v||Ye.current||gn?(typeof f=="function"&&(Xu(e,n,f,r),v=e.memoizedState),(u=gn||Sf(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nc(t,e,n,r,i,s)}function nc(t,e,n,r,s,i){$y(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ff(e,n,!1),an(t,e,i);r=e.stateNode,JS.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fs(e,t.child,null,i),e.child=fs(e,null,o,i)):Ue(t,e,o,i),e.memoizedState=r.state,s&&ff(e,n,!0),e.child}function Iy(t){var e=t.stateNode;e.pendingContext?hf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hf(t,e.context,!1),_d(t,e.containerInfo)}function Rf(t,e,n,r,s){return hs(),vd(s),e.flags|=256,Ue(t,e,n,r),e.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function sc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fy(t,e,n){var r=e.pendingProps,s=ue.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ne(ue,s&1),t===null)return Ju(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ko(a,r,0,null),t=hr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sc(n),e.memoizedState=rc,t):Nd(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return QS(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Nn(o,i):(i=hr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?sc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=rc,r}return i=t.child,t=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nd(t,e){return e=Ko({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function da(t,e,n,r){return r!==null&&vd(r),fs(e,t.child,null,n),t=Nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QS(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ul(Error(P(422))),da(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ko({mode:"visible",children:r.children},s,0,null),i=hr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fs(e,t.child,null,a),e.child.memoizedState=sc(a),e.memoizedState=rc,i);if(!(e.mode&1))return da(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(P(419)),r=Ul(i,r,void 0),da(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ge||o){if(r=Ce,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sn(t,s),jt(r,t,s,-1))}return Id(),r=Ul(Error(P(421))),da(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=c1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,at=Pn(s.nextSibling),ot=e,ae=!0,Pt=null,t!==null&&(mt[gt++]=Yt,mt[gt++]=Jt,mt[gt++]=mr,Yt=t.id,Jt=t.overflow,mr=e),e=Nd(e,r.children),e.flags|=4096,e)}function jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qu(t.return,e,n)}function Vl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Uy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jf(t,n,e);else if(t.tag===19)jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ao(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ao(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vl(e,!0,n,null,i);break;case"together":Vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function La(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XS(t,e,n){switch(e.tag){case 3:Iy(e),hs();break;case 5:hy(e);break;case 1:Je(e.type)&&eo(e);break;case 4:_d(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ne(ro,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?Fy(t,e,n):(ne(ue,ue.current&1),t=an(t,e,n),t!==null?t.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,My(t,e,n)}return an(t,e,n)}var Vy,ic,By,zy;Vy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ic=function(){};By=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,lr(Vt.current);var i=null;switch(n){case"input":s=Cu(t,s),r=Cu(t,r),i=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":s=ju(t,s),r=ju(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xa)}Nu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ns(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZS(t,e,n){var r=e.pendingProps;switch(yd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return Je(e.type)&&Za(),De(e),null;case 3:return r=e.stateNode,ps(),ie(Ye),ie($e),Td(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(fc(Pt),Pt=null))),ic(t,e),De(e),null;case 5:Ed(e);var s=lr(Si.current);if(n=e.type,t!==null&&e.stateNode!=null)By(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return De(e),null}if(t=lr(Vt.current),ua(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Lt]=e,r[wi]=i,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(s=0;s<zs.length;s++)se(zs[s],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Ih(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":Uh(r,i),se("invalid",r)}Nu(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&la(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&la(r.textContent,o,t),s=["children",""+o]):ui.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&se("scroll",r)}switch(n){case"input":ea(r),Fh(r,i,!0);break;case"textarea":ea(r),Vh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Lt]=e,t[wi]=r,Vy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Au(n,r),n){case"dialog":se("cancel",t),se("close",t),s=r;break;case"iframe":case"object":case"embed":se("load",t),s=r;break;case"video":case"audio":for(s=0;s<zs.length;s++)se(zs[s],t);s=r;break;case"source":se("error",t),s=r;break;case"img":case"image":case"link":se("error",t),se("load",t),s=r;break;case"details":se("toggle",t),s=r;break;case"input":Ih(t,r),s=Cu(t,r),se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),se("invalid",t);break;case"textarea":Uh(t,r),s=ju(t,r),se("invalid",t);break;default:s=r}Nu(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?xg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ci(t,l):typeof l=="number"&&ci(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?l!=null&&i==="onScroll"&&se("scroll",t):l!=null&&nd(t,i,l,a))}switch(n){case"input":ea(t),Fh(t,r,!1);break;case"textarea":ea(t),Vh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ns(t,!!r.multiple,i,!1):r.defaultValue!=null&&ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)zy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=lr(Si.current),lr(Vt.current),ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,(i=r.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:la(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&la(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r}return De(e),null;case 13:if(ie(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&at!==null&&e.mode&1&&!(e.flags&128))oy(),hs(),e.flags|=98560,i=!1;else if(i=ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Lt]=e}else hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else Pt!==null&&(fc(Pt),Pt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Ee===0&&(Ee=3):Id())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return ps(),ic(t,e),t===null&&yi(e.stateNode.containerInfo),De(e),null;case 10:return Sd(e.type._context),De(e),null;case 17:return Je(e.type)&&Za(),De(e),null;case 19:if(ie(ue),i=e.memoizedState,i===null)return De(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ns(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ao(t),a!==null){for(e.flags|=128,Ns(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>gs&&(e.flags|=128,r=!0,Ns(i,!1),e.lanes=4194304)}else{if(!r)if(t=ao(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ae)return De(e),null}else 2*ge()-i.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,Ns(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return $d(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rt&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function e1(t,e){switch(yd(e),e.tag){case 1:return Je(e.type)&&Za(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),ie(Ye),ie($e),Td(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ed(e),null;case 13:if(ie(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(ue),null;case 4:return ps(),null;case 10:return Sd(e.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var ha=!1,Me=!1,t1=typeof WeakSet=="function"?WeakSet:Set,D=null;function Yr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function ac(t,e,n){try{n()}catch(r){me(t,e,r)}}var Of=!1;function n1(t,e){if(zu=Ya,t=Gg(),md(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:t,selectionRange:n},Ya=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,S=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:_t(e.type,w),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){me(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=Of,Of=!1,v}function Xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ac(e,n,i)}s=s.next}while(s!==r)}}function Wo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wy(t){var e=t.alternate;e!==null&&(t.alternate=null,Wy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[wi],delete e[qu],delete e[IS],delete e[FS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hy(t){return t.tag===5||t.tag===3||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xa));else if(r!==4&&(t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}var je=null,Tt=!1;function hn(t,e,n){for(n=n.child;n!==null;)Ky(t,e,n),n=n.sibling}function Ky(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 5:Me||Yr(n,e);case 6:var r=je,s=Tt;je=null,hn(t,e,n),je=r,Tt=s,je!==null&&(Tt?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Tt?(t=je,n=n.stateNode,t.nodeType===8?Dl(t.parentNode,n):t.nodeType===1&&Dl(t,n),pi(t)):Dl(je,n.stateNode));break;case 4:r=je,s=Tt,je=n.stateNode.containerInfo,Tt=!0,hn(t,e,n),je=r,Tt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ac(n,e,a),s=s.next}while(s!==r)}hn(t,e,n);break;case 1:if(!Me&&(Yr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){me(n,e,o)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,hn(t,e,n),Me=r):hn(t,e,n);break;default:hn(t,e,n)}}function Af(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t1),e.forEach(function(r){var s=d1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,Tt=!1;break e;case 3:je=o.stateNode.containerInfo,Tt=!0;break e;case 4:je=o.stateNode.containerInfo,Tt=!0;break e}o=o.return}if(je===null)throw Error(P(160));Ky(i,a,s),je=null,Tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qy(e,t),e=e.sibling}function qy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),At(t),r&4){try{Xs(3,t,t.return),Wo(3,t)}catch(w){me(t,t.return,w)}try{Xs(5,t,t.return)}catch(w){me(t,t.return,w)}}break;case 1:bt(e,t),At(t),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(bt(e,t),At(t),r&512&&n!==null&&Yr(n,n.return),t.flags&32){var s=t.stateNode;try{ci(s,"")}catch(w){me(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mg(s,i),Au(o,a);var u=Au(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?xg(s,d):c==="dangerouslySetInnerHTML"?vg(s,d):c==="children"?ci(s,d):nd(s,c,d,u)}switch(o){case"input":Pu(s,i);break;case"textarea":gg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ns(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?ns(s,!!i.multiple,i.defaultValue,!0):ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(w){me(t,t.return,w)}}break;case 6:if(bt(e,t),At(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){me(t,t.return,w)}}break;case 3:if(bt(e,t),At(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(e.containerInfo)}catch(w){me(t,t.return,w)}break;case 4:bt(e,t),At(t);break;case 13:bt(e,t),At(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ld=ge())),r&4&&Af(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Me=(u=Me)||c,bt(e,t),Me=u):bt(e,t),At(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(d=D=c;D!==null;){switch(h=D,f=h.child,h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:Yr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){me(r,n,w)}}break;case 5:Yr(h,h.return);break;case 22:if(h.memoizedState!==null){Lf(d);continue}}f!==null?(f.return=h,D=f):Lf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wg("display",a))}catch(w){me(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){me(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bt(e,t),At(t),r&4&&Af(t);break;case 21:break;default:bt(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hy(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ci(s,""),r.flags&=-33);var i=Nf(t);uc(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Nf(t);lc(t,o,a);break;default:throw Error(P(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r1(t,e,n){D=t,Gy(t)}function Gy(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ha;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Me;o=ha;var u=Me;if(ha=a,(Me=l)&&!u)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Mf(s):l!==null?(l.return=a,D=l):Mf(s);for(;i!==null;)D=i,Gy(i),i=i.sibling;D=s,ha=o,Me=u}Df(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Df(t)}}function Df(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Me||Wo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_t(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vf(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Me||e.flags&512&&oc(e)}catch(h){me(e,e.return,h)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Lf(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Mf(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wo(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){me(e,s,l)}}var i=e.return;try{oc(e)}catch(l){me(e,i,l)}break;case 5:var a=e.return;try{oc(e)}catch(l){me(e,a,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var s1=Math.ceil,uo=cn.ReactCurrentDispatcher,Ad=cn.ReactCurrentOwner,vt=cn.ReactCurrentBatchConfig,K=0,Ce=null,Se=null,Oe=0,rt=0,Jr=Un(0),Ee=0,Ei=null,yr=0,Ho=0,Dd=0,Zs=null,qe=null,Ld=0,gs=1/0,Kt=null,co=!1,cc=null,jn=null,fa=!1,_n=null,ho=0,ei=0,dc=null,Ma=-1,$a=0;function Be(){return K&6?ge():Ma!==-1?Ma:Ma=ge()}function On(t){return t.mode&1?K&2&&Oe!==0?Oe&-Oe:VS.transition!==null?($a===0&&($a=Ng()),$a):(t=X,t!==0||(t=window.event,t=t===void 0?16:Fg(t.type)),t):1}function jt(t,e,n,r){if(50<ei)throw ei=0,dc=null,Error(P(185));Fi(t,n,r),(!(K&2)||t!==Ce)&&(t===Ce&&(!(K&2)&&(Ho|=n),Ee===4&&xn(t,Oe)),Qe(t,r),n===1&&K===0&&!(e.mode&1)&&(gs=ge()+500,Vo&&Vn()))}function Qe(t,e){var n=t.callbackNode;Vx(t,e);var r=Ga(t,t===Ce?Oe:0);if(r===0)n!==null&&Wh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wh(n),e===1)t.tag===0?US($f.bind(null,t)):sy($f.bind(null,t)),MS(function(){!(K&6)&&Vn()}),n=null;else{switch(Ag(r)){case 1:n=od;break;case 4:n=jg;break;case 16:n=qa;break;case 536870912:n=Og;break;default:n=qa}n=nv(n,Yy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yy(t,e){if(Ma=-1,$a=0,K&6)throw Error(P(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var r=Ga(t,t===Ce?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fo(t,r);else{e=r;var s=K;K|=2;var i=Qy();(Ce!==t||Oe!==e)&&(Kt=null,gs=ge()+500,dr(t,e));do try{o1();break}catch(o){Jy(t,o)}while(!0);xd(),uo.current=i,K=s,Se!==null?e=0:(Ce=null,Oe=0,e=Ee)}if(e!==0){if(e===2&&(s=Iu(t),s!==0&&(r=s,e=hc(t,s))),e===1)throw n=Ei,dr(t,0),xn(t,r),Qe(t,ge()),n;if(e===6)xn(t,r);else{if(s=t.current.alternate,!(r&30)&&!i1(s)&&(e=fo(t,r),e===2&&(i=Iu(t),i!==0&&(r=i,e=hc(t,i))),e===1))throw n=Ei,dr(t,0),xn(t,r),Qe(t,ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Qn(t,qe,Kt);break;case 3:if(xn(t,r),(r&130023424)===r&&(e=Ld+500-ge(),10<e)){if(Ga(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Be(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ku(Qn.bind(null,t,qe,Kt),e);break}Qn(t,qe,Kt);break;case 4:if(xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Rt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s1(r/1960))-r,10<r){t.timeoutHandle=Ku(Qn.bind(null,t,qe,Kt),r);break}Qn(t,qe,Kt);break;case 5:Qn(t,qe,Kt);break;default:throw Error(P(329))}}}return Qe(t,ge()),t.callbackNode===n?Yy.bind(null,t):null}function hc(t,e){var n=Zs;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=fo(t,e),t!==2&&(e=qe,qe=n,e!==null&&fc(e)),t}function fc(t){qe===null?qe=t:qe.push.apply(qe,t)}function i1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ot(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xn(t,e){for(e&=~Dd,e&=~Ho,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rt(e),r=1<<n;t[n]=-1,e&=~r}}function $f(t){if(K&6)throw Error(P(327));os();var e=Ga(t,0);if(!(e&1))return Qe(t,ge()),null;var n=fo(t,e);if(t.tag!==0&&n===2){var r=Iu(t);r!==0&&(e=r,n=hc(t,r))}if(n===1)throw n=Ei,dr(t,0),xn(t,e),Qe(t,ge()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qn(t,qe,Kt),Qe(t,ge()),null}function Md(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(gs=ge()+500,Vo&&Vn())}}function vr(t){_n!==null&&_n.tag===0&&!(K&6)&&os();var e=K;K|=1;var n=vt.transition,r=X;try{if(vt.transition=null,X=1,t)return t()}finally{X=r,vt.transition=n,K=e,!(K&6)&&Vn()}}function $d(){rt=Jr.current,ie(Jr)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LS(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(yd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Za();break;case 3:ps(),ie(Ye),ie($e),Td();break;case 5:Ed(r);break;case 4:ps();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:Sd(r.type._context);break;case 22:case 23:$d()}n=n.return}if(Ce=t,Se=t=Nn(t.current,null),Oe=rt=e,Ee=0,Ei=null,Dd=Ho=yr=0,qe=Zs=null,or!==null){for(e=0;e<or.length;e++)if(n=or[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}or=null}return t}function Jy(t,e){do{var n=Se;try{if(xd(),Aa.current=lo,oo){for(var r=de.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oo=!1}if(gr=0,Te=ke=de=null,Qs=!1,bi=0,Ad.current=null,n===null||n.return===null){Ee=1,Ei=e,Se=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=Oe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=_f(a);if(f!==null){f.flags&=-257,Ef(f,a,o,i,e),f.mode&1&&kf(i,u,e),e=f,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){kf(i,u,e),Id();break e}l=Error(P(426))}}else if(ae&&o.mode&1){var S=_f(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ef(S,a,o,i,e),vd(ms(l,o));break e}}i=l=ms(l,o),Ee!==4&&(Ee=2),Zs===null?Zs=[i]:Zs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Ay(i,l,e);yf(i,y);break e;case 1:o=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(jn===null||!jn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Dy(i,o,e);yf(i,b);break e}}i=i.return}while(i!==null)}Zy(n)}catch(k){e=k,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Qy(){var t=uo.current;return uo.current=lo,t===null?lo:t}function Id(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ce===null||!(yr&268435455)&&!(Ho&268435455)||xn(Ce,Oe)}function fo(t,e){var n=K;K|=2;var r=Qy();(Ce!==t||Oe!==e)&&(Kt=null,dr(t,e));do try{a1();break}catch(s){Jy(t,s)}while(!0);if(xd(),K=n,uo.current=r,Se!==null)throw Error(P(261));return Ce=null,Oe=0,Ee}function a1(){for(;Se!==null;)Xy(Se)}function o1(){for(;Se!==null&&!Nx();)Xy(Se)}function Xy(t){var e=tv(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Zy(t):Se=e,Ad.current=null}function Zy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e1(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,Se=null;return}}else if(n=ZS(n,e,rt),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Ee===0&&(Ee=5)}function Qn(t,e,n){var r=X,s=vt.transition;try{vt.transition=null,X=1,l1(t,e,n,r)}finally{vt.transition=s,X=r}return null}function l1(t,e,n,r){do os();while(_n!==null);if(K&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bx(t,i),t===Ce&&(Se=Ce=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fa||(fa=!0,nv(qa,function(){return os(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var a=X;X=1;var o=K;K|=4,Ad.current=null,n1(t,n),qy(n,t),PS(Wu),Ya=!!zu,Wu=zu=null,t.current=n,r1(n),Ax(),K=o,X=a,vt.transition=i}else t.current=n;if(fa&&(fa=!1,_n=t,ho=s),i=t.pendingLanes,i===0&&(jn=null),Mx(n.stateNode),Qe(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(co)throw co=!1,t=cc,cc=null,t;return ho&1&&t.tag!==0&&os(),i=t.pendingLanes,i&1?t===dc?ei++:(ei=0,dc=t):ei=0,Vn(),null}function os(){if(_n!==null){var t=Ag(ho),e=vt.transition,n=X;try{if(vt.transition=null,X=16>t?16:t,_n===null)var r=!1;else{if(t=_n,_n=null,ho=0,K&6)throw Error(P(331));var s=K;for(K|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Xs(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var h=c.sibling,f=c.return;if(Wy(c),c===u){D=null;break}if(h!==null){h.return=f,D=h;break}D=f}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){a=D;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,D=g;else e:for(a=p;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Wo(9,o)}}catch(k){me(o,o.return,k)}if(o===a){D=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,D=b;break e}D=o.return}}if(K=s,Vn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Mo,t)}catch{}r=!0}return r}finally{X=n,vt.transition=e}}return!1}function If(t,e,n){e=ms(n,e),e=Ay(t,e,1),t=Rn(t,e,1),e=Be(),t!==null&&(Fi(t,1,e),Qe(t,e))}function me(t,e,n){if(t.tag===3)If(t,t,n);else for(;e!==null;){if(e.tag===3){If(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){t=ms(n,t),t=Dy(e,t,1),e=Rn(e,t,1),t=Be(),e!==null&&(Fi(e,1,t),Qe(e,t));break}}e=e.return}}function u1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Be(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(Oe&n)===n&&(Ee===4||Ee===3&&(Oe&130023424)===Oe&&500>ge()-Ld?dr(t,0):Dd|=n),Qe(t,e)}function ev(t,e){e===0&&(t.mode&1?(e=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):e=1);var n=Be();t=sn(t,e),t!==null&&(Fi(t,e,n),Qe(t,n))}function c1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ev(t,n)}function d1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),ev(t,n)}var tv;tv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,XS(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,ae&&e.flags&1048576&&iy(e,no,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;La(t,e),t=e.pendingProps;var s=ds(e,$e.current);as(e,n),s=Pd(null,e,r,t,s,n);var i=Rd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(r)?(i=!0,eo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kd(e),s.updater=zo,e.stateNode=s,s._reactInternals=e,Zu(e,r,t,n),e=nc(null,e,r,!0,i,n)):(e.tag=0,ae&&i&&gd(e),Ue(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(La(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=f1(r),t=_t(r,t),s){case 0:e=tc(null,e,r,t,n);break e;case 1:e=Pf(null,e,r,t,n);break e;case 11:e=Tf(null,e,r,t,n);break e;case 14:e=Cf(null,e,r,_t(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_t(r,s),tc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_t(r,s),Pf(t,e,r,s,n);case 3:e:{if(Iy(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dy(t,e),io(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ms(Error(P(423)),e),e=Rf(t,e,r,n,s);break e}else if(r!==s){s=ms(Error(P(424)),e),e=Rf(t,e,r,n,s);break e}else for(at=Pn(e.stateNode.containerInfo.firstChild),ot=e,ae=!0,Pt=null,n=uy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),r===s){e=an(t,e,n);break e}Ue(t,e,r,n)}e=e.child}return e;case 5:return hy(e),t===null&&Ju(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Hu(r,s)?a=null:i!==null&&Hu(r,i)&&(e.flags|=32),$y(t,e),Ue(t,e,a,n),e.child;case 6:return t===null&&Ju(e),null;case 13:return Fy(t,e,n);case 4:return _d(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):Ue(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_t(r,s),Tf(t,e,r,s,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ne(ro,r._currentValue),r._currentValue=a,i!==null)if(Ot(i.value,a)){if(i.children===s.children&&!Ye.current){e=an(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qu(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Qu(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ue(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,as(e,n),s=wt(s),r=r(s),e.flags|=1,Ue(t,e,r,n),e.child;case 14:return r=e.type,s=_t(r,e.pendingProps),s=_t(r.type,s),Cf(t,e,r,s,n);case 15:return Ly(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_t(r,s),La(t,e),e.tag=1,Je(r)?(t=!0,eo(e)):t=!1,as(e,n),Ny(e,r,s),Zu(e,r,s,n),nc(null,e,r,!0,t,n);case 19:return Uy(t,e,n);case 22:return My(t,e,n)}throw Error(P(156,e.tag))};function nv(t,e){return Rg(t,e)}function h1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new h1(t,e,n,r)}function Fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f1(t){if(typeof t=="function")return Fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sd)return 11;if(t===id)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ia(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Fd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ur:return hr(n.children,s,i,e);case rd:a=8,s|=8;break;case ku:return t=yt(12,n,e,s|2),t.elementType=ku,t.lanes=i,t;case _u:return t=yt(13,n,e,s),t.elementType=_u,t.lanes=i,t;case Eu:return t=yt(19,n,e,s),t.elementType=Eu,t.lanes=i,t;case hg:return Ko(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cg:a=10;break e;case dg:a=9;break e;case sd:a=11;break e;case id:a=14;break e;case mn:a=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=yt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hr(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function Ko(t,e,n,r){return t=yt(22,t,r,e),t.elementType=hg,t.lanes=n,t.stateNode={isHidden:!1},t}function Bl(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function zl(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ud(t,e,n,r,s,i,a,o,l){return t=new p1(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(i),t}function m1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rv(t){if(!t)return Ln;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Je(n))return ry(t,n,e)}return e}function sv(t,e,n,r,s,i,a,o,l){return t=Ud(n,r,!0,t,s,i,a,o,l),t.context=rv(null),n=t.current,r=Be(),s=On(n),i=Xt(r,s),i.callback=e??null,Rn(n,i,s),t.current.lanes=s,Fi(t,s,r),Qe(t,r),t}function qo(t,e,n,r){var s=e.current,i=Be(),a=On(s);return n=rv(n),e.context===null?e.context=n:e.pendingContext=n,e=Xt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rn(s,e,a),t!==null&&(jt(t,s,a,i),Na(t,s,a)),a}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ff(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vd(t,e){Ff(t,e),(t=t.alternate)&&Ff(t,e)}function g1(){return null}var iv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bd(t){this._internalRoot=t}Go.prototype.render=Bd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));qo(t,e,null,null)};Go.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vr(function(){qo(null,t,null,null)}),e[rn]=null}};function Go(t){this._internalRoot=t}Go.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&Ig(t)}};function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function y1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=po(a);i.call(u)}}var a=sv(e,r,t,0,null,!1,!1,"",Uf);return t._reactRootContainer=a,t[rn]=a.current,yi(t.nodeType===8?t.parentNode:t),vr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=po(l);o.call(u)}}var l=Ud(t,0,!1,null,null,!1,!1,"",Uf);return t._reactRootContainer=l,t[rn]=l.current,yi(t.nodeType===8?t.parentNode:t),vr(function(){qo(e,l,n,r)}),l}function Jo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=po(a);o.call(l)}}qo(e,a,t,s)}else a=y1(n,e,t,s,r);return po(a)}Dg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bs(e.pendingLanes);n!==0&&(ld(e,n|1),Qe(e,ge()),!(K&6)&&(gs=ge()+500,Vn()))}break;case 13:vr(function(){var r=sn(t,1);if(r!==null){var s=Be();jt(r,t,1,s)}}),Vd(t,1)}};ud=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Be();jt(e,t,134217728,n)}Vd(t,134217728)}};Lg=function(t){if(t.tag===13){var e=On(t),n=sn(t,e);if(n!==null){var r=Be();jt(n,t,e,r)}Vd(t,e)}};Mg=function(){return X};$g=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};Lu=function(t,e,n){switch(e){case"input":if(Pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uo(r);if(!s)throw Error(P(90));pg(r),Pu(r,s)}}}break;case"textarea":gg(t,n);break;case"select":e=n.value,e!=null&&ns(t,!!n.multiple,e,!1)}};kg=Md;_g=vr;var v1={usingClientEntryPoint:!1,Events:[Vi,Wr,Uo,Sg,bg,Md]},As={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w1={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cg(t),t===null?null:t.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||g1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{Mo=pa.inject(w1),Ut=pa}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(e))throw Error(P(200));return m1(t,e,null,n)};ct.createRoot=function(t,e){if(!zd(t))throw Error(P(299));var n=!1,r="",s=iv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ud(t,1,!1,null,null,n,!1,r,s),t[rn]=e.current,yi(t.nodeType===8?t.parentNode:t),new Bd(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Cg(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return vr(t)};ct.hydrate=function(t,e,n){if(!Yo(e))throw Error(P(200));return Jo(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!zd(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=iv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=sv(e,null,t,1,n??null,s,!1,i,a),t[rn]=e.current,yi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Go(e)};ct.render=function(t,e,n){if(!Yo(e))throw Error(P(200));return Jo(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Yo(t))throw Error(P(40));return t._reactRootContainer?(vr(function(){Jo(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};ct.unstable_batchedUpdates=Md;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yo(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Jo(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(av)}catch(t){console.error(t)}}av(),ag.exports=ct;var x1=ag.exports,Vf=x1;Su.createRoot=Vf.createRoot,Su.hydrateRoot=Vf.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bf="popstate";function S1(t={}){function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return pc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ti(s)}return k1(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function St(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substring(2,10)}function zf(t,e){return{usr:t.state,key:t.key,idx:e}}function pc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:n,key:e&&e.key||r||b1()}}function Ti({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function k1(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function d(){o="POP";let S=c(),y=S==null?null:S-u;u=S,l&&l({action:o,location:w.location,delta:y})}function h(S,y){o="PUSH";let p=pc(w.location,S,y);u=c()+1;let g=zf(p,u),b=w.createHref(p);try{a.pushState(g,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}i&&l&&l({action:o,location:w.location,delta:1})}function f(S,y){o="REPLACE";let p=pc(w.location,S,y);u=c();let g=zf(p,u),b=w.createHref(p);a.replaceState(g,"",b),i&&l&&l({action:o,location:w.location,delta:0})}function v(S){return _1(S)}let w={get action(){return o},get location(){return t(s,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Bf,d),l=S,()=>{s.removeEventListener(Bf,d),l=null}},createHref(S){return e(s,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(S){return a.go(S)}};return w}function _1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ti(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ov(t,e,n="/"){return E1(t,e,n,!1)}function E1(t,e,n,r){let s=typeof e=="string"?ks(e):e,i=on(s.pathname||"/",n);if(i==null)return null;let a=lv(t);T1(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=$1(i);o=L1(a[l],u,r)}return o}function lv(t,e=[],n=[],r="",s=!1){let i=(a,o,l=s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;oe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Zt([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(oe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lv(a.children,e,h,d,l)),!(a.path==null&&!a.index)&&e.push({path:d,score:A1(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of uv(a.path))i(a,o,!0,u)}),e}function uv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=uv(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function T1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C1=/^:[\w-]+$/,P1=3,R1=2,j1=1,O1=10,N1=-2,Wf=t=>t==="*";function A1(t,e){let n=t.split("/"),r=n.length;return n.some(Wf)&&(r+=N1),e&&(r+=R1),n.filter(s=>!Wf(s)).reduce((s,i)=>s+(C1.test(i)?P1:i===""?j1:O1),r)}function D1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function L1(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=mo({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=mo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Zt([i,d.pathname]),pathnameBase:V1(Zt([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Zt([i,d.pathnameBase]))}return a}function mo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=o[h];return d&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function M1(t,e=!1,n=!0){St(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return St(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function on(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=t=>cv.test(t);function F1(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ks(t):t,i;if(n)if(I1(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),St(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?i=Hf(n.substring(1),"/"):i=Hf(n,e)}else i=e;return{pathname:i,search:B1(r),hash:z1(s)}}function Hf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wl(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wd(t){let e=U1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hd(t,e,n,r=!1){let s;typeof t=="string"?s=ks(t):(s={...t},oe(!s.pathname||!s.pathname.includes("?"),Wl("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),Wl("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),Wl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=F1(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Zt=t=>t.join("/").replace(/\/\/+/g,"/"),V1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,W1=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function H1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function K1(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hv(t,e){let n=t;if(typeof n!="string"||!cv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(dv)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=on(a.pathname,e);a.origin===i.origin&&o!=null?n=o+a.search+a.hash:s=!0}catch{St(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fv=["POST","PUT","PATCH","DELETE"];new Set(fv);var q1=["GET",...fv];new Set(q1);var _s=x.createContext(null);_s.displayName="DataRouter";var Qo=x.createContext(null);Qo.displayName="DataRouterState";var G1=x.createContext(!1),pv=x.createContext({isTransitioning:!1});pv.displayName="ViewTransition";var Y1=x.createContext(new Map);Y1.displayName="Fetchers";var J1=x.createContext(null);J1.displayName="Await";var ht=x.createContext(null);ht.displayName="Navigation";var zi=x.createContext(null);zi.displayName="Location";var Nt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Nt.displayName="Route";var Kd=x.createContext(null);Kd.displayName="RouteError";var mv="REACT_ROUTER_ERROR",Q1="REDIRECT",X1="ROUTE_ERROR_RESPONSE";function Z1(t){if(t.startsWith(`${mv}:${Q1}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eb(t){if(t.startsWith(`${mv}:${X1}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W1(e.status,e.statusText,e.data)}catch{}}function tb(t,{relative:e}={}){oe(Es(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ht),{hash:s,pathname:i,search:a}=Wi(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Zt([n,i])),r.createHref({pathname:o,search:a,hash:s})}function Es(){return x.useContext(zi)!=null}function Bn(){return oe(Es(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(zi).location}var gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yv(t){x.useContext(ht).static||x.useLayoutEffect(t)}function qd(){let{isDataRoute:t}=x.useContext(Nt);return t?gb():nb()}function nb(){oe(Es(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(_s),{basename:e,navigator:n}=x.useContext(ht),{matches:r}=x.useContext(Nt),{pathname:s}=Bn(),i=JSON.stringify(Wd(r)),a=x.useRef(!1);return yv(()=>{a.current=!0}),x.useCallback((l,u={})=>{if(St(a.current,gv),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=Hd(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zt([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}var rb=x.createContext(null);function sb(t){let e=x.useContext(Nt).outlet;return x.useMemo(()=>e&&x.createElement(rb.Provider,{value:t},e),[e,t])}function Wi(t,{relative:e}={}){let{matches:n}=x.useContext(Nt),{pathname:r}=Bn(),s=JSON.stringify(Wd(n));return x.useMemo(()=>Hd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function ib(t,e){return vv(t,e)}function vv(t,e,n,r,s){var p;oe(Es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(ht),{matches:a}=x.useContext(Nt),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let g=d&&d.path||"";xv(u,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Bn(),f;if(e){let g=typeof e=="string"?ks(e):e;oe(c==="/"||((p=g.pathname)==null?void 0:p.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${g.pathname}" was given in the \`location\` prop.`),f=g}else f=h;let v=f.pathname||"/",w=v;if(c!=="/"){let g=c.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=ov(t,{pathname:w});St(d||S!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),St(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=cb(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Zt([c,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Zt([c,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),a,n,r,s);return e&&y?x.createElement(zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function ab(){let t=mb(),e=H1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,a)}var ob=x.createElement(ab,null),wv=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=eb(t.digest);n&&(t=n)}let e=t!==void 0?x.createElement(Nt.Provider,{value:this.props.routeContext},x.createElement(Kd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?x.createElement(lb,{error:t},e):e}};wv.contextType=G1;var Hl=new WeakMap;function lb({children:t,error:e}){let{basename:n}=x.useContext(ht);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Z1(e.digest);if(r){let s=Hl.get(e);if(s)throw s;let i=hv(r.location,n);if(dv&&!Hl.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Hl.set(e,a),a}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function ub({routeContext:t,match:e,children:n}){let r=x.useContext(_s);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Nt.Provider,{value:t},n)}function cb(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);oe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=n&&r?(c,d)=>{var h,f;r(c,{location:n.location,params:((f=(h=n.matches)==null?void 0:h[0])==null?void 0:f.params)??{},unstable_pattern:K1(n.matches),errorInfo:d})}:void 0;return i.reduceRight((c,d,h)=>{let f,v=!1,w=null,S=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||ob,o&&(l<0&&h===0?(xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):l===h&&(v=!0,S=d.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,h+1)),p=()=>{let g;return f?g=w:v?g=S:d.route.Component?g=x.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,x.createElement(ub,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(wv,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):p()},null)}function Gd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function db(t){let e=x.useContext(_s);return oe(e,Gd(t)),e}function hb(t){let e=x.useContext(Qo);return oe(e,Gd(t)),e}function fb(t){let e=x.useContext(Nt);return oe(e,Gd(t)),e}function Yd(t){let e=fb(t),n=e.matches[e.matches.length-1];return oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pb(){return Yd("useRouteId")}function mb(){var r;let t=x.useContext(Kd),e=hb("useRouteError"),n=Yd("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gb(){let{router:t}=db("useNavigate"),e=Yd("useNavigate"),n=x.useRef(!1);return yv(()=>{n.current=!0}),x.useCallback(async(s,i={})=>{St(n.current,gv),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Kf={};function xv(t,e,n){!e&&!Kf[t]&&(Kf[t]=!0,St(!1,n))}x.memo(yb);function yb({routes:t,future:e,state:n,onError:r}){return vv(t,void 0,n,r,e)}function Kl({to:t,replace:e,state:n,relative:r}){oe(Es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(ht);St(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(Nt),{pathname:a}=Bn(),o=qd(),l=Hd(t,Wd(i),a,r==="path"),u=JSON.stringify(l);return x.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function vb(t){return sb(t.context)}function Ht(t){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){oe(!Es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof n=="string"&&(n=ks(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,v=x.useMemo(()=>{let w=on(u,o);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:f},navigationType:r}},[o,u,c,d,h,f,r]);return St(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(ht.Provider,{value:l},x.createElement(zi.Provider,{children:e,value:v}))}function xb({children:t,location:e}){return ib(mc(t),e)}function mc(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,mc(r.props.children,i));return}oe(r.type===Ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mc(r.props.children,i)),n.push(a)}),n}var Fa="get",Ua="application/x-www-form-urlencoded";function Xo(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Sb(t){return Xo(t)&&t.tagName.toLowerCase()==="button"}function bb(t){return Xo(t)&&t.tagName.toLowerCase()==="form"}function kb(t){return Xo(t)&&t.tagName.toLowerCase()==="input"}function _b(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Eb(t,e){return t.button===0&&(!e||e==="_self")&&!_b(t)}var ma=null;function Tb(){if(ma===null)try{new FormData(document.createElement("form"),0),ma=!1}catch{ma=!0}return ma}var Cb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ql(t){return t!=null&&!Cb.has(t)?(St(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ua}"`),null):t}function Pb(t,e){let n,r,s,i,a;if(bb(t)){let o=t.getAttribute("action");r=o?on(o,e):null,n=t.getAttribute("method")||Fa,s=ql(t.getAttribute("enctype"))||Ua,i=new FormData(t)}else if(Sb(t)||kb(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?on(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Fa,s=ql(t.getAttribute("formenctype"))||ql(o.getAttribute("enctype"))||Ua,i=new FormData(o,t),!Tb()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,d)}}else{if(Xo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fa,r=null,s=Ua,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rb(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&on(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function jb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ob(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Nb(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await jb(i,n);return a.links?a.links():[]}return[]}));return Mb(r.flat(1).filter(Ob).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qf(t,e,n,r,s,i){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Ab(t,e,{includeHydrateFallback:n}={}){return Db(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Db(t){return[...new Set(t)]}function Lb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Mb(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Lb(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Sv(){let t=x.useContext(_s);return Jd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $b(){let t=x.useContext(Qo);return Jd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qd=x.createContext(void 0);Qd.displayName="FrameworkContext";function bv(){let t=x.useContext(Qd);return Jd(t,"You must render this element inside a <HydratedRouter> element"),t}function Ib(t,e){let n=x.useContext(Qd),[r,s]=x.useState(!1),[i,a]=x.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=x.useRef(null);x.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=y=>{y.forEach(p=>{a(p.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[t]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let f=()=>{s(!0)},v=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Ds(o,f),onBlur:Ds(l,v),onMouseEnter:Ds(u,f),onMouseLeave:Ds(c,v),onTouchStart:Ds(d,f)}]:[!1,h,{}]}function Ds(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Fb({page:t,...e}){let{router:n}=Sv(),r=x.useMemo(()=>ov(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(Vb,{page:t,matches:r,...e}):null}function Ub(t){let{manifest:e,routeModules:n}=bv(),[r,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return Nb(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function Vb({page:t,matches:e,...n}){let r=Bn(),{future:s,manifest:i,routeModules:a}=bv(),{basename:o}=Sv(),{loaderData:l,matches:u}=$b(),c=x.useMemo(()=>qf(t,e,u,i,r,"data"),[t,e,u,i,r]),d=x.useMemo(()=>qf(t,e,u,i,r,"assets"),[t,e,u,i,r]),h=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(p=>{var b;let g=i.routes[p.route.id];!g||!g.hasLoader||(!c.some(k=>k.route.id===p.route.id)&&p.route.id in l&&((b=a[p.route.id])!=null&&b.shouldRevalidate)||g.hasClientLoader?S=!0:w.add(p.route.id))}),w.size===0)return[];let y=Rb(t,o,s.unstable_trailingSlashAwareDataRequests,"data");return S&&w.size>0&&y.searchParams.set("_routes",e.filter(p=>w.has(p.route.id)).map(p=>p.route.id).join(",")),[y.pathname+y.search]},[o,s.unstable_trailingSlashAwareDataRequests,l,r,i,c,e,t,a]),f=x.useMemo(()=>Ab(d,i),[d,i]),v=Ub(d);return x.createElement(x.Fragment,null,h.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:S})=>x.createElement("link",{key:w,nonce:n.nonce,...S})))}function Bb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zb&&(window.__reactRouterVersion="7.12.0")}catch{}function Wb({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=x.useRef();s.current==null&&(s.current=S1({window:r,v5Compat:!0}));let i=s.current,[a,o]=x.useState({action:i.action,location:i.location}),l=x.useCallback(u=>{n===!1?o(u):x.startTransition(()=>o(u))},[n]);return x.useLayoutEffect(()=>i.listen(l),[i,l]),x.createElement(wb,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_v=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h,...f},v){let{basename:w,unstable_useTransitions:S}=x.useContext(ht),y=typeof u=="string"&&kv.test(u),p=hv(u,w);u=p.to;let g=tb(u,{relative:s}),[b,k,_]=Ib(r,f),E=qb(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:S});function T(C){e&&e(C),C.defaultPrevented||E(C)}let j=x.createElement("a",{...f,..._,href:p.absoluteURL||g,onClick:p.isExternal||i?e:T,ref:Bb(v,k),target:l,"data-discover":!y&&n==="render"?"true":void 0});return b&&!y?x.createElement(x.Fragment,null,j,x.createElement(Fb,{page:g})):j});_v.displayName="Link";var gc=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},c){let d=Wi(a,{relative:u.relative}),h=Bn(),f=x.useContext(Qo),{navigator:v,basename:w}=x.useContext(ht),S=f!=null&&Xb(d)&&o===!0,y=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,p=h.pathname,g=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(p=p.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase()),g&&w&&(g=on(g,w)||g);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=p===y||!s&&p.startsWith(y)&&p.charAt(b)==="/",_=g!=null&&(g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/"),E={isActive:k,isPending:_,isTransitioning:S},T=k?e:void 0,j;typeof r=="function"?j=r(E):j=[r,k?"active":null,_?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(E):i;return x.createElement(_v,{...u,"aria-current":T,className:j,ref:c,style:C,to:a,viewTransition:o},typeof l=="function"?l(E):l)});gc.displayName="NavLink";var Hb=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Fa,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h,...f},v)=>{let{unstable_useTransitions:w}=x.useContext(ht),S=Jb(),y=Qb(o,{relative:u}),p=a.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&kv.test(o),b=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,E=(_==null?void 0:_.getAttribute("formmethod"))||a,T=()=>S(_||k.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h});w&&n!==!1?x.startTransition(()=>T()):T()};return x.createElement("form",{ref:v,method:p,action:y,onSubmit:r?l:b,...f,"data-discover":!g&&t==="render"?"true":void 0})});Hb.displayName="Form";function Kb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ev(t){let e=x.useContext(_s);return oe(e,Kb(t)),e}function qb(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=qd(),c=Bn(),d=Wi(t,{relative:i});return x.useCallback(h=>{if(Eb(h,e)){h.preventDefault();let f=n!==void 0?n:Ti(c)===Ti(d),v=()=>u(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});l?x.startTransition(()=>v()):v()}},[c,u,d,n,r,e,t,s,i,a,o,l])}var Gb=0,Yb=()=>`__${String(++Gb)}__`;function Jb(){let{router:t}=Ev("useSubmit"),{basename:e}=x.useContext(ht),n=pb(),r=t.fetch,s=t.navigate;return x.useCallback(async(i,a={})=>{let{action:o,method:l,encType:u,formData:c,body:d}=Pb(i,e);if(a.navigate===!1){let h=a.fetcherKey||Yb();await r(h,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,s,e,n])}function Qb(t,{relative:e}={}){let{basename:n}=x.useContext(ht),r=x.useContext(Nt);oe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Wi(t||".",{relative:e})},a=Bn();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let c=o.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Zt([n,i.pathname])),Ti(i)}function Xb(t,{relative:e}={}){let n=x.useContext(pv);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ev("useViewTransitionState"),s=Wi(t,{relative:e});if(!n.isTransitioning)return!1;let i=on(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=on(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mo(s.pathname,a)!=null||mo(s.pathname,i)!=null}let Zb={data:""},ek=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Zb},tk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nk=/\/\*[^]*?\*\/|  +/g,Gf=/\n+/g,Sn=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Sn(a,i):i+"{"+Sn(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Sn(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Sn.p?Sn.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Wt={},Tv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Tv(t[n]);return e}return t},rk=(t,e,n,r,s)=>{let i=Tv(t),a=Wt[i]||(Wt[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!Wt[a]){let l=i!==t?t:(u=>{let c,d,h=[{}];for(;c=tk.exec(u.replace(nk,""));)c[4]?h.shift():c[3]?(d=c[3].replace(Gf," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(Gf," ").trim();return h[0]})(t);Wt[a]=Sn(s?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Wt.g?Wt.g:null;return n&&(Wt.g=Wt[a]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Wt[a],e,r,o),a},sk=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Sn(o,""):o===!1?"":o}return r+s+(a??"")},"");function Zo(t){let e=this||{},n=t.call?t(e.p):t;return rk(n.unshift?n.raw?sk(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,ek(e.target),e.g,e.o,e.k)}let Cv,yc,vc;Zo.bind({g:1});let ln=Zo.bind({k:1});function ik(t,e,n,r){Sn.p=e,Cv=t,yc=n,vc=r}function zn(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:yc&&yc()},o),n.o=/ *go\d+/.test(l),o.className=Zo.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),vc&&u[0]&&vc(o),Cv(u,o)}return s}}var ak=t=>typeof t=="function",go=(t,e)=>ak(t)?t(e):t,ok=(()=>{let t=0;return()=>(++t).toString()})(),Pv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lk=20,Xd="default",Rv=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Rv(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Va=[],jv={toasts:[],pausedAt:void 0,settings:{toastLimit:lk}},It={},Ov=(t,e=Xd)=>{It[e]=Rv(It[e]||jv,t),Va.forEach(([n,r])=>{n===e&&r(It[e])})},Nv=t=>Object.keys(It).forEach(e=>Ov(t,e)),uk=t=>Object.keys(It).find(e=>It[e].toasts.some(n=>n.id===t)),el=(t=Xd)=>e=>{Ov(e,t)},ck={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dk=(t={},e=Xd)=>{let[n,r]=x.useState(It[e]||jv),s=x.useRef(It[e]);x.useEffect(()=>(s.current!==It[e]&&r(It[e]),Va.push([e,r]),()=>{let a=Va.findIndex(([o])=>o===e);a>-1&&Va.splice(a,1)}),[e]);let i=n.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||ck[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:i}},hk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||ok()}),Hi=t=>(e,n)=>{let r=hk(e,t,n);return el(r.toasterId||uk(r.id))({type:2,toast:r}),r.id},_e=(t,e)=>Hi("blank")(t,e);_e.error=Hi("error");_e.success=Hi("success");_e.loading=Hi("loading");_e.custom=Hi("custom");_e.dismiss=(t,e)=>{let n={type:3,toastId:t};e?el(e)(n):Nv(n)};_e.dismissAll=t=>_e.dismiss(void 0,t);_e.remove=(t,e)=>{let n={type:4,toastId:t};e?el(e)(n):Nv(n)};_e.removeAll=t=>_e.remove(void 0,t);_e.promise=(t,e,n)=>{let r=_e.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?go(e.success,s):void 0;return i?_e.success(i,{id:r,...n,...n==null?void 0:n.success}):_e.dismiss(r),s}).catch(s=>{let i=e.error?go(e.error,s):void 0;i?_e.error(i,{id:r,...n,...n==null?void 0:n.error}):_e.dismiss(r)}),t};var fk=1e3,pk=(t,e="default")=>{let{toasts:n,pausedAt:r}=dk(t,e),s=x.useRef(new Map).current,i=x.useCallback((d,h=fk)=>{if(s.has(d))return;let f=setTimeout(()=>{s.delete(d),a({type:4,toastId:d})},h);s.set(d,f)},[]);x.useEffect(()=>{if(r)return;let d=Date.now(),h=n.map(f=>{if(f.duration===1/0)return;let v=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(v<0){f.visible&&_e.dismiss(f.id);return}return setTimeout(()=>_e.dismiss(f.id,e),v)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[n,r,e]);let a=x.useCallback(el(e),[e]),o=x.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=x.useCallback((d,h)=>{a({type:1,toast:{id:d,height:h}})},[a]),u=x.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),c=x.useCallback((d,h)=>{let{reverseOrder:f=!1,gutter:v=8,defaultPosition:w}=h||{},S=n.filter(g=>(g.position||w)===(d.position||w)&&g.height),y=S.findIndex(g=>g.id===d.id),p=S.filter((g,b)=>b<y&&g.visible).length;return S.filter(g=>g.visible).slice(...f?[p+1]:[0,p]).reduce((g,b)=>g+(b.height||0)+v,0)},[n]);return x.useEffect(()=>{n.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let h=s.get(d.id);h&&(clearTimeout(h),s.delete(d.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},mk=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gk=ln`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yk=ln`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vk=zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wk=ln`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xk=zn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wk} 1s linear infinite;
`,Sk=ln`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bk=ln`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kk=zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Sk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_k=zn("div")`
  position: absolute;
`,Ek=zn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Tk=ln`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ck=zn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Tk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Pk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?x.createElement(Ck,null,e):e:n==="blank"?null:x.createElement(Ek,null,x.createElement(xk,{...r}),n!=="loading"&&x.createElement(_k,null,n==="error"?x.createElement(vk,{...r}):x.createElement(kk,{...r})))},Rk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Ok="0%{opacity:0;} 100%{opacity:1;}",Nk="0%{opacity:1;} 100%{opacity:0;}",Ak=zn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Dk=zn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Lk=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Pv()?[Ok,Nk]:[Rk(n),jk(n)];return{animation:e?`${ln(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ln(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Mk=x.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Lk(t.position||e||"top-center",t.visible):{opacity:0},i=x.createElement(Pk,{toast:t}),a=x.createElement(Dk,{...t.ariaProps},go(t.message,t));return x.createElement(Ak,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):x.createElement(x.Fragment,null,i,a))});ik(x.createElement);var $k=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=x.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return x.createElement("div",{ref:i,className:e,style:n},s)},Ik=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Fk=Zo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ga=16,Uk=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=pk(n,i);return x.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ga,left:ga,right:ga,bottom:ga,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=Ik(d,h);return x.createElement($k,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Fk:"",style:f},c.type==="custom"?go(c.message,c):s?s(c):x.createElement(Mk,{toast:c,position:d}))}))},fe=_e;function tl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Vk(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const Bk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zd extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class zk extends Zd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yf extends Zd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jf extends Zd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wc||(wc={}));class Wk{constructor(e,{headers:n={},customFetch:r,region:s=wc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Bk(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Vk(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let S=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(S=a.signal,c.addEventListener("abort",()=>a.abort())):S=a.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:w,signal:S}).catch(k=>{throw new zk(k)}),p=y.headers.get("x-relay-error");if(p&&p==="true")throw new Yf(y);if(!y.ok)throw new Jf(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield y.json():g==="application/octet-stream"||g==="application/pdf"?b=yield y.blob():g==="text/event-stream"?b=y:g==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Jf||o instanceof Yf?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Hk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Kk=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var f;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const w=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Hk(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,w&&(o+=` (${w})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var f;o=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},qk=class extends Kk{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Qf=new RegExp("[,()]");var Mr=class extends qk{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Qf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Qf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Gk=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new Mr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Mr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new Mr({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Mr({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Mr({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Yk=class Av{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gk(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Av(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),d=r&&Object.values(n).some(c);d?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{l.searchParams.append(f,v)})):(o="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Mr({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Jk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qk="2.90.1",Xk=`realtime-js/${Qk}`,Dv="1.0.0",Zk="2.0.0",Xf=Dv,xc=1e4,e_=1e3,t_=100;var yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yn||(yn={}));var be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(be||(be={}));var Ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ct||(Ct={}));var Sc;(function(t){t.websocket="websocket"})(Sc||(Sc={}));var sr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sr||(sr={}));class n_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(f),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,o.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,d.length),v.setUint8(w++,n),Array.from(l,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(w++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(w++,y.charCodeAt(0)));var S=new Uint8Array(f.byteLength+r.byteLength);return S.set(new Uint8Array(f),0),S.set(new Uint8Array(r),f.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:f};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Lv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const Zf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=r_(a,t,e,s),i),{}):{}},r_=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Mv(i,a):bc(a)},Mv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return o_(e,n)}switch(t){case te.bool:return s_(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return i_(e);case te.json:case te.jsonb:return a_(e);case te.timestamp:return l_(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return bc(e);default:return bc(e)}},bc=t=>t,s_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},o_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Mv(e,o))}return t},l_=t=>typeof t=="string"?t.replace(" ","T"):t,$v=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Gl{constructor(e,n,r={},s=xc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ep;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ep||(ep={}));class ti{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ti.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ti.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ti.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const h=c.map(S=>S.presence_ref),f=d.map(S=>S.presence_ref),v=c.filter(S=>f.indexOf(S.presence_ref)<0),w=d.filter(S=>h.indexOf(S.presence_ref)<0);v.length>0&&(o[u]=v),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const d=e[o].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}r(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tp||(tp={}));var ni;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ni||(ni={}));var qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class Qr{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ti(this),this.broadcastEndpointURL=$v(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ni.PRESENCE]&&this.bindings[ni.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(qt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(qt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,y=[];for(let p=0;p<S;p++){const g=w[p],{filter:{event:b,schema:k,table:_,filter:E}}=g,T=f&&f[p];if(T&&T.event===b&&Qr.isFilterValueEqual(T.schema,k)&&Qr.isFilterValueEqual(T.table,_)&&Qr.isFilterValueEqual(T.filter,E))y.push(Object.assign(Object.assign({},g),{id:T.id}));else{this.unsubscribe(),this.state=be.errored,e==null||e(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(qt.SUBSCRIBED);return}}).receive("error",f=>{this.state=be.errored,e==null||e(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===be.joined&&e===ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Gl(this,Ct.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>t_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Ct;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,w,S;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(w=f.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(f=>f.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,w,S,y,p,g,b,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const _=f.id,E=(v=f.filter)===null||v===void 0?void 0:v.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((y=f.filter)===null||y===void 0)&&y.table)||f.filter.table===((p=n.data)===null||p===void 0?void 0:p.table))}else{const _=(b=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:S,commit_timestamp:y,type:p,errors:g}=v;h=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:y,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qr.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ct.close,{},e)}_onError(e){this._on(Ct.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zf(e.columns,e.old_record)),n}}const Yl=()=>{},ya={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u_=[1e3,2e3,5e3,1e4],c_=1e4,d_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h_{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xc,this.transport=null,this.heartbeatIntervalMs=ya.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yl,this.ref=0,this.reconnectTimer=null,this.vsn=Xf,this.logger=Yl,this.conn=null,this.sendBuffer=[],this.serializer=new n_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sc.websocket}`,this.httpEndpoint=$v(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return sr.Connecting;case yn.open:return sr.Open;case yn.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Qr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(e_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ya.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yn.open||this.conn.readyState===yn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ct.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([d_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Xk};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ya.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,l,u,c,d,h,f;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:xc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ya.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Yl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Xf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>u_[v-1]||c_,this.vsn){case Dv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case Zk:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ci=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function f_(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function p_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function m_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=f_(t.baseUrl,r,s),l=await p_(t.auth),u=await e(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const f=d?h:void 0,v=f==null?void 0:f.error;throw new Ci((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function va(t){return t.join("")}var g_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:va(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${va(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${va(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${va(t.namespace)}`}),!0}catch(e){if(e instanceof Ci&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ci&&n.status===409)return;throw n}}};function Tr(t){return t.join("")}var y_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ci&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ci&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},v_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=m_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new g_(this.client,e),this.tableOps=new y_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},nl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var w_=class extends nl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kc=class extends nl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const eh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x_=()=>Response,_c=t=>{if(Array.isArray(t))return t.map(n=>_c(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=_c(r)}),e},S_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Pi(t){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(t)}function k_(t,e){if(Pi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __(t){var e=k_(t,"string");return Pi(e)=="symbol"?e:e+""}function E_(t,e,n){return(e=__(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?np(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Jl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},T_=async(t,e,n)=>{t instanceof await x_()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new w_(Jl(r),s,i))}).catch(r=>{e(new kc(Jl(r),r))}):e(new kc(Jl(t),t))},C_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(S_(r)?(s.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),F(F({},s),n))};async function Ki(t,e,n,r,s,i){return new Promise((a,o)=>{t(n,C_(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>T_(l,o,r))})}async function Ri(t,e,n,r){return Ki(t,"GET",e,n,r)}async function Et(t,e,n,r,s){return Ki(t,"POST",e,r,s,n)}async function Ec(t,e,n,r,s){return Ki(t,"PUT",e,r,s,n)}async function P_(t,e,n,r){return Ki(t,"HEAD",e,F(F({},n),{},{noResolveJson:!0}),r)}async function th(t,e,n,r,s){return Ki(t,"DELETE",e,r,s,n)}var R_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}}};let Iv;Iv=Symbol.toStringTag;var j_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Iv]="BlobDownloadBuilder",this.promise=null}asStream(){return new R_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}}};const O_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var N_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const a=F(F({},rp),r);let o=F(F({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=F(F({},o),r.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?Ec:Et)(s.fetch,`${s.url}/object/${c}`,i,F({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const u=F({upsert:rp.upsert},r),c=F(F({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ec(s.fetch,o.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(le(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=F({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Et(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new nl("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Et(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await Et(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await Et(r.fetch,`${r.url}/object/sign/${s}`,F({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await Et(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>F(F({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),a=()=>Ri(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new j_(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:_c(await Ri(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await P_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(le(r)&&r instanceof kc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await th(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=F(F(F({},O_),e),{},{prefix:t||""});return{data:await Et(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=F({},t);return{data:await Et(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Fv="2.90.1",Uv={"X-Client-Info":`storage-js/${Fv}`};var A_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=F(F({},Uv),e),this.fetch=eh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Ri(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ri(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Et(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Ec(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Et(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await th(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},D_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},Uv),e),this.fetch=eh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Et(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Ri(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await th(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!b_(t))throw new nl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new v_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const nh={"X-Client-Info":`storage-js/${Fv}`,"Content-Type":"application/json"};var Vv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function st(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ql=class extends Vv{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},L_=class extends Vv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const rh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$_=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new Ql(sp(i),r,a))}).catch(()=>{const i=r+"";e(new Ql(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new Ql(s.statusText||`HTTP ${r} error`,r,i))}}else e(new L_(sp(t),t))},I_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(M_(r)?(s.headers=F({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,F(F({},s),n)):s};async function F_(t,e,n,r,s,i){return new Promise((a,o)=>{t(n,I_(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>$_(l,o,r))})}async function it(t,e,n,r,s){return F_(t,"POST",e,r,s,n)}var U_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},nh),e),this.fetch=rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await it(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await it(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}}},V_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},nh),e),this.fetch=rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await it(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await it(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await it(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}},B_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=F(F({},nh),e),this.fetch=rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await it(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await it(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}}},z_=class extends B_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new W_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},W_=class extends U_{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new H_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},H_=class extends V_{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,F(F({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},K_=class extends A_{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new N_(this.url,this.headers,t,this.fetch)}get vectors(){return new z_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D_(this.url+"/iceberg",this.headers,this.fetch)}};const Bv="2.90.1",$r=30*1e3,Tc=3,Xl=Tc*$r,q_="http://localhost:9999",G_="supabase.auth.token",Y_={"X-Client-Info":`gotrue-js/${Bv}`},Cc="X-Supabase-Api-Version",zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q_=10*60*1e3;class ji extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class X_ extends ji{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Z_(t){return M(t)&&t.name==="AuthApiError"}class ir extends ji{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dn extends ji{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class nt extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eE(t){return M(t)&&t.name==="AuthSessionMissingError"}class Cr extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wa extends dn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xa extends dn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tE(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class ip extends dn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nE extends dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pc extends dn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Zl(t){return M(t)&&t.name==="AuthRetryableFetchError"}class ap extends dn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rc extends dn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),op=` 	
\r=`.split(""),rE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<op.length;e+=1)t[op[e].charCodeAt(0)]=-2;for(let e=0;e<yo.length;e+=1)t[yo[e].charCodeAt(0)]=e;return t})();function lp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(yo[r]),e.queuedBits-=6}}function Wv(t,e,n){const r=rE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function up(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{aE(a,r,n)};for(let a=0;a<t.length;a+=1)Wv(t.charCodeAt(a),s,i);return e.join("")}function sE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}sE(r,e)}}function aE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ls(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function oE(t){const e=[];return iE(t,n=>e.push(n)),new Uint8Array(e)}function ur(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>lp(s,n,r)),lp(null,n,r),e.join("")}function lE(t){return Math.round(Date.now()/1e3)+t}function uE(){return Symbol("auth-callback")}const Re=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},Hv=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function cE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Kv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pe=async(t,e)=>{await t.removeItem(e)};class rl{constructor(){this.promise=new rl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rl.promiseConstructor=Promise;function eu(t){const e=t.split(".");if(e.length!==3)throw new Rc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!J_.test(e[r]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(up(e[0])),payload:JSON.parse(up(e[1])),signature:ls(e[2]),raw:{header:e[0],payload:e[1]}}}async function hE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function pE(t){return("0"+t.toString(16)).substr(-2)}function mE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,pE).join("")}async function gE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,e,n=!1){const r=mE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const i=await yE(r);return[i,r===i?"plain":"s256"]}const vE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wE(t){const e=t.headers.get(Cc);if(!e||!e.match(vE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function SE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(t){if(!bE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kE(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function cp(t){return JSON.parse(JSON.stringify(t))}const Xn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_E=[502,503,504];async function dp(t){var e;if(!dE(t))throw new Pc(Xn(t),0);if(_E.includes(t.status))throw new Pc(Xn(t),t.status);let n;try{n=await t.json()}catch(i){throw new ir(Xn(i),i)}let r;const s=wE(t);if(s&&s.getTime()>=zv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ap(Xn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ap(Xn(n),t.status,n.weak_password.reasons);throw new X_(Xn(n),t.status||500,r)}const EE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Cc]||(i[Cc]=zv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await TE(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function TE(t,e,n,r,s,i){const a=EE(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Pc(Xn(l),0)}if(o.ok||await dp(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await dp(l)}}function kt(t){var e;let n=null;RE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function hp(t){const e=kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function CE(t){return{data:t,error:null}}function PE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=tl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function fp(t){return t}function RE(t){return t.access_token&&t.refresh_token&&t.expires_in}const nu=["global","local","others"];class jE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Kv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=nu[0]){if(nu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nu.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bn})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=tl(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bn})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fp});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Rr(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bn})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Rr(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bn})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Rr(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bn})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Rr(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Rr(e.userId),Rr(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fp});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}}function pp(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const jr={debug:!!(globalThis&&Hv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class OE extends qv{}async function NE(t,e,n){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new OE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DE(t){return parseInt(t,16)}function LE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ME(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Gv(t.address),v=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${f}

${w}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}y+=p}return`${S}
${y}`}class we extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class vo extends we{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $E({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Yv(a)){if(i.rp.id!==a)return new we({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function IE({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Yv(r)){if(n.rpId!==r)return new we({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class FE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const UE=new FE;function VE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=tl(t,["challenge","user","excludeCredentials"]),i=ls(e).buffer,a=Object.assign(Object.assign({},n),{id:ls(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ls(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function BE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=tl(t,["challenge","allowCredentials"]),s=ls(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ls(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function zE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ur(new Uint8Array(t.response.attestationObject)),clientDataJSON:ur(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ur(new Uint8Array(s.authenticatorData)),clientDataJSON:ur(new Uint8Array(s.clientDataJSON)),signature:ur(new Uint8Array(s.signature)),userHandle:s.userHandle?ur(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mp(){var t,e;return!!(Re()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HE(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",e)}:{data:null,error:new vo("Empty credential response",e)}}catch(e){return{data:null,error:$E({error:e,options:t})}}}async function KE(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",e)}:{data:null,error:new vo("Empty credential response",e)}}catch(e){return{data:null,error:IE({error:e,options:t})}}}const qE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wo(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=wo(o,a):r[i]=wo(a)}else r[i]=a}return r}function YE(t,e){return wo(qE,t,e||{})}function JE(t,e){return wo(GE,t,e||{})}class QE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=s??UE.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=YE(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await HE({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=JE(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await KE(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new ir("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ji("rpId is required for WebAuthn authentication")};try{if(!mp())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new ir("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ji("rpId is required for WebAuthn registration")};try{if(!mp())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new ir("Unexpected error in register",a)}}}}AE();const XE={url:q_,storageKey:G_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gp(t,e,n){return await n()}const Or={};class Oi{get jwks(){var e,n;return(n=(e=Or[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Or[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},XE),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Oi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Re()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Kv(i.fetch),this.lock=i.lock||gp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Re()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=NE:this.lock=gp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Hv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pp(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Re()&&(n=cE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Re()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?this._returnResult({error:n}):this._returnResult({error:new ir("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Pr(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:kt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else throw new wa("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await Pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hp})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hp})}else throw new wa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Cr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(M(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,l,u,c,d,h;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:w,wallet:S,statement:y,options:p}=e;let g;if(Re())if(typeof S=="object")g=S;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")g=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=S}const b=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),k=await g.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Gv(k[0]);let E=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const j=await g.request({method:"eth_chainId"});E=DE(j)}const T={domain:b.host,address:_,statement:y,uri:b.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=ME(T),v=await g.request({method:"personal_sign",params:[LE(f),_]})}try{const{data:w,error:S}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:kt});if(S)throw S;if(!w||!w.session||!w.user){const y=new Cr;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(M(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,a,o,l,u,c,d,h,f;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:S,wallet:y,statement:p,options:g}=e;let b;if(Re())if(typeof y=="object")b=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:S,error:y}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ur(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(y)throw y;if(!S||!S.session||!S.user){const p=new Cr;return this._returnResult({data:{user:null,session:null},error:p})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:y})}catch(S){if(M(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Gn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new nE;const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:kt});if(await Pe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Cr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(M(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Pr(this.storage,this.storageKey));const{error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new wa("You must provide either an email or phone number.")}catch(o){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Pr(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:CE});return!((i=u.data)===null||i===void 0)&&i.url&&Re()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nt;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(M(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new wa("You must provide either an email or phone number and a type")}catch(n){if(M(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Xl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Gn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=tu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=kE(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bn})})}catch(n){if(M(n))return eE(n)&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Pr(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:bn});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=eu(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(M(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(M(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Re())throw new xa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ip("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new xa("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Z_(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=uE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Pr(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Re()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(M(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=e,d=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kt}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Cr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fE(async s=>(s>0&&await hE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Zl(i)&&Date.now()+a-r<$r})}catch(r){if(this._debug(n,"error",r),M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Re()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Gn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:tu()}else if(s&&!s.user&&!s.user){const a=await Gn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Pe(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=tu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Xl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Zl(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),M(i)){const a={data:null,error:i};return Zl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=cp(s);await Ir(this.storage,this.storageKey,i)}else{const s=cp(n);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pe(this.storage,this.storageKey),await Pe(this.storage,this.storageKey+"-code-verifier"),await Pe(this.storage,this.storageKey+"-user"),this.userStorage&&await Pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Re()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$r}ms, refresh threshold is ${Tc} ticks`),s<=Tc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Re()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zE(e.webauthn.credential_response):WE(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:VE(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:BE(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=eu(r.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nt})})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new nt});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Re()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new nt});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Re()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new nt})})}catch(e){if(M(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nt})})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Q_>s)return r;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});r=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=eu(r);n!=null&&n.allowExpired||xE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const c=SE(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,oE(`${o}.${l}`)))throw new Rc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}}Oi.nextInstanceID={};const ZE=Oi,eT="2.90.1";let Ws="";typeof Deno<"u"?Ws="deno":typeof document<"u"?Ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ws="react-native":Ws="node";const tT={"X-Client-Info":`supabase-js-${Ws}/${eT}`},nT={headers:tT},rT={schema:"public"},sT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iT={};function Ni(t){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(t)}function aT(t,e){if(Ni(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oT(t){var e=aT(t,"string");return Ni(e)=="symbol"?e:e+""}function lT(t,e,n){return(e=oT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yp(Object(n),!0).forEach(function(r){lT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const uT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cT=()=>Headers,dT=(t,e,n)=>{const r=uT(n),s=cT();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,pe(pe({},a),{},{headers:u}))}};function hT(t){return t.endsWith("/")?t:t+"/"}function fT(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:pe(pe({},l),s),auth:pe(pe({},u),i),realtime:pe(pe({},c),a),storage:{},global:pe(pe(pe({},d),o),{},{headers:pe(pe({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function pT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mT=class extends ZE{constructor(t){super(t)}},gT=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=pT(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:rT,realtime:iT,auth:pe(pe({},sT),{},{storageKey:a}),global:nT},l=fT(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=dT(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Yk(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new K_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Wk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mT({url:this.authUrl.href,headers:pe(pe({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new h_(this.realtimeUrl.href,pe(pe({},t),{},{params:pe(pe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yT=(t,e,n)=>new gT(t,e,n);function vT(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}vT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wT="https://smnophnqtteafyhhbehc.supabase.co",xT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtbm9waG5xdHRlYWZ5aGhiZWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNjIyNDgsImV4cCI6MjA4MzkzODI0OH0.uzT3eBPDsNg06SpneJupjkLE3aPBfkvHOLPVmPfacuk",xe=yT(wT,xT);function ST(t){const[e,n]=x.useState(()=>{if(!t)return[];try{const a=localStorage.getItem(`watched_films_${t}`);return a?JSON.parse(a):[]}catch{return[]}}),[r,s]=x.useState(!0),i=x.useCallback(async()=>{if(!t)return;const{data:a,error:o}=await xe.from("watched_films").select("*").eq("user_id",t).order("watch_date",{ascending:!1});if(!o&&a){n(a);try{localStorage.setItem(`watched_films_${t}`,JSON.stringify(a))}catch(l){console.error("Failed to cache data:",l)}}s(!1)},[t]);return x.useEffect(()=>{if(!t){n([]),s(!1);return}i();const a=xe.channel(`watched_films_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"watched_films",filter:`user_id=eq.${t}`},()=>i()).subscribe();return()=>{a.unsubscribe()}},[t,i]),{films:e,loading:r,refetch:i}}function bT(t){const[e,n]=x.useState(()=>{if(!t)return[];try{const a=localStorage.getItem(`watch_later_${t}`);return a?JSON.parse(a):[]}catch{return[]}}),[r,s]=x.useState(!0),i=x.useCallback(async()=>{if(!t)return;const{data:a,error:o}=await xe.from("watch_later").select("*").eq("user_id",t).order("rating",{ascending:!1}).order("added_date",{ascending:!1});if(!o&&a){n(a);try{localStorage.setItem(`watch_later_${t}`,JSON.stringify(a))}catch(l){console.error("Failed to cache data:",l)}}s(!1)},[t]);return x.useEffect(()=>{if(!t){n([]),s(!1);return}i();const a=xe.channel(`watch_later_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"watch_later",filter:`user_id=eq.${t}`},()=>i()).subscribe();return()=>{a.unsubscribe()}},[t,i]),{films:e,loading:r,refetch:i}}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>x.createElement("svg",{ref:c,...kT,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${_T(t)}`,o].join(" "),...u},[...e.map(([d,h])=>x.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Y("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Y("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Y("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Y("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Y("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Y("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Y("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Y("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Y("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t0=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),il=x.createContext({}),al=x.createContext(null),ol=typeof document<"u",ah=ol?x.useLayoutEffect:x.useEffect,n0=x.createContext({strict:!1}),oh=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),VT="framerAppearId",r0="data-"+oh(VT);function BT(t,e,n,r){const{visualElement:s}=x.useContext(il),i=x.useContext(n0),a=x.useContext(al),o=x.useContext(t0).reducedMotion,l=x.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;x.useInsertionEffect(()=>{u&&u.update(n,a)});const c=x.useRef(!!(n[r0]&&!window.HandoffComplete));return ah(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Xr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zT(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xr(n)&&(n.current=r))},[e])}function Di(t){return typeof t=="string"||Array.isArray(t)}function ll(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const lh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uh=["initial",...lh];function ul(t){return ll(t.animate)||uh.some(e=>Di(t[e]))}function s0(t){return!!(ul(t)||t.variants)}function WT(t,e){if(ul(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Di(n)?n:void 0,animate:Di(r)?r:void 0}}return t.inherit!==!1?e:{}}function HT(t){const{initial:e,animate:n}=WT(t,x.useContext(il));return x.useMemo(()=>({initial:e,animate:n}),[xp(e),xp(n)])}function xp(t){return Array.isArray(t)?t.join(" "):t}const Sp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Li={};for(const t in Sp)Li[t]={isEnabled:e=>Sp[t].some(n=>!!e[n])};function KT(t){for(const e in t)Li[e]={...Li[e],...t[e]}}const ch=x.createContext({}),i0=x.createContext({}),qT=Symbol.for("motionComponentSymbol");function GT({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&KT(t);function i(o,l){let u;const c={...x.useContext(t0),...o,layoutId:YT(o)},{isStatic:d}=c,h=HT(o),f=r(o,d);if(!d&&ol){h.visualElement=BT(s,f,c,e);const v=x.useContext(i0),w=x.useContext(n0).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,t,v))}return x.createElement(il.Provider,{value:h},u&&h.visualElement?x.createElement(u,{visualElement:h.visualElement,...c}):null,n(s,o,zT(f,h.visualElement,l),f,d,h.visualElement))}const a=x.forwardRef(i);return a[qT]=s,a}function YT({layoutId:t}){const e=x.useContext(ch).id;return e&&t!==void 0?e+"-"+t:t}function JT(t){function e(r,s={}){return GT(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const QT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dh(t){return typeof t!="string"||t.includes("-")?!1:!!(QT.indexOf(t)>-1||/[A-Z]/.test(t))}const xo={};function XT(t){Object.assign(xo,t)}const qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kr=new Set(qi);function a0(t,{layout:e,layoutId:n}){return kr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xo[t]||t==="opacity")}const Xe=t=>!!(t&&t.getVelocity),ZT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eC=qi.length;function tC(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<eC;a++){const o=qi[a];if(t[o]!==void 0){const l=ZT[o]||o;i+=`${l}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const o0=t=>e=>typeof e=="string"&&e.startsWith(t),l0=o0("--"),Nc=o0("var(--"),nC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mn=(t,e,n)=>Math.min(Math.max(n,t),e),_r={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ri={..._r,transform:t=>Mn(0,1,t)},Sa={..._r,default:1},si=t=>Math.round(t*1e5)/1e5,cl=/(-)?([\d]*\.?[\d])+/g,u0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gi(t){return typeof t=="string"}const Yi=t=>({test:e=>Gi(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pn=Yi("deg"),Bt=Yi("%"),U=Yi("px"),iC=Yi("vh"),aC=Yi("vw"),bp={...Bt,parse:t=>Bt.parse(t)/100,transform:t=>Bt.transform(t*100)},kp={..._r,transform:Math.round},c0={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,size:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,rotate:pn,rotateX:pn,rotateY:pn,rotateZ:pn,scale:Sa,scaleX:Sa,scaleY:Sa,scaleZ:Sa,skew:pn,skewX:pn,skewY:pn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:ri,originX:bp,originY:bp,originZ:U,zIndex:kp,fillOpacity:ri,strokeOpacity:ri,numOctaves:kp};function hh(t,e,n,r){const{style:s,vars:i,transform:a,transformOrigin:o}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(l0(d)){i[d]=h;continue}const f=c0[d],v=rC(h,f);if(kr.has(d)){if(l=!0,a[d]=v,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,o[d]=v):s[d]=v}if(e.transform||(l||r?s.transform=tC(t.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=o;s.transformOrigin=`${d} ${h} ${f}`}}const fh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d0(t,e,n){for(const r in e)!Xe(e[r])&&!a0(r,n)&&(t[r]=e[r])}function oC({transformTemplate:t},e,n){return x.useMemo(()=>{const r=fh();return hh(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function lC(t,e,n){const r=t.style||{},s={};return d0(s,r,t),Object.assign(s,oC(t,e,n)),t.transformValues?t.transformValues(s):s}function uC(t,e,n){const r={},s=lC(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const cC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function So(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cC.has(t)}let h0=t=>!So(t);function dC(t){t&&(h0=e=>e.startsWith("on")?!So(e):t(e))}try{dC(require("@emotion/is-prop-valid").default)}catch{}function hC(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(h0(s)||n===!0&&So(s)||!e&&!So(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function _p(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function fC(t,e,n){const r=_p(e,t.x,t.width),s=_p(n,t.y,t.height);return`${r} ${s}`}const pC={offset:"stroke-dashoffset",array:"stroke-dasharray"},mC={offset:"strokeDashoffset",array:"strokeDasharray"};function gC(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?pC:mC;t[i.offset]=U.transform(-r);const a=U.transform(e),o=U.transform(n);t[i.array]=`${a} ${o}`}function ph(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d,h){if(hh(t,u,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:v,dimensions:w}=t;f.transform&&(w&&(v.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=fC(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&gC(f,a,o,l,!1)}const f0=()=>({...fh(),attrs:{}}),mh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yC(t,e,n,r){const s=x.useMemo(()=>{const i=f0();return ph(i,e,{enableHardwareAcceleration:!1},mh(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};d0(i,t.style,t),s.style={...i,...s.style}}return s}function vC(t=!1){return(n,r,s,{latestValues:i},a)=>{const l=(dh(n)?yC:uC)(r,i,a,n),c={...hC(r,typeof n=="string",t),...l,ref:s},{children:d}=r,h=x.useMemo(()=>Xe(d)?d.get():d,[d]);return x.createElement(n,{...c,children:h})}}function p0(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const m0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g0(t,e,n,r){p0(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(m0.has(s)?s:oh(s),e.attrs[s])}function gh(t,e){const{style:n}=t,r={};for(const s in n)(Xe(n[s])||e.style&&Xe(e.style[s])||a0(s,t))&&(r[s]=n[s]);return r}function y0(t,e){const n=gh(t,e);for(const r in t)if(Xe(t[r])||Xe(e[r])){const s=qi.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function yh(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function v0(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const bo=t=>Array.isArray(t),wC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xC=t=>bo(t)?t[t.length-1]||0:t;function Ba(t){const e=Xe(t)?t.get():t;return wC(e)?e.toValue():e}function SC({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const a={latestValues:bC(r,s,i,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const w0=t=>(e,n)=>{const r=x.useContext(il),s=x.useContext(al),i=()=>SC(t,e,r,s);return n?i():v0(i)};function bC(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=Ba(i[h]);let{initial:a,animate:o}=t;const l=ul(t),u=s0(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;return d&&typeof d!="boolean"&&!ll(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const v=yh(t,f);if(!v)return;const{transitionEnd:w,transition:S,...y}=v;for(const p in y){let g=y[p];if(Array.isArray(g)){const b=c?g.length-1:0;g=g[b]}g!==null&&(s[p]=g)}for(const p in w)s[p]=w[p]}),s}const ye=t=>t;class Ep{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function kC(t){let e=new Ep,n=new Ep,r=0,s=!1,i=!1;const a=new WeakSet,o={schedule:(l,u=!1,c=!1)=>{const d=c&&s,h=d?e:n;return u&&a.add(l),h.add(l)&&d&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),a.has(c)&&(o.schedule(c),t())}s=!1,i&&(i=!1,o.process(l))}};return o}const ba=["prepare","read","update","preRender","render","postRender"],_C=40;function EC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ba.reduce((d,h)=>(d[h]=kC(()=>n=!0),d),{}),a=d=>i[d].process(s),o=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,_C),1),s.timestamp=d,s.isProcessing=!0,ba.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,s.isProcessing||t(o)};return{schedule:ba.reduce((d,h)=>{const f=i[h];return d[h]=(v,w=!1,S=!1)=>(n||l(),f.schedule(v,w,S)),d},{}),cancel:d=>ba.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:re,cancel:un,state:Le,steps:ru}=EC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0),TC={useVisualState:w0({scrapeMotionValuesFromProps:y0,createRenderState:f0,onMount:(t,e,{renderState:n,latestValues:r})=>{re.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{ph(n,r,{enableHardwareAcceleration:!1},mh(e.tagName),t.transformTemplate),g0(e,n)})}})},CC={useVisualState:w0({scrapeMotionValuesFromProps:gh,createRenderState:fh})};function PC(t,{forwardMotionProps:e=!1},n,r){return{...dh(t)?TC:CC,preloadedFeatures:n,useRender:vC(e),createVisualElement:r,Component:t}}function Qt(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const x0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function dl(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const RC=t=>e=>x0(e)&&t(e,dl(e));function en(t,e,n,r){return Qt(t,e,RC(n),r)}const jC=(t,e)=>n=>e(t(n)),An=(...t)=>t.reduce(jC);function S0(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Tp=S0("dragHorizontal"),Cp=S0("dragVertical");function b0(t){let e=!1;if(t==="y")e=Cp();else if(t==="x")e=Tp();else{const n=Tp(),r=Cp();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function k0(){const t=b0(!0);return t?(t(),!1):!0}class Wn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Pp(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||k0())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&re.update(()=>o[r](i,a))};return en(t.current,n,s,{passive:!t.getProps()[r]})}class OC extends Wn{mount(){this.unmount=An(Pp(this.node,!0),Pp(this.node,!1))}unmount(){}}class NC extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=An(Qt(this.node.current,"focus",()=>this.onFocus()),Qt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _0=(t,e)=>e?t===e?!0:_0(t,e.parentElement):!1;function su(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,dl(n))}class AC extends Wn{constructor(){super(...arguments),this.removeStartListeners=ye,this.removeEndListeners=ye,this.removeAccessibleListeners=ye,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=en(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();re.update(()=>{!d&&!_0(this.node.current,o.target)?c&&c(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=en(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=An(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||su("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&re.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Qt(this.node.current,"keyup",a),su("down",(o,l)=>{this.startPress(o,l)})},n=Qt(this.node.current,"keydown",e),r=()=>{this.isPressing&&su("cancel",(i,a)=>this.cancelPress(i,a))},s=Qt(this.node.current,"blur",r);this.removeAccessibleListeners=An(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&re.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!k0()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&re.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=en(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=An(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ac=new WeakMap,iu=new WeakMap,DC=t=>{const e=Ac.get(t.target);e&&e(t)},LC=t=>{t.forEach(DC)};function MC({root:t,...e}){const n=t||document;iu.has(n)||iu.set(n,{});const r=iu.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(LC,{root:t,...e})),r[s]}function $C(t,e,n){const r=MC(e);return Ac.set(t,n),r.observe(t),()=>{Ac.delete(t),r.unobserve(t)}}const IC={some:0,all:1};class FC extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:IC[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return $C(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UC(e,n))&&this.startObserver()}unmount(){}}function UC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VC={inView:{Feature:FC},tap:{Feature:AC},focus:{Feature:NC},hover:{Feature:OC}};function E0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function BC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function zC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function hl(t,e,n){const r=t.getProps();return yh(r,e,n!==void 0?n:r.custom,BC(t),zC(t))}let vh=ye;const fr=t=>t*1e3,tn=t=>t/1e3,WC={current:!1},T0=t=>Array.isArray(t)&&typeof t[0]=="number";function C0(t){return!!(!t||typeof t=="string"&&P0[t]||T0(t)||Array.isArray(t)&&t.every(C0))}const Hs=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,P0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hs([0,.65,.55,1]),circOut:Hs([.55,0,1,.45]),backIn:Hs([.31,.01,.66,-.59]),backOut:Hs([.33,1.53,.69,.99])};function R0(t){if(t)return T0(t)?Hs(t):Array.isArray(t)?t.map(R0):P0[t]}function HC(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=R0(o);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function KC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const j0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qC=1e-7,GC=12;function YC(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=j0(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>qC&&++o<GC);return a}function Ji(t,e,n,r){if(t===e&&n===r)return ye;const s=i=>YC(i,0,1,t,n);return i=>i===0||i===1?i:j0(s(i),e,r)}const JC=Ji(.42,0,1,1),QC=Ji(0,0,.58,1),O0=Ji(.42,0,.58,1),XC=t=>Array.isArray(t)&&typeof t[0]!="number",N0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,A0=t=>e=>1-t(1-e),wh=t=>1-Math.sin(Math.acos(t)),D0=A0(wh),ZC=N0(wh),L0=Ji(.33,1.53,.69,.99),xh=A0(L0),eP=N0(xh),tP=t=>(t*=2)<1?.5*xh(t):.5*(2-Math.pow(2,-10*(t-1))),nP={linear:ye,easeIn:JC,easeInOut:O0,easeOut:QC,circIn:wh,circInOut:ZC,circOut:D0,backIn:xh,backInOut:eP,backOut:L0,anticipate:tP},Rp=t=>{if(Array.isArray(t)){vh(t.length===4);const[e,n,r,s]=t;return Ji(e,n,r,s)}else if(typeof t=="string")return nP[t];return t},Sh=(t,e)=>n=>!!(Gi(n)&&sC.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),M0=(t,e,n)=>r=>{if(!Gi(r))return r;const[s,i,a,o]=r.match(cl);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},rP=t=>Mn(0,255,t),au={..._r,transform:t=>Math.round(rP(t))},cr={test:Sh("rgb","red"),parse:M0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+au.transform(t)+", "+au.transform(e)+", "+au.transform(n)+", "+si(ri.transform(r))+")"};function sP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Dc={test:Sh("#"),parse:sP,transform:cr.transform},Zr={test:Sh("hsl","hue"),parse:M0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bt.transform(si(e))+", "+Bt.transform(si(n))+", "+si(ri.transform(r))+")"},Fe={test:t=>cr.test(t)||Dc.test(t)||Zr.test(t),parse:t=>cr.test(t)?cr.parse(t):Zr.test(t)?Zr.parse(t):Dc.parse(t),transform:t=>Gi(t)?t:t.hasOwnProperty("red")?cr.transform(t):Zr.transform(t)},ce=(t,e,n)=>-n*t+n*e+t;function ou(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=ou(l,o,t+1/3),i=ou(l,o,t),a=ou(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const lu=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},aP=[Dc,cr,Zr],oP=t=>aP.find(e=>e.test(t));function jp(t){const e=oP(t);let n=e.parse(t);return e===Zr&&(n=iP(n)),n}const $0=(t,e)=>{const n=jp(t),r=jp(e),s={...n};return i=>(s.red=lu(n.red,r.red,i),s.green=lu(n.green,r.green,i),s.blue=lu(n.blue,r.blue,i),s.alpha=ce(n.alpha,r.alpha,i),cr.transform(s))};function lP(t){var e,n;return isNaN(t)&&Gi(t)&&(((e=t.match(cl))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(u0))===null||n===void 0?void 0:n.length)||0)>0}const I0={regex:nC,countKey:"Vars",token:"${v}",parse:ye},F0={regex:u0,countKey:"Colors",token:"${c}",parse:Fe.parse},U0={regex:cl,countKey:"Numbers",token:"${n}",parse:_r.parse};function uu(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function ko(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&uu(n,I0),uu(n,F0),uu(n,U0),n}function V0(t){return ko(t).values}function B0(t){const{values:e,numColors:n,numVars:r,tokenised:s}=ko(t),i=e.length;return a=>{let o=s;for(let l=0;l<i;l++)l<r?o=o.replace(I0.token,a[l]):l<r+n?o=o.replace(F0.token,Fe.transform(a[l])):o=o.replace(U0.token,si(a[l]));return o}}const uP=t=>typeof t=="number"?0:t;function cP(t){const e=V0(t);return B0(t)(e.map(uP))}const $n={test:lP,parse:V0,createTransformer:B0,getAnimatableNone:cP},z0=(t,e)=>n=>`${n>0?e:t}`;function W0(t,e){return typeof t=="number"?n=>ce(t,e,n):Fe.test(t)?$0(t,e):t.startsWith("var(")?z0(t,e):K0(t,e)}const H0=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,a)=>W0(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},dP=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=W0(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},K0=(t,e)=>{const n=$n.createTransformer(e),r=ko(t),s=ko(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?An(H0(r.values,s.values),n):z0(t,e)},Mi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Op=(t,e)=>n=>ce(t,e,n);function hP(t){return typeof t=="number"?Op:typeof t=="string"?Fe.test(t)?$0:K0:Array.isArray(t)?H0:typeof t=="object"?dP:Op}function fP(t,e,n){const r=[],s=n||hP(t[0]),i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ye:e;o=An(l,o)}r.push(o)}return r}function q0(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(vh(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=fP(e,r,s),o=a.length,l=u=>{let c=0;if(o>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Mi(t[c],t[c+1],u);return a[c](d)};return n?u=>l(Mn(t[0],t[i-1],u)):l}function pP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Mi(0,e,r);t.push(ce(n,1,s))}}function mP(t){const e=[0];return pP(e,t.length-1),e}function gP(t,e){return t.map(n=>n*e)}function yP(t,e){return t.map(()=>e||O0).splice(0,t.length-1)}function _o({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=XC(r)?r.map(Rp):Rp(r),i={done:!1,value:e[0]},a=gP(n&&n.length===e.length?n:mP(e),t),o=q0(a,e,{ease:Array.isArray(s)?s:yP(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}function G0(t,e){return e?t*(1e3/e):0}const vP=5;function Y0(t,e,n){const r=Math.max(e-vP,0);return G0(n-t(r),e-r)}const cu=.001,wP=.01,xP=10,SP=.05,bP=1;function kP({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,a=1-e;a=Mn(SP,bP,a),t=Mn(wP,xP,tn(t)),a<1?(s=u=>{const c=u*a,d=c*t,h=c-n,f=Lc(u,a),v=Math.exp(-d);return cu-h/f*v},i=u=>{const d=u*a*t,h=d*n+n,f=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-d),w=Lc(Math.pow(u,2),a);return(-s(u)+cu>0?-1:1)*((h-f)*v)/w}):(s=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-cu+c*d},i=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=EP(s,i,o);if(t=fr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const _P=12;function EP(t,e,n){let r=n;for(let s=1;s<_P;s++)r=r-t(r)/e(r);return r}function Lc(t,e){return t*Math.sqrt(1-e*e)}const TP=["duration","bounce"],CP=["stiffness","damping","mass"];function Np(t,e){return e.some(n=>t[n]!==void 0)}function PP(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Np(t,CP)&&Np(t,TP)){const n=kP(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function J0({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],a={done:!1,value:s},{stiffness:o,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=PP({...r,velocity:-tn(r.velocity||0)}),f=d||0,v=l/(2*Math.sqrt(o*u)),w=i-s,S=tn(Math.sqrt(o/u)),y=Math.abs(w)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(v<1){const g=Lc(S,v);p=b=>{const k=Math.exp(-v*S*b);return i-k*((f+v*S*w)/g*Math.sin(g*b)+w*Math.cos(g*b))}}else if(v===1)p=g=>i-Math.exp(-S*g)*(w+(f+S*w)*g);else{const g=S*Math.sqrt(v*v-1);p=b=>{const k=Math.exp(-v*S*b),_=Math.min(g*b,300);return i-k*((f+v*S*w)*Math.sinh(_)+g*w*Math.cosh(_))/g}}return{calculatedDuration:h&&c||null,next:g=>{const b=p(g);if(h)a.done=g>=c;else{let k=f;g!==0&&(v<1?k=Y0(p,g,b):k=0);const _=Math.abs(k)<=n,E=Math.abs(i-b)<=e;a.done=_&&E}return a.value=a.done?i:b,a}}}function Ap({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=T=>o!==void 0&&T<o||l!==void 0&&T>l,v=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let w=n*e;const S=d+w,y=a===void 0?S:a(S);y!==S&&(w=y-d);const p=T=>-w*Math.exp(-T/r),g=T=>y+p(T),b=T=>{const j=p(T),C=g(T);h.done=Math.abs(j)<=u,h.value=h.done?y:C};let k,_;const E=T=>{f(h.value)&&(k=T,_=J0({keyframes:[h.value,v(h.value)],velocity:Y0(g,T,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:T=>{let j=!1;return!_&&k===void 0&&(j=!0,b(T),E(T)),k!==void 0&&T>k?_.next(T-k):(!j&&b(T),h)}}}const RP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>re.update(e,!0),stop:()=>un(e),now:()=>Le.isProcessing?Le.timestamp:performance.now()}},Dp=2e4;function Lp(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Dp;)e+=n,r=t.next(e);return e>=Dp?1/0:e}const jP={decay:Ap,inertia:Ap,tween:_o,keyframes:_o,spring:J0};function Eo({autoplay:t=!0,delay:e=0,driver:n=RP,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,v=!1,w,S;const y=()=>{S=new Promise(L=>{w=L})};y();let p;const g=jP[s]||_o;let b;g!==_o&&typeof r[0]!="number"&&(b=q0([0,100],r,{clamp:!1}),r=[0,100]);const k=g({...h,keyframes:r});let _;o==="mirror"&&(_=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",T=null,j=null,C=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=Lp(k));const{calculatedDuration:q}=k;let R=1/0,O=1/0;q!==null&&(R=q+a,O=R*(i+1)-a);let A=0;const H=L=>{if(j===null)return;f>0&&(j=Math.min(j,L)),f<0&&(j=Math.min(L-O/f,j)),T!==null?A=T:A=Math.round(L-j)*f;const G=A-e*(f>=0?1:-1),Ze=f>=0?G<0:G>O;A=Math.max(G,0),E==="finished"&&T===null&&(A=O);let et=A,zt=k;if(i){const yl=Math.min(A,O)/R;let Qi=Math.floor(yl),Kn=yl%1;!Kn&&yl>=1&&(Kn=1),Kn===1&&Qi--,Qi=Math.min(Qi,i+1),!!(Qi%2)&&(o==="reverse"?(Kn=1-Kn,a&&(Kn-=a/R)):o==="mirror"&&(zt=_)),et=Mn(0,1,Kn)*R}const tt=Ze?{done:!1,value:r[0]}:zt.next(et);b&&(tt.value=b(tt.value));let{done:Hn}=tt;!Ze&&q!==null&&(Hn=f>=0?A>=O:A<=0);const qw=T===null&&(E==="finished"||E==="running"&&Hn);return d&&d(tt.value),qw&&N(),tt},z=()=>{p&&p.stop(),p=void 0},Z=()=>{E="idle",z(),w(),y(),j=C=null},N=()=>{E="finished",c&&c(),z(),w()},$=()=>{if(v)return;p||(p=n(H));const L=p.now();l&&l(),T!==null?j=L-T:(!j||E==="finished")&&(j=L),E==="finished"&&y(),C=j,T=null,E="running",p.start()};t&&$();const B={then(L,G){return S.then(L,G)},get time(){return tn(A)},set time(L){L=fr(L),A=L,T!==null||!p||f===0?T=L:j=p.now()-L/f},get duration(){const L=k.calculatedDuration===null?Lp(k):k.calculatedDuration;return tn(L)},get speed(){return f},set speed(L){L===f||!p||(f=L,B.time=tn(A))},get state(){return E},play:$,pause:()=>{E="paused",T=A},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),Z())},cancel:()=>{C!==null&&H(C),Z()},complete:()=>{E="finished"},sample:L=>(j=0,H(L))};return B}function OP(t){let e;return()=>(e===void 0&&(e=t()),e)}const NP=OP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ka=10,DP=2e4,LP=(t,e)=>e.type==="spring"||t==="backgroundColor"||!C0(e.ease);function MP(t,e,{onUpdate:n,onComplete:r,...s}){if(!(NP()&&AP.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,o,l,u=!1;const c=()=>{l=new Promise(g=>{o=g})};c();let{keyframes:d,duration:h=300,ease:f,times:v}=s;if(LP(e,s)){const g=Eo({...s,repeat:0,delay:0});let b={done:!1,value:d[0]};const k=[];let _=0;for(;!b.done&&_<DP;)b=g.sample(_),k.push(b.value),_+=ka;v=void 0,d=k,h=_-ka,f="linear"}const w=HC(t.owner.current,e,d,{...s,duration:h,ease:f,times:v}),S=()=>{u=!1,w.cancel()},y=()=>{u=!0,re.update(S),o(),c()};return w.onfinish=()=>{u||(t.set(KC(d,s)),r&&r(),y())},{then(g,b){return l.then(g,b)},attachTimeline(g){return w.timeline=g,w.onfinish=null,ye},get time(){return tn(w.currentTime||0)},set time(g){w.currentTime=fr(g)},get speed(){return w.playbackRate},set speed(g){w.playbackRate=g},get duration(){return tn(h)},play:()=>{a||(w.play(),un(S))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:g}=w;if(g){const b=Eo({...s,autoplay:!1});t.setWithVelocity(b.sample(g-ka).value,b.sample(g).value,ka)}y()},complete:()=>{u||w.finish()},cancel:y}}function $P({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ye,pause:ye,stop:ye,then:i=>(i(),Promise.resolve()),cancel:ye,complete:ye});return e?Eo({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const IP={type:"spring",stiffness:500,damping:25,restSpeed:10},FP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UP={type:"keyframes",duration:.8},VP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BP=(t,{keyframes:e})=>e.length>2?UP:kr.has(t)?t.startsWith("scale")?FP(e[1]):IP:VP,Mc=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($n.test(e)||e==="0")&&!e.startsWith("url(")),zP=new Set(["brightness","contrast","saturate","opacity"]);function WP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cl)||[];if(!r)return t;const s=n.replace(r,"");let i=zP.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const HP=/([a-z-]*)\(.*?\)/g,$c={...$n,getAnimatableNone:t=>{const e=t.match(HP);return e?e.map(WP).join(" "):t}},KP={...c0,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:$c,WebkitFilter:$c},bh=t=>KP[t];function Q0(t,e){let n=bh(t);return n!==$c&&(n=$n),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X0=t=>/^0[^.\s]+$/.test(t);function qP(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||X0(t)}function GP(t,e,n,r){const s=Mc(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),qP(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(s&&l.length&&o)for(let u=0;u<l.length;u++){const c=l[u];i[c]=Q0(e,o)}return i}function YP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function kh(t,e){return t[e]||t.default||t}const JP={skipAnimations:!1},_h=(t,e,n,r={})=>s=>{const i=kh(r,t)||{},a=i.delay||r.delay||0;let{elapsed:o=0}=r;o=o-fr(a);const l=GP(e,t,n,i),u=l[0],c=l[l.length-1],d=Mc(t,u),h=Mc(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(YP(i)||(f={...f,...BP(t,f)}),f.duration&&(f.duration=fr(f.duration)),f.repeatDelay&&(f.repeatDelay=fr(f.repeatDelay)),!d||!h||WC.current||i.type===!1||JP.skipAnimations)return $P(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=MP(e,t,f);if(v)return v}return Eo(f)};function To(t){return!!(Xe(t)&&t.add)}const Z0=t=>/^\-?\d*\.?\d+$/.test(t);function Eh(t,e){t.indexOf(e)===-1&&t.push(e)}function Th(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ch{constructor(){this.subscriptions=[]}add(e){return Eh(this.subscriptions,e),()=>Th(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QP=t=>!isNaN(parseFloat(t));class XP{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Le;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QP(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ch);const r=this.events[e].add(n);return e==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?G0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ys(t,e){return new XP(t,e)}const ew=t=>e=>e.test(t),ZP={test:t=>t==="auto",parse:t=>t},tw=[_r,U,Bt,pn,aC,iC,ZP],Ls=t=>tw.find(ew(t)),eR=[...tw,Fe,$n],tR=t=>eR.find(ew(t));function nR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ys(n))}function rR(t,e){const n=hl(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const o=xC(i[a]);nR(t,a,o)}}function sR(t,e,n){var r,s;const i=Object.keys(e).filter(o=>!t.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const l=i[o],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(Z0(c)||X0(c))?c=parseFloat(c):!tR(c)&&$n.test(u)&&(c=Q0(l,u)),t.addValue(l,ys(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function iR(t,e){return e?(e[t]||e.default||e).from:void 0}function aR(t,e,n){const r={};for(const s in t){const i=iR(s,e);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function oR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lR(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function nw(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const h=t.getValue(d),f=o[d];if(!h||f===void 0||c&&oR(c,d))continue;const v={delay:n,elapsed:0,...kh(i||{},d)};if(window.HandoffAppearAnimations){const y=t.getProps()[r0];if(y){const p=window.HandoffAppearAnimations(y,d,h,re);p!==null&&(v.elapsed=p,v.isHandoff=!0)}}let w=!v.isHandoff&&!lR(h,f);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(_h(d,h,f,t.shouldReduceMotion&&kr.has(d)?{type:!1}:v));const S=h.animation;To(l)&&(l.add(d),S.then(()=>l.remove(d))),u.push(S)}return a&&Promise.all(u).then(()=>{a&&rR(t,a)}),u}function Ic(t,e,n={}){const r=hl(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(nw(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return uR(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[l,u]=o==="beforeChildren"?[i,a]:[a,i];return l().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function uR(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(cR).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Ic(u,e,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function cR(t,e){return t.sortNodePosition(e)}function dR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Ic(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Ic(t,e,n);else{const s=typeof e=="function"?hl(t,e,n.custom):e;r=Promise.all(nw(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const hR=[...lh].reverse(),fR=lh.length;function pR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dR(t,n,r)))}function mR(t){let e=pR(t);const n=yR();let r=!0;const s=(l,u)=>{const c=hl(t,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function i(l){e=l(t)}function a(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let v={},w=1/0;for(let y=0;y<fR;y++){const p=hR[y],g=n[p],b=c[p]!==void 0?c[p]:d[p],k=Di(b),_=p===u?g.isActive:null;_===!1&&(w=y);let E=b===d[p]&&b!==c[p]&&k;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...v},!g.isActive&&_===null||!b&&!g.prevProp||ll(b)||typeof b=="boolean")continue;let j=gR(g.prevProp,b)||p===u&&g.isActive&&!E&&k||y>w&&k,C=!1;const q=Array.isArray(b)?b:[b];let R=q.reduce(s,{});_===!1&&(R={});const{prevResolvedValues:O={}}=g,A={...O,...R},H=z=>{j=!0,f.has(z)&&(C=!0,f.delete(z)),g.needsAnimating[z]=!0};for(const z in A){const Z=R[z],N=O[z];if(v.hasOwnProperty(z))continue;let $=!1;bo(Z)&&bo(N)?$=!E0(Z,N):$=Z!==N,$?Z!==void 0?H(z):f.add(z):Z!==void 0&&f.has(z)?H(z):g.protectedKeys[z]=!0}g.prevProp=b,g.prevResolvedValues=R,g.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(j=!1),j&&(!E||C)&&h.push(...q.map(z=>({animation:z,options:{type:p,...l}})))}if(f.size){const y={};f.forEach(p=>{const g=t.getBaseTarget(p);g!==void 0&&(y[p]=g)}),h.push({animation:y})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function o(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const h=a(c,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n}}function gR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E0(e,t):!1}function Yn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yR(){return{animate:Yn(!0),whileInView:Yn(),whileHover:Yn(),whileTap:Yn(),whileDrag:Yn(),whileFocus:Yn(),exit:Yn()}}class vR extends Wn{constructor(e){super(e),e.animationState||(e.animationState=mR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ll(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let wR=0;class xR extends Wn{constructor(){super(...arguments),this.id=wR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const SR={animation:{Feature:vR},exit:{Feature:xR}},Mp=(t,e)=>Math.abs(t-e);function bR(t,e){const n=Mp(t.x,e.x),r=Mp(t.y,e.y);return Math.sqrt(n**2+r**2)}class rw{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=hu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=bR(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:v}=d,{timestamp:w}=Le;this.history.push({...v,timestamp:w});const{onStart:S,onMove:y}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=du(h,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=hu(d.type==="pointercancel"?this.lastMoveEventInfo:du(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,S),v&&v(d,S)},!x0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=dl(e),o=du(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Le;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,hu(o,this.history)),this.removeListeners=An(en(this.contextWindow,"pointermove",this.handlePointerMove),en(this.contextWindow,"pointerup",this.handlePointerUp),en(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function du(t,e){return e?{point:e(t.point)}:t}function $p(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hu({point:t},e){return{point:t,delta:$p(t,sw(e)),offset:$p(t,kR(e)),velocity:_R(e,.1)}}function kR(t){return t[0]}function sw(t){return t[t.length-1]}function _R(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=sw(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>fr(e)));)n--;if(!r)return{x:0,y:0};const i=tn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ut(t){return t.max-t.min}function Fc(t,e=0,n=.01){return Math.abs(t-e)<=n}function Ip(t,e,n,r=.5){t.origin=r,t.originPoint=ce(e.min,e.max,t.origin),t.scale=ut(n)/ut(e),(Fc(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ce(n.min,n.max,t.origin)-t.originPoint,(Fc(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ii(t,e,n,r){Ip(t.x,e.x,n.x,r?r.originX:void 0),Ip(t.y,e.y,n.y,r?r.originY:void 0)}function Fp(t,e,n){t.min=n.min+e.min,t.max=t.min+ut(e)}function ER(t,e,n){Fp(t.x,e.x,n.x),Fp(t.y,e.y,n.y)}function Up(t,e,n){t.min=e.min-n.min,t.max=t.min+ut(e)}function ai(t,e,n){Up(t.x,e.x,n.x),Up(t.y,e.y,n.y)}function TR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ce(n,t,r.max):Math.min(t,n)),t}function Vp(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CR(t,{top:e,left:n,bottom:r,right:s}){return{x:Vp(t.x,n,s),y:Vp(t.y,e,r)}}function Bp(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PR(t,e){return{x:Bp(t.x,e.x),y:Bp(t.y,e.y)}}function RR(t,e){let n=.5;const r=ut(t),s=ut(e);return s>r?n=Mi(e.min,e.max-r,t.min):r>s&&(n=Mi(t.min,t.max-s,e.min)),Mn(0,1,n)}function jR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Uc=.35;function OR(t=Uc){return t===!1?t=0:t===!0&&(t=Uc),{x:zp(t,"left","right"),y:zp(t,"top","bottom")}}function zp(t,e,n){return{min:Wp(t,e),max:Wp(t,n)}}function Wp(t,e){return typeof t=="number"?t:t[e]||0}const Hp=()=>({translate:0,scale:1,origin:0,originPoint:0}),es=()=>({x:Hp(),y:Hp()}),Kp=()=>({min:0,max:0}),ve=()=>({x:Kp(),y:Kp()});function pt(t){return[t("x"),t("y")]}function iw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fu(t){return t===void 0||t===1}function Vc({scale:t,scaleX:e,scaleY:n}){return!fu(t)||!fu(e)||!fu(n)}function er(t){return Vc(t)||aw(t)||t.z||t.rotate||t.rotateX||t.rotateY}function aw(t){return qp(t.x)||qp(t.y)}function qp(t){return t&&t!=="0%"}function Co(t,e,n){const r=t-n,s=e*r;return n+s}function Gp(t,e,n,r,s){return s!==void 0&&(t=Co(t,s,r)),Co(t,n,r)+e}function Bc(t,e=0,n=1,r,s){t.min=Gp(t.min,e,n,r,s),t.max=Gp(t.max,e,n,r,s)}function ow(t,{x:e,y:n}){Bc(t.x,e.translate,e.scale,e.originPoint),Bc(t.y,n.translate,n.scale,n.originPoint)}function DR(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ts(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,ow(t,a)),r&&er(i.latestValues)&&ts(t,i.latestValues))}e.x=Yp(e.x),e.y=Yp(e.y)}function Yp(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function vn(t,e){t.min=t.min+e,t.max=t.max+e}function Jp(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,a=ce(t.min,t.max,i);Bc(t,e[n],e[r],a,e.scale)}const LR=["x","scaleX","originX"],MR=["y","scaleY","originY"];function ts(t,e){Jp(t.x,e,LR),Jp(t.y,e,MR)}function lw(t,e){return iw(AR(t.getBoundingClientRect(),e))}function $R(t,e,n){const r=lw(t,n),{scroll:s}=e;return s&&(vn(r.x,s.offset.x),vn(r.y,s.offset.y)),r}const uw=({current:t})=>t?t.ownerDocument.defaultView:null,IR=new WeakMap;class FR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dl(c,"page").point)},i=(c,d)=>{const{drag:h,dragPropagation:f,onDragStart:v}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=b0(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(S=>{let y=this.getAxisMotionValue(S).get()||0;if(Bt.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[S];g&&(y=ut(g)*(parseFloat(y)/100))}}this.originPoint[S]=y}),v&&re.update(()=>v(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:v,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:S}=d;if(f&&this.currentDirection===null){this.currentDirection=UR(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),w&&w(c,d)},o=(c,d)=>this.stop(c,d),l=()=>pt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rw(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:uw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_a(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=TR(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Xr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=CR(s.layoutBox,n):this.constraints=!1,this.elastic=OR(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=jR(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$R(r,s.root,this.visualElement.getTransformPagePoint());let a=PR(s.layout.layoutBox,i);if(n){const o=n(NR(a));this.hasMutatedConstraints=!!o,o&&(a=iw(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=pt(c=>{if(!_a(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,v={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(_h(e,r,0,n))}stopAnimation(){pt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pt(n=>{const{drag:r}=this.getProps();if(!_a(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-ce(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};pt(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();s[a]=RR({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pt(a=>{if(!_a(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ce(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;IR.set(this.visualElement,this);const e=this.visualElement.current,n=en(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Qt(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(pt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Uc,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function _a(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VR extends Wn{constructor(e){super(e),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new FR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qp=t=>(e,n)=>{t&&re.update(()=>t(e,n))};class BR extends Wn{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(e){this.session=new rw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qp(e),onStart:Qp(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&re.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=en(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zR(){const t=x.useContext(al);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=x.useId();return x.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ms={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=Xp(t,e.target.x),r=Xp(t,e.target.y);return`${n}% ${r}%`}},WR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=$n.parse(t);if(s.length>5)return r;const i=$n.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=ce(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class HR extends Zc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;XT(KR),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),za.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cw(t){const[e,n]=zR(),r=x.useContext(ch);return Zc.createElement(HR,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(i0),isPresent:e,safeToRemove:n})}const KR={borderRadius:{...Ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ms,borderTopRightRadius:Ms,borderBottomLeftRadius:Ms,borderBottomRightRadius:Ms,boxShadow:WR},dw=["TopLeft","TopRight","BottomLeft","BottomRight"],qR=dw.length,Zp=t=>typeof t=="string"?parseFloat(t):t,em=t=>typeof t=="number"||U.test(t);function GR(t,e,n,r,s,i){s?(t.opacity=ce(0,n.opacity!==void 0?n.opacity:1,YR(r)),t.opacityExit=ce(e.opacity!==void 0?e.opacity:1,0,JR(r))):i&&(t.opacity=ce(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<qR;a++){const o=`border${dw[a]}Radius`;let l=tm(e,o),u=tm(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||em(l)===em(u)?(t[o]=Math.max(ce(Zp(l),Zp(u),r),0),(Bt.test(u)||Bt.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ce(e.rotate||0,n.rotate||0,r))}function tm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YR=hw(0,.5,D0),JR=hw(.5,.95,ye);function hw(t,e,n){return r=>r<t?0:r>e?1:n(Mi(t,e,r))}function nm(t,e){t.min=e.min,t.max=e.max}function ft(t,e){nm(t.x,e.x),nm(t.y,e.y)}function rm(t,e,n,r,s){return t-=e,t=Co(t,1/n,r),s!==void 0&&(t=Co(t,1/s,r)),t}function QR(t,e=0,n=1,r=.5,s,i=t,a=t){if(Bt.test(e)&&(e=parseFloat(e),e=ce(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ce(i.min,i.max,r);t===i&&(o-=e),t.min=rm(t.min,e,n,o,s),t.max=rm(t.max,e,n,o,s)}function sm(t,e,[n,r,s],i,a){QR(t,e[n],e[r],e[s],e.scale,i,a)}const XR=["x","scaleX","originX"],ZR=["y","scaleY","originY"];function im(t,e,n,r){sm(t.x,e,XR,n?n.x:void 0,r?r.x:void 0),sm(t.y,e,ZR,n?n.y:void 0,r?r.y:void 0)}function am(t){return t.translate===0&&t.scale===1}function fw(t){return am(t.x)&&am(t.y)}function ej(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function pw(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function om(t){return ut(t.x)/ut(t.y)}class tj{constructor(){this.members=[]}add(e){Eh(this.members,e),e.scheduleRender()}remove(e){if(Th(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lm(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const nj=(t,e)=>t.depth-e.depth;class rj{constructor(){this.children=[],this.isDirty=!1}add(e){Eh(this.children,e),this.isDirty=!0}remove(e){Th(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nj),this.isDirty=!1,this.children.forEach(e)}}function sj(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(un(r),t(i-e))};return re.read(r,!0),()=>un(r)}function ij(t){window.MotionDebug&&window.MotionDebug.record(t)}function aj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function oj(t,e,n){const r=Xe(t)?t:ys(t);return r.start(_h("",r,e,n)),r.animation}const um=["","X","Y","Z"],lj={visibility:"hidden"},cm=1e3;let uj=0;const tr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=uj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tr.totalNodes=tr.resolvedTargetDeltas=tr.recalculatedProjection=0,this.nodes.forEach(hj),this.nodes.forEach(yj),this.nodes.forEach(vj),this.nodes.forEach(fj),ij(tr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rj)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ch),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aj(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=sj(h,250),za.hasAnimatedSinceResize&&(za.hasAnimatedSinceResize=!1,this.nodes.forEach(hm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||kj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=c.getProps(),p=!this.targetLayout||!pw(this.targetLayout,v)||f,g=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const b={...kh(w,"layout"),onPlay:S,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||hm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dm);return}this.isUpdating||this.nodes.forEach(mj),this.isUpdating=!1,this.nodes.forEach(gj),this.nodes.forEach(cj),this.nodes.forEach(dj),this.clearAllSnapshots();const o=performance.now();Le.delta=Mn(0,1e3/60,o-Le.timestamp),Le.timestamp=o,Le.isProcessing=!0,ru.update.process(Le),ru.preRender.process(Le),ru.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pj),this.sharedNodes.forEach(xj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!fw(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||er(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),_j(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ve();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(vn(o.x,l.offset.x),vn(o.y,l.offset.y)),o}removeElementScroll(a){const o=ve();ft(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){ft(o,a);const{scroll:h}=this.root;h&&(vn(o.x,-h.offset.x),vn(o.y,-h.offset.y))}vn(o.x,c.offset.x),vn(o.y,c.offset.y)}}return o}applyTransform(a,o=!1){const l=ve();ft(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ts(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),er(c.latestValues)&&ts(l,c.latestValues)}return er(this.latestValues)&&ts(l,this.latestValues),l}removeTransform(a){const o=ve();ft(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!er(u.latestValues))continue;Vc(u.latestValues)&&u.updateSnapshot();const c=ve(),d=u.measurePageBox();ft(c,d),im(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return er(this.latestValues)&&im(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ai(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ER(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),ow(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ai(this.relativeTargetOrigin,this.target,f.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vc(this.parent.latestValues)||aw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;DR(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:v}=o;if(!v){this.projectionTransform&&(this.projectionDelta=es(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=es(),this.projectionDeltaWithTransform=es());const w=this.projectionTransform;ii(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=lm(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),tr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ve(),f=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=f!==v,S=this.getStack(),y=!S||S.members.length<=1,p=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(bj));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const k=b/1e3;fm(d.x,a.x,k),fm(d.y,a.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sj(this.relativeTarget,this.relativeTargetOrigin,h,k),g&&ej(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ve()),ft(g,this.relativeTarget)),w&&(this.animationValues=c,GR(c,u,this.latestValues,k,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{za.hasAnimatedSinceResize=!0,this.currentAnimation=oj(0,cm,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&gw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ve();const d=ut(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const h=ut(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}ft(o,l),ts(o,c),ii(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new tj),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let c=0;c<um.length;c++){const d="rotate"+um[c];l[d]&&(u[d]=l[d],a.setStaticValue(d,0))}a.render();for(const c in u)a.setStaticValue(c,u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lj;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ba(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ba(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!er(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=lm(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y:v}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in xo){if(h[w]===void 0)continue;const{correct:S,applyTo:y}=xo[w],p=u.transform==="none"?h[w]:S(h[w],d);if(y){const g=y.length;for(let b=0;b<g;b++)u[y[b]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=d===this?Ba(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(dm),this.root.sharedNodes.clear()}}}function cj(t){t.updateLayout()}function dj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?pt(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],f=ut(h);h.min=r[d].min,h.max=h.min+f}):gw(i,n.layoutBox,r)&&pt(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],f=ut(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const o=es();ii(o,r,n.layoutBox);const l=es();a?ii(l,t.applyTransform(s,!0),n.measuredBox):ii(l,r,n.layoutBox);const u=!fw(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const v=ve();ai(v,n.layoutBox,h.layoutBox);const w=ve();ai(w,r,f.layoutBox),pw(v,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hj(t){tr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pj(t){t.clearSnapshot()}function dm(t){t.clearMeasurements()}function mj(t){t.isLayoutDirty=!1}function gj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yj(t){t.resolveTargetDelta()}function vj(t){t.calcProjection()}function wj(t){t.resetRotation()}function xj(t){t.removeLeadSnapshot()}function fm(t,e,n){t.translate=ce(e.translate,0,n),t.scale=ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pm(t,e,n,r){t.min=ce(e.min,n.min,r),t.max=ce(e.max,n.max,r)}function Sj(t,e,n,r){pm(t.x,e.x,n.x,r),pm(t.y,e.y,n.y,r)}function bj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kj={duration:.45,ease:[.4,0,.1,1]},mm=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),gm=mm("applewebkit/")&&!mm("chrome/")?Math.round:ye;function ym(t){t.min=gm(t.min),t.max=gm(t.max)}function _j(t){ym(t.x),ym(t.y)}function gw(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fc(om(e),om(n),.2)}const Ej=mw({attachResizeListener:(t,e)=>Qt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},yw=mw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pu.current){const t=new Ej({});t.mount(window),t.setOptions({layoutScroll:!0}),pu.current=t}return pu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tj={pan:{Feature:BR},drag:{Feature:VR,ProjectionNode:yw,MeasureLayout:cw}},Cj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Pj(t){const e=Cj.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function zc(t,e,n=1){const[r,s]=Pj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return Z0(a)?parseFloat(a):a}else return Nc(s)?zc(s,e,n+1):s}function Rj(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Nc(i))return;const a=zc(i,r);a&&s.set(a)});for(const s in e){const i=e[s];if(!Nc(i))continue;const a=zc(i,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const jj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vw=t=>jj.has(t),Oj=t=>Object.keys(t).some(vw),vm=t=>t===_r||t===U,wm=(t,e)=>parseFloat(t.split(", ")[e]),xm=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wm(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?wm(i[1],t):0}},Nj=new Set(["x","y","z"]),Aj=qi.filter(t=>!Nj.has(t));function Dj(t){const e=[];return Aj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const vs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xm(4,13),y:xm(5,14)};vs.translateX=vs.x;vs.translateY=vs.y;const Lj=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:a}=i,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=vs[u](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(o[u]),t[u]=vs[u](l,i)}),t},Mj=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(vw);let i=[],a=!1;const o=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=Ls(c);const h=e[l];let f;if(bo(h)){const v=h.length,w=h[0]===null?1:0;c=h[w],d=Ls(c);for(let S=w;S<v&&h[S]!==null;S++)f?vh(Ls(h[S])===f):f=Ls(h[S])}else f=Ls(h);if(d!==f)if(vm(d)&&vm(f)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===U&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(a||(i=Dj(t),a=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=Lj(e,t,o);return i.length&&i.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),ol&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function $j(t,e,n,r){return Oj(e)?Mj(t,e,n,r):{target:e,transitionEnd:r}}const Ij=(t,e,n,r)=>{const s=Rj(t,e,r);return e=s.target,r=s.transitionEnd,$j(t,e,n,r)},Wc={current:null},ww={current:!1};function Fj(){if(ww.current=!0,!!ol)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wc.current=t.matches;t.addListener(e),e()}else Wc.current=!1}function Uj(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],a=n[s];if(Xe(i))t.addValue(s,i),To(r)&&r.add(s);else if(Xe(a))t.addValue(s,ys(i,{owner:t})),To(r)&&r.remove(s);else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,ys(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Sm=new WeakMap,xw=Object.keys(Li),Vj=xw.length,bm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bj=uh.length;class zj{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>re.render(this.render,!1,!0);const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ul(n),this.isVariantNode=s0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];o[d]!==void 0&&Xe(h)&&(h.set(o[d],!1),To(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Sm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ww.current||Fj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sm.delete(this.current),this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=kr.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&re.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let a,o;for(let l=0;l<Vj;l++){const u=xw[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:f}=Li[u];h&&(a=h),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),f&&(o=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Xr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bm.length;r++){const s=bm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Uj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Bj;r++){const s=uh[r],i=this.props[s];(Di(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ys(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=yh(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xe(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ch),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Sw extends zj{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let a=aR(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){sR(this,r,a);const o=Ij(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function Wj(t){return window.getComputedStyle(t)}class Hj extends Sw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(kr.has(n)){const r=bh(n);return r&&r.default||0}else{const r=Wj(e),s=(l0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lw(e,n)}build(e,n,r,s){hh(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return gh(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){p0(e,n,r,s)}}class Kj extends Sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kr.has(n)){const r=bh(n);return r&&r.default||0}return n=m0.has(n)?n:oh(n),e.getAttribute(n)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(e,n){return y0(e,n)}build(e,n,r,s){ph(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){g0(e,n,r,s)}mount(e){this.isSVGTag=mh(e.tagName),super.mount(e)}}const qj=(t,e)=>dh(t)?new Kj(e,{enableHardwareAcceleration:!1}):new Hj(e,{enableHardwareAcceleration:!0}),Gj={layout:{ProjectionNode:yw,MeasureLayout:cw}},Yj={...SR,...VC,...Tj,...Gj},Q=JT((t,e)=>PC(t,e,Yj,qj));function bw(){const t=x.useRef(!1);return ah(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Jj(){const t=bw(),[e,n]=x.useState(0),r=x.useCallback(()=>{t.current&&n(e+1)},[e]);return[x.useCallback(()=>re.postRender(r),[r]),e]}class Qj extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xj({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:l}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),x.createElement(Qj,{isPresent:e,childRef:r,sizeRef:s},x.cloneElement(t,{ref:r}))}const mu=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=v0(Zj),l=x.useId(),u=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c=>{o.set(c,!0);for(const d of o.values())if(!d)return;r&&r()},register:c=>(o.set(c,!1),()=>o.delete(c))}),i?void 0:[n]);return x.useMemo(()=>{o.forEach((c,d)=>o.set(d,!1))},[n]),x.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=x.createElement(Xj,{isPresent:n},t)),x.createElement(al.Provider,{value:u},t)};function Zj(){return new Map}function eO(t){return x.useEffect(()=>()=>t(),[])}const nr=t=>t.key||"";function tO(t,e){t.forEach(n=>{const r=nr(n);e.set(r,n)})}function nO(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Po=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=x.useContext(ch).forceRender||Jj()[0],l=bw(),u=nO(t);let c=u;const d=x.useRef(new Map).current,h=x.useRef(c),f=x.useRef(new Map).current,v=x.useRef(!0);if(ah(()=>{v.current=!1,tO(u,f),h.current=c}),eO(()=>{v.current=!0,f.clear(),d.clear()}),v.current)return x.createElement(x.Fragment,null,c.map(p=>x.createElement(mu,{key:nr(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));c=[...c];const w=h.current.map(nr),S=u.map(nr),y=w.length;for(let p=0;p<y;p++){const g=w[p];S.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return a==="wait"&&d.size&&(c=[]),d.forEach((p,g)=>{if(S.indexOf(g)!==-1)return;const b=f.get(g);if(!b)return;const k=w.indexOf(g);let _=p;if(!_){const E=()=>{d.delete(g);const T=Array.from(f.keys()).filter(j=>!S.includes(j));if(T.forEach(j=>f.delete(j)),h.current=u.filter(j=>{const C=nr(j);return C===g||T.includes(C)}),!d.size){if(l.current===!1)return;o(),r&&r()}};_=x.createElement(mu,{key:nr(b),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:i,mode:a},b),d.set(g,_)}c.splice(k,0,_)}),c=c.map(p=>{const g=p.key;return d.has(g)?p:x.createElement(mu,{key:nr(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),x.createElement(x.Fragment,null,d.size?c:c.map(p=>x.cloneElement(p)))},V=t=>typeof t=="string",$s=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},km=t=>t==null?"":""+t,rO=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},sO=/###/g,_m=t=>t&&t.indexOf("###")>-1?t.replace(sO,"."):t,Em=t=>!t||V(t),oi=(t,e,n)=>{const r=V(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Em(t))return{};const i=_m(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Em(t)?{}:{obj:t,k:_m(r[s])}},Tm=(t,e,n)=>{const{obj:r,k:s}=oi(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=oi(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=oi(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},iO=(t,e,n,r)=>{const{obj:s,k:i}=oi(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Ro=(t,e)=>{const{obj:n,k:r}=oi(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},aO=(t,e,n)=>{const r=Ro(t,n);return r!==void 0?r:Ro(e,n)},kw=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?V(t[r])||t[r]instanceof String||V(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):kw(t[r],e[r],n):t[r]=e[r]);return t},Nr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var oO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const lO=t=>V(t)?t.replace(/[&<>"'\/]/g,e=>oO[e]):t;class uO{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const cO=[" ",",","?","!",";"],dO=new uO(20),hO=(t,e,n)=>{e=e||"",n=n||"";const r=cO.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=dO.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},Hc=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},$i=t=>t==null?void 0:t.replace("_","-"),fO={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class jo{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||fO,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(V(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new jo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new jo(this.logger,e)}}var Ft=new jo;class fl{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...n])})}}class Cm extends fl{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var u,c;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):V(r)&&i?o.push(...r.split(i)):o.push(r)));const l=Ro(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!V(r)?l:Hc((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),Tm(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(V(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=Ro(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?kw(l,r,i):l={...l,...r},Tm(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var _w={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,n,r,s))??e}),e}};const Ew=Symbol("i18next/PATH_KEY");function pO(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===Ew?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Kc(t,e){const{[Ew]:n}=t(pO());return n.join((e==null?void 0:e.keySeparator)??".")}const Pm={},gu=t=>!V(t)&&typeof t!="boolean"&&typeof t!="number";class Oo extends fl{constructor(e,n={}){super(),rO(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ft.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if((s==null?void 0:s.res)===void 0)return!1;const i=gu(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!hO(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:V(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:V(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Kc(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let c=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?i?{res:`${u}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${c}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:o;const f=this.resolve(e,s);let v=f==null?void 0:f.res;const w=(f==null?void 0:f.usedKey)||o,S=(f==null?void 0:f.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],p=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,b=s.count!==void 0&&!V(s.count),k=Oo.hasDefaultValue(s),_=b?this.pluralResolver.getSuffix(d,s.count,s):"",E=s.ordinal&&b?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",T=b&&!s.ordinal&&s.count===0,j=T&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${_}`]||s[`defaultValue${E}`]||s.defaultValue;let C=v;g&&!v&&k&&(C=j);const q=gu(C),R=Object.prototype.toString.apply(C);if(g&&C&&q&&y.indexOf(R)<0&&!(V(p)&&Array.isArray(C))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,C,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=O,f.usedParams=this.getUsedParamsDetails(s),f):O}if(a){const O=Array.isArray(C),A=O?[]:{},H=O?S:w;for(const z in C)if(Object.prototype.hasOwnProperty.call(C,z)){const Z=`${H}${a}${z}`;k&&!v?A[z]=this.translate(Z,{...s,defaultValue:gu(j)?j[z]:void 0,joinArrays:!1,ns:l}):A[z]=this.translate(Z,{...s,joinArrays:!1,ns:l}),A[z]===Z&&(A[z]=C[z])}v=A}}else if(g&&V(p)&&Array.isArray(v))v=v.join(p),v&&(v=this.extendTranslation(v,e,s,r));else{let O=!1,A=!1;!this.isValidLookup(v)&&k&&(O=!0,v=j),this.isValidLookup(v)||(A=!0,v=o);const z=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:v,Z=k&&j!==v&&this.options.updateMissing;if(A||O||Z){if(this.logger.log(Z?"updateKey":"missingKey",d,u,o,Z?j:v),a){const L=this.resolve(o,{...s,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let L=0;L<$.length;L++)N.push($[L]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(s.lng||this.language):N.push(s.lng||this.language);const B=(L,G,Ze)=>{var zt;const et=k&&Ze!==v?Ze:z;this.options.missingKeyHandler?this.options.missingKeyHandler(L,u,G,et,Z,s):(zt=this.backendConnector)!=null&&zt.saveMissing&&this.backendConnector.saveMissing(L,u,G,et,Z,s),this.emit("missingKey",L,u,G,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?N.forEach(L=>{const G=this.pluralResolver.getSuffixes(L,s);T&&s[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(Ze=>{B([L],o+Ze,s[`defaultValue${Ze}`]||j)})}):B(N,o,j))}v=this.extendTranslation(v,e,s,f,r),A&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${u}${c}${o}`),(A||O)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${o}`:o,O?v:void 0,s))}return i?(f.res=v,f.usedParams=this.getUsedParamsDetails(s),f):v}extendTranslation(e,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=V(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!V(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),v=f&&f.length;d<v&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=V(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=_w.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,a,o;return V(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!V(n.count),f=h&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(V(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(S=>{var y,p;this.isValidLookup(r)||(o=S,!Pm[`${w[0]}-${S}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((p=this.utils)!=null&&p.hasLoadedNamespace(o))&&(Pm[`${w[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(g=>{var _;if(this.isValidLookup(r))return;a=g;const b=[c];if((_=this.i18nFormat)!=null&&_.addLookupKeys)this.i18nFormat.addLookupKeys(b,c,g,S,n);else{let E;h&&(E=this.pluralResolver.getSuffix(g,n.count,n));const T=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&E.indexOf(j)===0&&b.push(c+E.replace(j,this.options.pluralSeparator)),b.push(c+E),f&&b.push(c+T)),v){const C=`${c}${this.options.contextSeparator||"_"}${n.context}`;b.push(C),h&&(n.ordinal&&E.indexOf(j)===0&&b.push(C+E.replace(j,this.options.pluralSeparator)),b.push(C+E),f&&b.push(C+T))}}let k;for(;k=b.pop();)this.isValidLookup(r)||(i=k,r=this.getResource(g,S,k,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!V(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Rm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ft.create("languageUtils")}getScriptPartFromCode(e){if(e=$i(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=$i(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(V(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),V(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return V(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):V(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const jm={zero:0,one:1,two:2,few:3,many:4,other:5},Om={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class mO{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ft.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=$i(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Om;if(!e.match(/-|_/))return Om;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>jm[s]-jm[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Nm=(t,e,n,r=".",s=!0)=>{let i=aO(t,e,n);return!i&&s&&V(n)&&(i=Hc(t,n,r),i===void 0&&(i=Hc(e,n,r))),i},yu=t=>t.replace(/\$/g,"$$$$");class Am{constructor(e={}){var n;this.logger=Ft.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:S,maxReplaces:y,alwaysFormat:p}=e.interpolation;this.escape=n!==void 0?n:lO,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Nr(i):a||"{{",this.suffix=o?Nr(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Nr(h):f||Nr("$t("),this.nestingSuffix=v?Nr(v):w||Nr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=y||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var f;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const p=Nm(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,r,{...s,...n,interpolationkey:v}):p}const w=v.split(this.formatSeparator),S=w.shift().trim(),y=w.join(this.formatSeparator).trim();return this.format(Nm(n,l,S,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:S})};this.resetRegExp();const c=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>yu(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?yu(this.escape(v)):yu(v)}].forEach(v=>{for(o=0;i=v.regex.exec(e);){const w=i[1].trim();if(a=u(w),a===void 0)if(typeof c=="function"){const y=c(e,i,s);a=V(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),a="";else!V(a)&&!this.useRawValueToEscape&&(a=km(a));const S=v.safeValue(a);if(e=e.replace(i[0],S),d?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const f=h.match(/'/g),v=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!v||v.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!V(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!V(i))return i;V(i)||(i=km(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const gO=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Dm=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=t($i(r),s),e[a]=o),o(n)}},yO=t=>(e,n,r)=>t($i(n),r)(e);class vO{constructor(e={}){this.logger=Ft.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Dm:yO;this.formats={number:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:r((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:r((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Dm(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var d;const{formatName:u,formatOptions:c}=gO(l);if(this.formats[u]){let h=o;try{const f=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},v=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](o,v,{...c,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const wO=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class xO extends fl{constructor(e,n,r,s={}){var i,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Ft.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const h=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,c=!1,a[h]===void 0&&(a[h]=!0),i[h]===void 0&&(i[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{iO(l.loaded,[i],a),wO(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();V(e)&&(e=this.languageUtils.toResolveHierarchy(e)),V(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i,a={},o=()=>{}){var l,u,c,d,h;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const f={...a,isUpdate:i},v=this.backend.create.bind(this.backend);if(v.length<6)try{let w;v.length===5?w=v(e,n,r,s,f):w=v(e,n,r,s),w&&typeof w.then=="function"?w.then(S=>o(null,S)).catch(o):o(null,w)}catch(w){o(w)}else v(e,n,r,s,o,f)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const vu=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),V(t[1])&&(e.defaultValue=t[1]),V(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Lm=t=>{var e,n;return V(t.ns)&&(t.ns=[t.ns]),V(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),V(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Ea=()=>{},SO=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class li extends fl{constructor(e={},n){if(super(),this.options=Lm(e),this.services={},this.logger=Ft,this.modules={external:[]},SO(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(V(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=vu();this.options={...r,...this.options,...Lm(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ft.init(s(this.modules.logger),this.options):Ft.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=vO;const c=new Rm(this.options);this.store=new Cm(this.options.resources,this.options);const d=this.services;d.logger=Ft,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new mO(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=s(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Am(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new xO(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(f,...v)=>{this.emit(f,...v)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Oo(this.services,this.options),this.translator.on("*",(f,...v)=>{this.emit(f,...v)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ea),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const o=$s(),l=()=>{const u=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(c,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=Ea){var i,a;let r=n;const s=V(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const s=$s();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ea),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_w.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=$s();this.emit("languageChanging",e);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},a=o=>{var c,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=V(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(V(o)?[o]:o);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,h=>{i(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(d=>(typeof d=="function"&&(d=Kc(d,{...this.options,...a})),`${l.keyPrefix}${u}${d}`)):(typeof i=="function"&&(i=Kc(i,{...this.options,...a})),c=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(c,l)};return V(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=$s();return this.options.ns?(V(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=$s();V(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Rm(vu());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new li(e,n);return r.createInstance=li.createInstance,r}cloneInstance(e={},n=Ea){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new li(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,d)=>(c[d]={...l[u][d]},c),l[u]),l),{});i.store=new Cm(o,s),i.services.resourceStore=i.store}if(e.interpolation){const l={...vu().interpolation,...this.options.interpolation,...e.interpolation},u={...s,interpolation:l};i.services.interpolator=new Am(u)}return i.translator=new Oo(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const He=li.createInstance();He.createInstance;He.dir;He.init;He.loadResources;He.reloadResources;He.use;He.changeLanguage;He.getFixedT;He.t;He.exists;He.setDefaultNamespace;He.hasLoadedNamespace;He.loadNamespaces;He.loadLanguages;const bO=(t,e,n,r)=>{var i,a,o,l;const s=[n,{code:e,...r||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);wr(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Mm={},Tw=(t,e,n,r)=>{wr(n)&&Mm[n]||(wr(n)&&(Mm[n]=new Date),bO(t,e,n,r))},Cw=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},qc=(t,e,n)=>{t.loadNamespaces(e,Cw(t,n))},$m=(t,e,n,r)=>{if(wr(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return qc(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Cw(t,r))},kO=(t,e,n={})=>!e.languages||!e.languages.length?(Tw(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),wr=t=>typeof t=="string",_O=t=>typeof t=="object"&&t!==null,EO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,TO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},CO=t=>TO[t],PO=t=>t.replace(EO,CO);let Gc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:PO,transDefaultProps:void 0};const RO=(t={})=>{Gc={...Gc,...t}},jO=()=>Gc;let Pw;const OO=t=>{Pw=t},NO=()=>Pw,AO={type:"3rdParty",init(t){RO(t.options.react),OO(t)}},DO=x.createContext();class LO{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Rw={exports:{}},jw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=x;function MO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $O=typeof Object.is=="function"?Object.is:MO,IO=ws.useState,FO=ws.useEffect,UO=ws.useLayoutEffect,VO=ws.useDebugValue;function BO(t,e){var n=e(),r=IO({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return UO(function(){s.value=n,s.getSnapshot=e,wu(s)&&i({inst:s})},[t,n,e]),FO(function(){return wu(s)&&i({inst:s}),t(function(){wu(s)&&i({inst:s})})},[t]),VO(n),n}function wu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$O(t,n)}catch{return!0}}function zO(t,e){return e()}var WO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zO:BO;jw.useSyncExternalStore=ws.useSyncExternalStore!==void 0?ws.useSyncExternalStore:WO;Rw.exports=jw;var HO=Rw.exports;const KO=(t,e)=>wr(e)?e:_O(e)&&wr(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,qO={t:KO,ready:!1},GO=()=>()=>{},Ke=(t,e={})=>{var j,C,q;const{i18n:n}=e,{i18n:r,defaultNS:s}=x.useContext(DO)||{},i=n||r||NO();i&&!i.reportNamespaces&&(i.reportNamespaces=new LO),i||Tw(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=x.useMemo(()=>{var R;return{...jO(),...(R=i==null?void 0:i.options)==null?void 0:R.react,...e}},[i,e]),{useSuspense:o,keyPrefix:l}=a,u=s||((j=i==null?void 0:i.options)==null?void 0:j.defaultNS),c=wr(u)?[u]:u||["translation"],d=x.useMemo(()=>c,c);(q=(C=i==null?void 0:i.reportNamespaces)==null?void 0:C.addUsedNamespaces)==null||q.call(C,d);const h=x.useRef(0),f=x.useCallback(R=>{if(!i)return GO;const{bindI18n:O,bindI18nStore:A}=a,H=()=>{h.current+=1,R()};return O&&i.on(O,H),A&&i.store.on(A,H),()=>{O&&O.split(" ").forEach(z=>i.off(z,H)),A&&A.split(" ").forEach(z=>i.store.off(z,H))}},[i,a]),v=x.useRef(),w=x.useCallback(()=>{if(!i)return qO;const R=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(N=>kO(N,i,a)),O=e.lng||i.language,A=h.current,H=v.current;if(H&&H.ready===R&&H.lng===O&&H.keyPrefix===l&&H.revision===A)return H;const Z={t:i.getFixedT(O,a.nsMode==="fallback"?d:d[0],l),ready:R,lng:O,keyPrefix:l,revision:A};return v.current=Z,Z},[i,d,l,a,e.lng]),[S,y]=x.useState(0),{t:p,ready:g}=HO.useSyncExternalStore(f,w,w);x.useEffect(()=>{if(i&&!g&&!o){const R=()=>y(O=>O+1);e.lng?$m(i,e.lng,d,R):qc(i,d,R)}},[i,e.lng,d,g,o,S]);const b=i||{},k=x.useRef(null),_=x.useRef(),E=R=>{const O=Object.getOwnPropertyDescriptors(R);O.__original&&delete O.__original;const A=Object.create(Object.getPrototypeOf(R),O);if(!Object.prototype.hasOwnProperty.call(A,"__original"))try{Object.defineProperty(A,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return A},T=x.useMemo(()=>{const R=b,O=R==null?void 0:R.language;let A=R;R&&(k.current&&k.current.__original===R?_.current!==O?(A=E(R),k.current=A,_.current=O):A=k.current:(A=E(R),k.current=A,_.current=O));const H=[p,A,g];return H.t=p,H.i18n=A,H.ready=g,H},[p,b,g,b.resolvedLanguage,b.language,b.languages]);if(i&&o&&!g)throw new Promise(R=>{const O=()=>R();e.lng?$m(i,e.lng,d,O):qc(i,d,O)});return T};function YO(t){const{i18n:e}=Ke(),[n,r]=x.useState(!0);x.useEffect(()=>{if(!t){r(!1);return}(async()=>{try{const{data:a,error:o}=await xe.from("user_preferences").select("language").eq("user_id",t).single();if(o&&o.code!=="PGRST116")throw o;a!=null&&a.language&&await e.changeLanguage(a.language)}catch(a){console.error("Error loading language preference:",a)}finally{r(!1)}})()},[t,e]);const s=async i=>{if(!t){await e.changeLanguage(i);return}try{await e.changeLanguage(i);const{error:a}=await xe.from("user_preferences").upsert({user_id:t,language:i,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(a)throw a;fe.success(i==="en"?"Language changed to English":"   ",{duration:2e3})}catch(a){console.error("Error saving language preference:",a),fe.error("Failed to save language preference")}};return{currentLanguage:e.language,changeLanguage:s,loading:n}}function JO(){var h,f;const t=qd(),{t:e}=Ke(),[n,r]=x.useState(!1),[s,i]=x.useState(!1),[a,o]=x.useState(null),{currentLanguage:l,changeLanguage:u}=YO(a==null?void 0:a.id);x.useEffect(()=>{xe.auth.getUser().then(({data:{user:w}})=>{o(w)});const v=w=>{w.target.closest(".user-menu")||r(!1),w.target.closest(".lang-menu")||i(!1)};return document.addEventListener("click",v),()=>document.removeEventListener("click",v)},[]);const c=async()=>{await xe.auth.signOut(),fe.success(e("auth.signOutSuccess")),t("/signin")},d=[{path:"/calendar",label:e("nav.calendar"),icon:sl},{path:"/watchlater",label:e("nav.later"),icon:RT},{path:"/all-movies",label:e("nav.allMovies"),icon:Ai},{path:"/statistics",label:e("nav.statistics"),icon:CT}];return m.jsxs("div",{className:"min-h-screen pb-20",children:[m.jsx("header",{className:"glass border-b border-gray-700/50 sticky top-0 z-40",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs(gc,{to:"/calendar",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[m.jsx(Ai,{className:"w-8 h-8 text-gray-400"}),m.jsx("h1",{className:"text-2xl font-bold",children:e("app.name")})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"relative lang-menu",children:[m.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-gray-200 hover:bg-gray-800/50 rounded-lg transition-colors text-sm",children:[m.jsx(AT,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline uppercase",children:l})]}),m.jsx(Po,{children:s&&m.jsxs(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-40 bg-gray-900/95 backdrop-blur-xl rounded-lg shadow-xl border border-gray-700/50 overflow-hidden z-50",children:[m.jsxs("button",{onClick:()=>{u("en"),i(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${l==="en"?"bg-gray-800/50 text-white":"text-gray-300 hover:bg-gray-800/50"}`,children:[m.jsx("span",{className:"text-xl",children:""}),m.jsx("span",{children:"English"})]}),m.jsxs("button",{onClick:()=>{u("uk"),i(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${l==="uk"?"bg-gray-800/50 text-white":"text-gray-300 hover:bg-gray-800/50"}`,children:[m.jsx("span",{className:"text-xl",children:""}),m.jsx("span",{children:""})]})]})})]}),m.jsxs("div",{className:"relative user-menu",children:[m.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-gray-200 hover:bg-gray-800/50 rounded-lg transition-colors text-sm",children:[m.jsx(UT,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:((h=a==null?void 0:a.user_metadata)==null?void 0:h.name)||"User"})]}),m.jsx(Po,{children:n&&m.jsxs(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-gray-900/95 backdrop-blur-xl rounded-lg shadow-xl border border-gray-700/50 overflow-hidden z-50",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-1",children:e("auth.signedInAs")}),m.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:((f=a==null?void 0:a.user_metadata)==null?void 0:f.name)||(a==null?void 0:a.email)||"User"})]}),m.jsxs("button",{onClick:()=>{r(!1),c()},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-800/50 transition-colors text-left",children:[m.jsx(MT,{className:"w-4 h-4"}),m.jsx("span",{children:e("auth.signOut")})]})]})})]})]})]}),m.jsx("nav",{className:"flex gap-1 justify-center",children:d.map(v=>m.jsxs(gc,{to:v.path,className:({isActive:w})=>`
                  flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all
                  ${w?"bg-gray-700 text-white":"text-gray-400 hover:text-white hover:bg-gray-800/50"}
                `,children:[m.jsx(v.icon,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden md:inline text-sm",children:v.label})]},v.path))})]})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:m.jsx(vb,{})})]})}function QO(){const{t}=Ke(),[e,n]=x.useState(""),[r,s]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState(!1),[u,c]=x.useState(!1),[d,h]=x.useState(!1),f=async v=>{var w,S;v.preventDefault(),l(!0);try{if(u){const{data:y,error:p}=await xe.auth.signUp({email:e,password:r,options:{emailRedirectTo:window.location.origin,data:{name:i.trim()||"User"}}});if(p)throw p;((S=(w=y==null?void 0:y.user)==null?void 0:w.identities)==null?void 0:S.length)===0?fe.error(t("auth.emailAlreadyRegistered")):y!=null&&y.user&&!(y!=null&&y.session)?fe.success(t("auth.confirmEmail")):fe.success(t("auth.signUpSuccess"))}else{const{error:y}=await xe.auth.signInWithPassword({email:e,password:r});if(y)throw y;fe.success(t("auth.signInSuccess"))}}catch(y){console.error("Auth error:",y),fe.error(y.message||t("auth.authFailed"))}finally{l(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-900",children:m.jsxs("div",{className:"glass rounded-2xl p-8 w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-700/50 mb-4",children:m.jsx(vp,{className:"w-8 h-8 text-gray-400"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:t("app.name")}),m.jsx("p",{className:"text-gray-400 text-sm",children:t("app.tagline")})]}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:t("auth.name")}),m.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:t("auth.yourName"),className:"input-field",required:!0,disabled:o})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:t("auth.email")}),m.jsxs("div",{className:"relative",children:[m.jsx($T,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),m.jsx("input",{type:"email",value:e,onChange:v=>n(v.target.value),placeholder:t("auth.yourEmail"),className:"input-field pl-11",required:!0,disabled:o})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:t("auth.password")}),m.jsxs("div",{className:"relative",children:[m.jsx(LT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),m.jsx("input",{type:d?"text":"password",value:r,onChange:v=>s(v.target.value),placeholder:"",className:"input-field pl-11 pr-11",required:!0,disabled:o,minLength:6}),m.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-400",title:t(d?"auth.hidePassword":"auth.showPassword"),children:d?m.jsx(jT,{className:"w-5 h-5"}):m.jsx(OT,{className:"w-5 h-5"})})]}),u&&m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),m.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full flex items-center justify-center gap-2",children:o?m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(vp,{className:"w-5 h-5"}),t(u?"auth.signUp":"auth.signIn")]})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>c(!u),className:"text-sm text-gray-400 hover:text-gray-300",disabled:o,children:t(u?"auth.alreadyHaveAccount":"auth.dontHaveAccount")})})]})})}function XO(){return m.jsx(QO,{})}function ee(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function In(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Ow=6048e5,ZO=864e5,Nw=6e4,Aw=36e5;let eN={};function pl(){return eN}function xr(t,e){var o,l,u,c;const n=pl(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=ee(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function No(t){return xr(t,{weekStartsOn:1})}function Dw(t){const e=ee(t),n=e.getFullYear(),r=In(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=No(r),i=In(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=No(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Ao(t){const e=ee(t);return e.setHours(0,0,0,0),e}function Im(t){const e=ee(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Lw(t,e){const n=Ao(t),r=Ao(e),s=+n-Im(n),i=+r-Im(r);return Math.round((s-i)/ZO)}function tN(t){const e=Dw(t),n=In(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),No(n)}function nN(t){return In(t,Date.now())}function Do(t,e){const n=Ao(t),r=Ao(e);return+n==+r}function rN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sN(t){if(!rN(t)&&typeof t!="number")return!1;const e=ee(t);return!isNaN(Number(e))}function iN(t,e){const n=ee(t),r=ee(e),s=Fm(n,r),i=Math.abs(Lw(n,r));n.setDate(n.getDate()-s*i);const a=+(Fm(n,r)===-s),o=s*(i-a);return o===0?0:o}function Fm(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function aN(t){const e=ee(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function oN(t,e){const n=ee(t.start),r=ee(t.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=i;)l.push(ee(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return s?l.reverse():l}function lN(t,e){const n=ee(t.start),r=ee(t.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=i;)l.push(ee(a)),a.setMonth(a.getMonth()+o);return s?l.reverse():l}function uN(t){const e=ee(t);return e.setDate(1),e.setHours(0,0,0,0),e}function cN(t){const e=ee(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Mw(t){const e=ee(t),n=In(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const dN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hN=(t,e,n)=>{let r;const s=dN[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function us(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gN={date:us({formats:fN,defaultWidth:"full"}),time:us({formats:pN,defaultWidth:"full"}),dateTime:us({formats:mN,defaultWidth:"full"})},yN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vN=(t,e,n,r)=>yN[t];function Mt(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const wN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_N={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EN=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TN={ordinalNumber:EN,era:Mt({values:wN,defaultWidth:"wide"}),quarter:Mt({values:xN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mt({values:SN,defaultWidth:"wide"}),day:Mt({values:bN,defaultWidth:"wide"}),dayPeriod:Mt({values:kN,defaultWidth:"wide",formattingValues:_N,defaultFormattingWidth:"wide"})};function $t(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?PN(o,d=>d.test(a)):CN(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function CN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function PN(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $w(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const RN=/^(\d+)(th|st|nd|rd)?/i,jN=/\d+/i,ON={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NN={any:[/^b/i,/^(a|c)/i]},AN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DN={any:[/1/i,/2/i,/3/i,/4/i]},LN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$N={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VN={ordinalNumber:$w({matchPattern:RN,parsePattern:jN,valueCallback:t=>parseInt(t,10)}),era:$t({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:NN,defaultParseWidth:"any"}),quarter:$t({matchPatterns:AN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$t({matchPatterns:LN,defaultMatchWidth:"wide",parsePatterns:MN,defaultParseWidth:"any"}),day:$t({matchPatterns:$N,defaultMatchWidth:"wide",parsePatterns:IN,defaultParseWidth:"any"}),dayPeriod:$t({matchPatterns:FN,defaultMatchWidth:"any",parsePatterns:UN,defaultParseWidth:"any"})},ml={code:"en-US",formatDistance:hN,formatLong:gN,formatRelative:vN,localize:TN,match:VN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BN(t){const e=ee(t);return Lw(e,Mw(e))+1}function zN(t){const e=ee(t),n=+No(e)-+tN(e);return Math.round(n/Ow)+1}function Iw(t,e){var c,d,h,f;const n=ee(t),r=n.getFullYear(),s=pl(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=In(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=xr(a,e),l=In(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=xr(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function WN(t,e){var o,l,u,c;const n=pl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Iw(t,e),i=In(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),xr(i,e)}function HN(t,e){const n=ee(t),r=+xr(n,e)-+WN(n,e);return Math.round(r/Ow)+1}function J(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const fn={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return J(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):J(n+1,2)},d(t,e){return J(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return J(t.getHours()%12||12,e.length)},H(t,e){return J(t.getHours(),e.length)},m(t,e){return J(t.getMinutes(),e.length)},s(t,e){return J(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return J(s,e.length)}},Ar={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Um={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return fn.y(t,e)},Y:function(t,e,n,r){const s=Iw(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return J(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):J(i,e.length)},R:function(t,e){const n=Dw(t);return J(n,e.length)},u:function(t,e){const n=t.getFullYear();return J(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return J(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return J(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return fn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return J(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=HN(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):J(s,e.length)},I:function(t,e,n){const r=zN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):J(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fn.d(t,e)},D:function(t,e,n){const r=BN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):J(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return J(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return J(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return J(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ar.noon:r===0?s=Ar.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ar.evening:r>=12?s=Ar.afternoon:r>=4?s=Ar.morning:s=Ar.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fn.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):J(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):J(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fn.s(t,e)},S:function(t,e){return fn.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Bm(r);case"XXXX":case"XX":return rr(r);case"XXXXX":case"XXX":default:return rr(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Bm(r);case"xxxx":case"xx":return rr(r);case"xxxxx":case"xxx":default:return rr(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vm(r,":");case"OOOO":default:return"GMT"+rr(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vm(r,":");case"zzzz":default:return"GMT"+rr(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return J(r,e.length)},T:function(t,e,n){const r=t.getTime();return J(r,e.length)}};function Vm(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+J(i,2)}function Bm(t,e){return t%60===0?(t>0?"-":"+")+J(Math.abs(t)/60,2):rr(t,e)}function rr(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=J(Math.trunc(r/60),2),i=J(r%60,2);return n+s+e+i}const zm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KN=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zm(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",zm(r,e)).replace("{{time}}",Fw(s,e))},qN={p:Fw,P:KN},GN=/^D+$/,YN=/^Y+$/,JN=["D","DD","YY","YYYY"];function QN(t){return GN.test(t)}function XN(t){return YN.test(t)}function ZN(t,e,n){const r=eA(t,e,n);if(console.warn(r),JN.includes(t))throw new RangeError(r)}function eA(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rA=/^'([^]*?)'?$/,sA=/''/g,iA=/[a-zA-Z]/;function Ve(t,e,n){var c,d,h,f,v,w,S,y;const r=pl(),s=(n==null?void 0:n.locale)??r.locale??ml,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((w=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((y=(S=r.locale)==null?void 0:S.options)==null?void 0:y.weekStartsOn)??0,o=ee(t);if(!sN(o))throw new RangeError("Invalid time value");let l=e.match(nA).map(p=>{const g=p[0];if(g==="p"||g==="P"){const b=qN[g];return b(p,s.formatLong)}return p}).join("").match(tA).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:aA(p)};if(Um[g])return{isToken:!0,value:p};if(g.match(iA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XN(g)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&QN(g))&&ZN(g,e,String(t));const b=Um[g[0]];return b(o,g,s.localize,u)}).join("")}function aA(t){const e=t.match(rA);return e?e[1].replace(sA,"'"):t}function oA(t){return ee(t).getDay()}function Uw(t,e,n){const r=xr(t,n),s=xr(e,n);return+r==+s}function lA(t,e){const n=ee(t),r=ee(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function uA(t){return Do(t,nN(t))}function Wm(t,e){const r=fA(t);let s;if(r.date){const l=pA(r.date,2);s=mA(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(r.time&&(a=gA(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=yA(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const Ta={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fA(t){const e={},n=t.split(Ta.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ta.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ta.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Ta.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function pA(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function mA(t,e){if(e===null)return new Date(NaN);const n=t.match(cA);if(!n)return new Date(NaN);const r=!!n[4],s=Is(n[1]),i=Is(n[2])-1,a=Is(n[3]),o=Is(n[4]),l=Is(n[5])-1;if(r)return bA(e,o,l)?vA(e,o,l):new Date(NaN);{const u=new Date(0);return!xA(e,i,a)||!SA(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function Is(t){return t?parseInt(t):1}function gA(t){const e=t.match(dA);if(!e)return NaN;const n=xu(e[1]),r=xu(e[2]),s=xu(e[3]);return kA(n,r,s)?n*Aw+r*Nw+s*1e3:NaN}function xu(t){return t&&parseFloat(t.replace(",","."))||0}function yA(t){if(t==="Z")return 0;const e=t.match(hA);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return _A(r,s)?n*(r*Aw+s*Nw):NaN}function vA(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const wA=[31,null,31,30,31,30,31,31,30,31,30,31];function Vw(t){return t%400===0||t%4===0&&t%100!==0}function xA(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(wA[e]||(Vw(t)?29:28))}function SA(t,e){return e>=1&&e<=(Vw(t)?366:365)}function bA(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function kA(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function _A(t,e){return e>=0&&e<=59}function Fs(t,e){if(t.one!==void 0&&e===1)return t.one;const n=e%10,r=e%100;return n===1&&r!==11?t.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function Ie(t){return(e,n)=>n&&n.addSuffix?n.comparison&&n.comparison>0?t.future?Fs(t.future,e):" "+Fs(t.regular,e):t.past?Fs(t.past,e):Fs(t.regular,e)+" ":Fs(t.regular,e)}const EA=(t,e)=>e&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",TA={lessThanXSeconds:Ie({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:EA,lessThanXMinutes:Ie({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} i",pluralGenitive:"{{count}} "}}),aboutXWeeks:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Ie({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Ie({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},CA=(t,e,n)=>(n=n||{},TA[t](e,n)),PA={full:"EEEE, do MMMM y '.'",long:"do MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},RA={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},jA={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OA={date:us({formats:PA,defaultWidth:"full"}),time:us({formats:RA,defaultWidth:"full"}),dateTime:us({formats:jA,defaultWidth:"full"})},Ph=["","","","","","",""];function NA(t){const e=Ph[t];switch(t){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}function Bw(t){return"' "+Ph[t]+" ' p"}function AA(t){const e=Ph[t];switch(t){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}const DA=(t,e,n)=>{const r=ee(t),s=r.getDay();return Uw(r,e,n)?Bw(s):NA(s)},LA=(t,e,n)=>{const r=ee(t),s=r.getDay();return Uw(r,e,n)?Bw(s):AA(s)},MA={lastWeek:DA,yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:LA,other:"P"},$A=(t,e,n,r)=>{const s=MA[t];return typeof s=="function"?s(e,n,r):s},IA={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},FA={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},UA={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},VA={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},BA={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},zA={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},WA={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:".",night:""}},HA=(t,e)=>{const n=String(e==null?void 0:e.unit),r=Number(t);let s;return n==="date"?r===3||r===23?s="-":s="-":n==="minute"||n==="second"||n==="hour"?s="-":s="-",r+s},KA={ordinalNumber:HA,era:Mt({values:IA,defaultWidth:"wide"}),quarter:Mt({values:FA,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mt({values:UA,defaultWidth:"wide",formattingValues:VA,defaultFormattingWidth:"wide"}),day:Mt({values:BA,defaultWidth:"wide"}),dayPeriod:Mt({values:zA,defaultWidth:"any",formattingValues:WA,defaultFormattingWidth:"wide"})},qA=/^(\d+)(-?(||||))?/i,GA=/\d+/i,YA={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},JA={any:[/^/i,/^/i]},QA={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},XA={any:[/1/i,/2/i,/3/i,/4/i]},ZA={narrow:/^[]/i,abbreviated:/^(||()?||||||()?||()?|)\.?/i,wide:/^(||||||||||||||||||||[]?||)/i},e2={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},t2={narrow:/^[]/i,short:/^(||||||)\.?/i,abbreviated:/^(||||?|?|)\.?/i,wide:/^([]|[][]|[][]|[]|()?|\W*?[]|[])/i},n2={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^[]/i,/^/i,/^[]/i,/^/i,/^\W*?[]/i,/^[]/i]},r2={narrow:/^([]|\.?|\.?|||||\.?||)/i,abbreviated:/^([]|\.?|\.?|||||\.?||)/i,wide:/^([]||||||||||)/i},s2={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},i2={ordinalNumber:$w({matchPattern:qA,parsePattern:GA,valueCallback:t=>parseInt(t,10)}),era:$t({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:JA,defaultParseWidth:"any"}),quarter:$t({matchPatterns:QA,defaultMatchWidth:"wide",parsePatterns:XA,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$t({matchPatterns:ZA,defaultMatchWidth:"wide",parsePatterns:e2,defaultParseWidth:"any"}),day:$t({matchPatterns:t2,defaultMatchWidth:"wide",parsePatterns:n2,defaultParseWidth:"any"}),dayPeriod:$t({matchPatterns:r2,defaultMatchWidth:"wide",parsePatterns:s2,defaultParseWidth:"any"})},Rh={code:"uk",formatDistance:CA,formatLong:OA,formatRelative:$A,localize:KA,match:i2,options:{weekStartsOn:1,firstWeekContainsDate:1}};function a2({selectedDate:t,onSelectDate:e,watchedFilms:n}){const{i18n:r}=Ke(),s=r.language==="uk"?Rh:ml,[i,a]=x.useState(new Date),o=uN(i),l=aN(i),u=oN({start:o,end:l}),c=o.getDay(),d=c===0?6:c-1,h=Array(d).fill(null),f=()=>{a(new Date(i.getFullYear(),i.getMonth()-1))},v=()=>{a(new Date(i.getFullYear(),i.getMonth()+1))},w=y=>n.filter(p=>Do(new Date(p.watchDate),y)),S=r.language==="uk"?["","","","","","",""]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return m.jsxs("div",{className:"w-full",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("button",{onClick:f,className:"p-2 glass-hover rounded-lg",children:m.jsx(jc,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),m.jsx("h2",{className:"text-xl sm:text-2xl font-bold capitalize",children:Ve(i,"LLLL yyyy",{locale:s})}),m.jsx("button",{onClick:v,className:"p-2 glass-hover rounded-lg",children:m.jsx(Oc,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),m.jsxs("div",{className:"glass rounded-xl p-3 sm:p-4",children:[m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:S.map(y=>m.jsx("div",{className:"text-center text-xs sm:text-sm font-semibold text-gray-400 py-2",children:y},y))}),m.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[h.map((y,p)=>m.jsx("div",{className:"aspect-square"},`empty-${p}`)),u.map(y=>{const p=w(y),g=t&&Do(y,t),b=uA(y),k=p.length>0;return m.jsx(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(y),className:`
                  aspect-square rounded-lg relative overflow-hidden
                  transition-all duration-200
                  ${g?"bg-gray-700 shadow-lg":k?"bg-gray-800 border border-gray-600 hover:bg-gray-700":"glass-hover"}
                  ${b&&!g?"ring-2 ring-gray-500":""}
                `,children:m.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-1",children:[m.jsx("span",{className:`text-sm md:text-base font-medium ${g?"text-white":""}`,children:Ve(y,"d")}),k&&m.jsxs("div",{className:"flex flex-col gap-0.5 mt-1 items-center",children:[m.jsx("div",{className:"flex gap-0.5",children:p.slice(0,4).map((_,E)=>m.jsx("div",{className:`w-1 h-1 rounded-full ${g?"bg-white":"bg-gray-400"}`},E))}),p.length>4&&m.jsx("div",{className:"flex gap-0.5",children:p.slice(4,8).map((_,E)=>m.jsx("div",{className:`w-1 h-1 rounded-full ${g?"bg-white":"bg-gray-400"}`},E))})]})]})},y.toString())})]})]})]})}function gl({rating:t,onRatingChange:e,readonly:n=!1,size:r="md"}){const s={sm:"w-4 h-4",md:"w-5 h-5 sm:w-6 sm:h-6",lg:"w-8 h-8"};return m.jsx("div",{className:"flex gap-1",children:[...Array(10)].map((i,a)=>{const o=a+1,l=o<=t;return m.jsx("button",{type:"button",onClick:()=>!n&&e(o),onMouseEnter:u=>{n||u.currentTarget.parentElement.querySelectorAll("svg").forEach((c,d)=>{d<o?c.classList.add("fill-yellow-400","text-yellow-400"):c.classList.remove("fill-yellow-400","text-yellow-400")})},onMouseLeave:u=>{n||u.currentTarget.parentElement.querySelectorAll("svg").forEach((c,d)=>{d<t?c.classList.add("fill-yellow-400","text-yellow-400"):c.classList.remove("fill-yellow-400","text-yellow-400")})},className:`transition-transform ${!n&&"hover:scale-110"}`,disabled:n,children:m.jsx(Zn,{className:`${s[r]} transition-colors ${l?"fill-yellow-400 text-yellow-400":"text-gray-600 hover:text-yellow-400"}`})},a)})})}function jh({isOpen:t,onClose:e,onConfirm:n,title:r,message:s,confirmText:i,cancelText:a}){const{t:o}=Ke();return m.jsx(Po,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:m.jsxs(Q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass rounded-2xl max-w-md w-full p-6 relative",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-gray-700/50 rounded-lg transition-colors",children:m.jsx(e0,{className:"w-5 h-5"})}),m.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-500/20 mb-4",children:m.jsx(ET,{className:"w-6 h-6 text-red-400"})}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:r}),m.jsx("p",{className:"text-gray-400 mb-6",children:s}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 glass-hover rounded-lg font-medium transition-all",children:a||o("confirmModal.cancel")}),m.jsx("button",{onClick:()=>{n(),e()},className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-all",children:i||o("confirmModal.delete")})]})]})})]})})}function o2({selectedDate:t,films:e,onAddClick:n,onDeleteFilm:r,onEditFilm:s}){const{t:i}=Ke(),[a,o]=x.useState(null);return t?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold",children:Ve(t,"d MMMM yyyy")}),m.jsxs("button",{onClick:n,className:"btn-primary flex items-center gap-2 w-full sm:w-auto justify-center",children:[m.jsx(sh,{className:"w-5 h-5"}),m.jsx("span",{children:i("addMovie.addMovie")})]})]}),e.length===0?m.jsxs("div",{className:"glass rounded-xl p-6 sm:p-8 text-center",children:[m.jsx("p",{className:"text-sm sm:text-base text-gray-400 mb-4",children:"No movies watched on this day"}),m.jsx("button",{onClick:n,className:"btn-secondary w-full sm:w-auto",children:"Add first movie"})]}):m.jsx("div",{className:"space-y-4",children:e.map((l,u)=>m.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"glass rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300",children:m.jsxs("div",{className:"p-4 sm:p-6 relative",children:[m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[m.jsx("button",{onClick:()=>s(l),className:"p-2 sm:p-3 rounded-lg bg-blue-600/20 hover:bg-blue-600/30 border border-blue-600/50 transition-all",title:i("common.edit"),children:m.jsx(Qv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})}),m.jsx("button",{onClick:()=>o(l),className:"p-2 sm:p-3 rounded-lg glass-hover text-red-400 hover:text-red-300 transition-all",title:i("common.delete"),children:m.jsx(ih,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"pr-20",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg sm:text-xl font-bold mb-1",children:l.title}),l.year&&m.jsx("p",{className:"text-gray-500 text-sm",children:l.year})]}),l.rating>0&&m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(gl,{rating:l.rating,readonly:!0,size:"sm"}),m.jsxs("span",{className:"text-yellow-400 font-bold text-sm sm:text-base",children:[l.rating,"/10"]})]})]}),l.note&&m.jsx("div",{className:"glass rounded-lg p-3",children:m.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:l.note})})]})]})},l.id))}),m.jsx(jh,{isOpen:!!a,onClose:()=>o(null),onConfirm:()=>{r(a.id),o(null)},title:i("confirmModal.deleteMovie"),message:`${i("confirmModal.confirmDelete")} "${a==null?void 0:a.title}"? ${i("confirmModal.cannotBeUndone")}`})]}):m.jsxs("div",{className:"glass rounded-xl p-8 sm:p-12 text-center",children:[m.jsx(sl,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-gray-600 mb-4"}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Select a day"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Click on a day in the calendar to view movies"})]})}function zw({isOpen:t,onClose:e,children:n,title:r,size:s="md"}){x.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return m.jsx(Po,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"min-h-full flex items-center justify-center p-2 sm:p-4",children:m.jsxs(Q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`glass rounded-2xl ${i[s]} w-full max-h-[90vh] flex flex-col relative overflow-hidden`,children:[r&&m.jsxs("div",{className:"sticky top-0 glass border-b border-gray-700/50 px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between rounded-t-2xl z-10",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:r}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors flex-shrink-0",children:m.jsx(e0,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),m.jsx("div",{className:"p-3 sm:p-6 overflow-y-auto",children:n})]})})})]})})}function Oh({isOpen:t,onClose:e,onSave:n,selectedDate:r=null,editingFilm:s=null,isAddingToWatchLater:i=!1}){const{t:a}=Ke(),[o,l]=x.useState(""),[u,c]=x.useState(""),[d,h]=x.useState(Ve(r||new Date,"yyyy-MM-dd")),[f,v]=x.useState(0),[w,S]=x.useState("");x.useEffect(()=>{var p;s?(l(s.title||""),c(((p=s.year)==null?void 0:p.toString())||""),s.watchDate?h(Ve(new Date(s.watchDate),"yyyy-MM-dd")):h(Ve(r||new Date,"yyyy-MM-dd")),v(s.rating||0),S(s.note||"")):(l(""),c(""),h(Ve(r||new Date,"yyyy-MM-dd")),v(0),S(""))},[s,r,t]);const y=async()=>{if(!o.trim())return;const p={title:o.trim(),year:u?parseInt(u):null,rating:f,poster:null};i||(p.watchDate=new Date(d).toISOString(),p.note=w.trim()),s&&(p.id=s.id),await n(p),e()};return m.jsx(zw,{isOpen:t,onClose:e,title:a(i?"addMovie.addToLater":s?"addMovie.editMovie":"addMovie.addMovie"),size:"md",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2",children:[a("addMovie.movieTitle")," ",a("addMovie.required")]}),m.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:a("addMovie.movieTitlePlaceholder"),className:"input-field"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:a("addMovie.year")}),m.jsx("input",{type:"number",value:u,onChange:p=>c(p.target.value),placeholder:"2024",className:"input-field",min:"1900",max:"2100"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:a(i?"addMovie.priority":"addMovie.rating")}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[m.jsx(gl,{rating:f,onRatingChange:v}),m.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-yellow-400",children:[f,"/10"]})]})]}),!i&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2",children:[m.jsx(sl,{className:"w-4 h-4 inline mr-2"}),a("addMovie.watchDate")]}),m.jsx("input",{type:"date",value:d,onChange:p=>h(p.target.value),className:"input-field",max:Ve(new Date,"yyyy-MM-dd")})]}),!i&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:a("addMovie.notes")}),m.jsx("textarea",{value:w,onChange:p=>{S(p.target.value),p.target.style.height="auto",p.target.style.height=p.target.scrollHeight+"px"},placeholder:a("addMovie.notesPlaceholder"),className:"input-field resize-none",rows:1})]}),m.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 justify-end",children:[m.jsx("button",{onClick:e,className:"btn-secondary w-full sm:w-auto",children:a("addMovie.cancel")}),m.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.trim(),children:[m.jsx(Xv,{className:"w-5 h-5"}),a("addMovie.save")]})]})]})})}function l2({watchedFilms:t=[],onAddFilm:e,onUpdateFilm:n,onDeleteFilm:r}){const{t:s}=Ke(),[i,a]=x.useState(new Date),[o,l]=x.useState(!1),[u,c]=x.useState(null),d=i?t.filter(v=>Do(new Date(v.watchDate),i)):[],h=v=>{c(v),l(!0)},f=()=>{l(!1),c(null)};return m.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 space-y-8",children:[m.jsx(a2,{selectedDate:i,onSelectDate:a,watchedFilms:t}),i&&m.jsx(m.Fragment,{children:d.length>0?m.jsx(o2,{selectedDate:i,films:d,onAddClick:()=>l(!0),onEditFilm:h,onDeleteFilm:r}):m.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[m.jsx("h3",{className:"text-xl font-semibold mb-4",children:s("calendar.noFilmsThisDay")}),m.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"btn-primary flex items-center gap-2 mx-auto",children:[m.jsx(sh,{className:"w-5 h-5"}),s("calendar.addFirstFilm")]})]})}),m.jsx(Oh,{isOpen:o,onClose:f,onSave:u?n:e,editingFilm:u,selectedDate:i})]})}function u2({films:t,onMarkAsWatched:e,onDelete:n,onEdit:r}){const{t:s}=Ke(),[i,a]=x.useState(null);return t.length===0?m.jsx("div",{className:"w-full",children:m.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[m.jsx(Ai,{className:"w-16 h-16 mx-auto text-gray-600 mb-4"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:s("watchLater.emptyState")}),m.jsx("p",{className:"text-gray-400",children:s("watchLater.emptyStateDesc")})]})}):m.jsxs("div",{className:"w-full",children:[m.jsx("div",{className:"space-y-4",children:t.map((o,l)=>m.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.05},className:"glass rounded-xl overflow-hidden hover:border-gray-600 transition-all",children:m.jsxs("div",{className:"p-4 sm:p-6",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[m.jsx("h4",{className:"text-lg sm:text-xl font-bold flex-1 break-words pr-2",children:o.title}),m.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[m.jsx("button",{onClick:()=>r(o),className:"p-2 sm:p-3 rounded-lg bg-blue-600/20 hover:bg-blue-600/30 border border-blue-600/50 transition-all",title:s("common.edit"),children:m.jsx(IT,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})}),m.jsx("button",{onClick:()=>e(o),className:"p-2 sm:p-3 rounded-lg bg-green-600/20 hover:bg-green-600/30 border border-green-600/50 transition-all",title:s("watchLater.markAsWatched"),children:m.jsx(PT,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})}),m.jsx("button",{onClick:()=>a(o),className:"p-2 sm:p-3 rounded-lg glass-hover text-red-400 hover:text-red-300 transition-all",title:s("common.delete"),children:m.jsx(ih,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 flex-wrap",children:[o.year&&m.jsx("span",{children:o.year}),o.rating>0&&m.jsxs("span",{className:"text-yellow-400",children:[" ",o.rating,"/10"]}),m.jsxs("span",{className:"text-xs",children:["Added ",Ve(new Date(o.addedDate),"MMM d, yyyy")]})]})]})},o.id))}),m.jsx(jh,{isOpen:!!i,onClose:()=>a(null),onConfirm:()=>{n(i.id),a(null)},title:s("confirmModal.deleteMovie"),message:`${s("confirmModal.confirmDelete")} "${i==null?void 0:i.title}"?`})]})}function c2({isOpen:t,onClose:e,onSave:n,movie:r}){const{t:s}=Ke(),[i,a]=x.useState(Ve(new Date,"yyyy-MM-dd")),[o,l]=x.useState(0),[u,c]=x.useState((r==null?void 0:r.note)||""),d=async()=>{await n({id:r.id,title:r.title,year:r.year||null,watchDate:new Date(i).toISOString(),rating:o,note:u.trim(),poster:null}),e()};return r?m.jsx(zw,{isOpen:t,onClose:e,title:s("watchLater.markAsWatched"),size:"md",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"glass rounded-lg p-4",children:[m.jsx("h3",{className:"text-lg font-bold mb-1",children:r.title}),r.year&&m.jsx("p",{className:"text-gray-500 text-sm",children:r.year})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium mb-2",children:[m.jsx(sl,{className:"w-4 h-4 inline mr-2"}),s("addMovie.watchDate")]}),m.jsx("input",{type:"date",value:i,onChange:h=>a(h.target.value),className:"input-field",max:Ve(new Date,"yyyy-MM-dd")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:s("addMovie.rating")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(gl,{rating:o,onRatingChange:l}),m.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:[o,"/10"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:s("addMovie.notes")}),m.jsx("textarea",{value:u,onChange:h=>c(h.target.value),placeholder:s("addMovie.notesPlaceholder"),className:"input-field min-h-32 resize-none",rows:4})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[m.jsx("button",{onClick:e,className:"btn-secondary w-full sm:w-auto",children:s("addMovie.cancel")}),m.jsxs("button",{onClick:d,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 w-full sm:w-auto",children:[m.jsx(Xv,{className:"w-5 h-5"}),s("moveToWatched.move")]})]})]})}):null}function d2({watchLaterFilms:t,onAddToWatchLater:e,onDeleteFromWatchLater:n,onMoveToWatched:r,onUpdateWatchLater:s}){const{t:i}=Ke(),[a,o]=x.useState(!1),[l,u]=x.useState(null),[c,d]=x.useState(!1),[h,f]=x.useState(null),[v,w]=x.useState(""),[S,y]=x.useState("rating"),[p,g]=x.useState("desc"),b=C=>{S===C?g(p==="asc"?"desc":"asc"):(y(C),g(C==="title"?"asc":"desc"))},k=x.useMemo(()=>{let C=[...t];if(v.trim()){const q=v.toLowerCase();C=C.filter(R=>{var O;return R.title.toLowerCase().includes(q)||((O=R.year)==null?void 0:O.toString().includes(q))})}return C.sort((q,R)=>{let O=0;switch(S){case"rating":O=(R.rating||0)-(q.rating||0);break;case"title":O=q.title.localeCompare(R.title);break;case"year":O=(R.year||0)-(q.year||0);break;default:return 0}return p==="asc"?-O:O}),C},[t,v,S,p]),_=C=>{u(C),d(!0)},E=C=>{r(C),d(!1),u(null)},T=C=>{f(C),o(!0)},j=async C=>{h?(await s(C),f(null)):await e(C),o(!1)};return m.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:i("watchLater.title")}),m.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[t.length," ",t.length===1?i("watchLater.film"):i("watchLater.films")," ",i("watchLater.filmsInQueue")]})]}),m.jsxs("div",{className:"glass rounded-xl p-4 space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Zv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",value:v,onChange:C=>w(C.target.value),placeholder:i("allMovies.search"),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg focus:outline-none focus:border-gray-600 transition-colors"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx(Jv,{className:"w-5 h-5 text-gray-400"}),m.jsxs("span",{className:"text-sm text-gray-400",children:[i("allMovies.sortBy"),":"]}),m.jsxs("button",{onClick:()=>b("rating"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${S==="rating"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[i("allMovies.rating")," ",S==="rating"&&(p==="asc"?"":"")]}),m.jsxs("button",{onClick:()=>b("title"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${S==="title"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[i("allMovies.movieTitle")," ",S==="title"&&(p==="asc"?"":"")]}),m.jsxs("button",{onClick:()=>b("year"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${S==="year"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[i("addMovie.year")," ",S==="year"&&(p==="asc"?"":"")]})]})]}),t.length>0&&m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold",children:new Date().toLocaleDateString(i("app.locale"),{day:"numeric",month:"long",year:"numeric"})}),m.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"btn-primary flex items-center gap-2 w-full sm:w-auto justify-center",children:[m.jsx(sh,{className:"w-5 h-5"}),i("watchLater.addFilm")]})]}),m.jsx(u2,{films:k,onMarkAsWatched:_,onDelete:n,onEdit:T}),a&&m.jsx(Oh,{isOpen:a,onClose:()=>{o(!1),f(null)},onSave:j,editingFilm:h,isAddingToWatchLater:!0}),c&&l&&m.jsx(c2,{isOpen:c,onClose:()=>{d(!1),u(null)},onSave:E,movie:l})]})}function h2({films:t,onEditFilm:e,onDeleteFilm:n}){const{t:r,i18n:s}=Ke(),i=s.language==="uk"?Rh:ml,[a,o]=x.useState(null);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"space-y-4",children:t.map((l,u)=>m.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.03},className:"glass rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300",children:m.jsxs("div",{className:"p-4 sm:p-6 relative",children:[m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[m.jsx("button",{onClick:()=>e(l),className:"p-2 sm:p-3 rounded-lg bg-blue-600/20 hover:bg-blue-600/30 border border-blue-600/50 transition-all",title:r("common.edit"),children:m.jsx(Qv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})}),m.jsx("button",{onClick:()=>o(l),className:"p-2 sm:p-3 rounded-lg glass-hover text-red-400 hover:text-red-300 transition-all",title:r("common.delete"),children:m.jsx(ih,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"pr-16 sm:pr-20",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg sm:text-xl font-bold mb-1 break-words",children:l.title}),m.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400 flex-wrap",children:[l.year&&m.jsx("span",{children:l.year}),m.jsx("span",{children:""}),m.jsx("span",{children:Ve(new Date(l.watchDate),"MMM d, yyyy",{locale:i})})]})]}),l.rating>0&&m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(gl,{rating:l.rating,readonly:!0,size:"sm"}),m.jsxs("span",{className:"text-yellow-400 font-bold text-sm sm:text-base",children:[l.rating,"/10"]})]})]}),l.note&&m.jsx("div",{className:"glass rounded-lg p-3",children:m.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-wrap break-words line-clamp-2",children:l.note})})]})]})},l.id))}),m.jsx(jh,{isOpen:!!a,onClose:()=>o(null),onConfirm:()=>{n(a.id),o(null)},title:r("confirmModal.deleteMovie"),message:`${r("confirmModal.confirmDelete")} "${a==null?void 0:a.title}"? ${r("confirmModal.cannotBeUndone")}`})]})}function f2({watchedFilms:t,onEditFilm:e,onDeleteFilm:n}){const{t:r}=Ke(),[s,i]=x.useState(""),[a,o]=x.useState("rating"),[l,u]=x.useState("desc"),[c,d]=x.useState(null),h=v=>{a===v?u(l==="asc"?"desc":"asc"):(o(v),u(v==="title"?"asc":"desc"))},f=x.useMemo(()=>{let v=[...t];if(s.trim()){const w=s.toLowerCase();v=v.filter(S=>{var y;return S.title.toLowerCase().includes(w)||((y=S.year)==null?void 0:y.toString().includes(w))})}return v.sort((w,S)=>{let y=0;switch(a){case"rating":y=(S.rating||0)-(w.rating||0);break;case"title":y=w.title.localeCompare(S.title);break;case"year":y=(S.year||0)-(w.year||0);break;default:return 0}return l==="asc"?-y:y}),v},[t,s,a,l]);return m.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:r("allMovies.title")}),m.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[t.length," ",t.length===1?r("watchLater.film"):r("watchLater.films")," ",r("calendar.filmsWatched")]})]}),m.jsxs("div",{className:"glass rounded-xl p-4 space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Zv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",value:s,onChange:v=>i(v.target.value),placeholder:r("allMovies.search"),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg focus:outline-none focus:border-gray-600 transition-colors"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx(Jv,{className:"w-5 h-5 text-gray-400"}),m.jsxs("span",{className:"text-sm text-gray-400",children:[r("allMovies.sortBy"),":"]}),m.jsxs("button",{onClick:()=>h("rating"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${a==="rating"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[r("allMovies.rating")," ",a==="rating"&&(l==="asc"?"":"")]}),m.jsxs("button",{onClick:()=>h("title"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${a==="title"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[r("allMovies.movieTitle")," ",a==="title"&&(l==="asc"?"":"")]}),m.jsxs("button",{onClick:()=>h("year"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${a==="year"?"bg-blue-600 text-white":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[r("addMovie.year")," ",a==="year"&&(l==="asc"?"":"")]})]})]}),f.length===0?m.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[m.jsx(Ai,{className:"w-16 h-16 mx-auto text-gray-600 mb-4"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:r(s?"allMovies.noMoviesFound":"statistics.noMoviesYet")}),m.jsx("p",{className:"text-gray-400",children:r(s?"allMovies.tryDifferentSearch":"watchLater.emptyStateDesc")})]}):m.jsx(h2,{films:f,onEditFilm:d,onDeleteFilm:n}),c&&m.jsx(Oh,{isOpen:!!c,onClose:()=>d(null),onSave:async v=>{await e(v),d(null)},editingFilm:c})]})}function p2({films:t=[]}){var l;const{t:e,i18n:n}=Ke(),r=n.language==="uk"?Rh:ml,[s,i]=x.useState(new Date().getFullYear()),a=x.useMemo(()=>{if(!t||t.length===0)return[new Date().getFullYear()];const u=t.map(d=>new Date(d.watchDate).getFullYear()),c=[...new Set(u)].sort((d,h)=>h-d);return c.length>0?c:[new Date().getFullYear()]},[t]),o=x.useMemo(()=>{if(!t||t.length===0)return null;const u=t,c=new Date().getFullYear();u.filter(R=>new Date(R.watchDate).getFullYear()===c);const d=u.filter(R=>new Date(R.watchDate).getFullYear()===s),h=[...new Set(u.map(R=>Ve(new Date(R.watchDate),"yyyy-MM-dd")))].sort();let f=0,v=0;for(let R=0;R<h.length;R++){if(R===0)v=1;else{const O=Wm(h[R-1]),A=Wm(h[R]);iN(A,O)===1?v++:v=1}f=Math.max(f,v)}const w=u.filter(R=>R.rating>0),S=w.length>0?(w.reduce((R,O)=>R+O.rating,0)/w.length).toFixed(1):0,y=w.length,p=[...u].filter(R=>R.rating>0).sort((R,O)=>O.rating-R.rating).slice(0,5),g={};u.forEach(R=>{const O=Ve(new Date(R.watchDate),"yyyy-MM-dd");g[O]=(g[O]||0)+1});const b=Object.entries(g).sort((R,O)=>O[1]-R[1])[0],_=lN({start:Mw(new Date(s,0,1)),end:cN(new Date(s,0,1))}).map(R=>{const O=d.filter(z=>lA(new Date(z.watchDate),R)),A=O.filter(z=>z.rating>0),H=A.length>0?(A.reduce((z,Z)=>z+Z.rating,0)/A.length).toFixed(1):0;return{month:Ve(R,"MMM",{locale:r}),count:O.length,avgRating:H}}),E=Array.from({length:10},(R,O)=>{const A=O+1;return{rating:A,count:u.filter(H=>H.rating===A).length}}).reverse(),j=(n.language==="uk"?["","","","","","",""]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).map((R,O)=>({day:R,count:u.filter(A=>oA(new Date(A.watchDate))===O).length})),C=a.slice(0,5).map(R=>({year:R,count:u.filter(O=>new Date(O.watchDate).getFullYear()===R).length,avgRating:(()=>{const O=u.filter(A=>new Date(A.watchDate).getFullYear()===R&&A.rating>0);return O.length>0?(O.reduce((A,H)=>A+H.rating,0)/O.length).toFixed(1):0})()})),q=[...u].filter(R=>R.rating>0).sort((R,O)=>R.rating-O.rating).slice(0,5);return{total:u.length,longestStreak:f,selectedYearCount:d.length,avgRating:S,ratedCount:y,bestRated:p,worstRated:q,mostActiveDay:b,monthlyStats:_,ratingDistribution:E,dayOfWeekStats:j,yearlyComparison:C}},[t,s,a]);return o?m.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6 px-4 sm:px-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-xl p-6 text-center",children:[m.jsx(Ai,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),m.jsx("div",{className:"text-3xl font-bold mb-1",children:o.total}),m.jsx("div",{className:"text-sm text-gray-400",children:e("statistics.totalWatched")})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl p-6 text-center",children:[m.jsx(NT,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),m.jsx("div",{className:"text-3xl font-bold mb-1",children:o.longestStreak}),m.jsx("div",{className:"text-sm text-gray-400",children:e("statistics.longestStreak")})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass rounded-xl p-6 text-center",children:[m.jsx(Zn,{className:"w-8 h-8 mx-auto mb-2 text-yellow-400"}),m.jsx("div",{className:"text-3xl font-bold mb-1",children:o.avgRating>0?o.avgRating:"-"}),m.jsxs("div",{className:"text-sm text-gray-400",children:[e("statistics.averageRating"),o.ratedCount>0&&m.jsxs("span",{className:"block text-xs mt-1",children:["(",o.ratedCount," rated)"]})]})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-6 text-center",children:[m.jsx(TT,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),m.jsx("div",{className:"text-3xl font-bold mb-1",children:((l=o.mostActiveDay)==null?void 0:l[1])||0}),m.jsx("div",{className:"text-sm text-gray-400",children:e("statistics.mostActiveDay")})]})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-xl font-bold",children:e("statistics.monthlyActivity")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>{const u=a.indexOf(s);u<a.length-1&&i(a[u+1])},disabled:a.indexOf(s)===a.length-1,className:"p-2 glass-hover rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:m.jsx(jc,{className:"w-5 h-5"})}),m.jsx("span",{className:"text-lg font-bold px-4",children:s}),m.jsx("button",{onClick:()=>{const u=a.indexOf(s);u>0&&i(a[u-1])},disabled:a.indexOf(s)===0,className:"p-2 glass-hover rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:m.jsx(Oc,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"space-y-3",children:o.monthlyStats.map((u,c)=>{const d=Math.max(...o.monthlyStats.map(f=>f.count),1),h=u.count/d*100;return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 text-sm text-gray-400 font-medium text-right",children:u.month}),m.jsx("div",{className:"flex-1 h-8 bg-gray-800/30 rounded-lg overflow-hidden relative",children:m.jsx(Q.div,{initial:{width:0},animate:{width:`${h}%`},transition:{delay:.1+c*.03,duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-600/80 to-blue-500/80 flex items-center justify-end px-3",children:u.count>0&&m.jsx("span",{className:"text-sm font-semibold text-white drop-shadow-lg",children:u.count})})})]},u.month)})})]}),o.bestRated.length>0&&m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-6",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(wp,{className:"w-6 h-6 text-green-400"}),e("statistics.bestRated")]}),m.jsx("div",{className:"space-y-3",children:o.bestRated.map((u,c)=>m.jsxs("div",{className:"glass-hover rounded-lg p-3 flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600/20 border border-green-600/50 flex items-center justify-center text-green-400 font-bold text-sm flex-shrink-0",children:c+1}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-sm truncate",children:u.title}),u.year&&m.jsx("p",{className:"text-xs text-gray-500",children:u.year})]}),m.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[m.jsx(Zn,{className:"w-4 h-4 text-green-400 fill-green-400"}),m.jsx("span",{className:"font-bold text-green-400",children:u.rating})]})]},u.id))})]}),o.worstRated.length>0&&m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"glass rounded-xl p-6",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(FT,{className:"w-6 h-6 text-red-400"}),"Bottom 5 by Rating"]}),m.jsx("div",{className:"space-y-3",children:o.worstRated.map((u,c)=>m.jsxs("div",{className:"glass-hover rounded-lg p-3 flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600/20 border border-red-600/50 flex items-center justify-center text-red-400 font-bold text-sm flex-shrink-0",children:c+1}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-sm truncate",children:u.title}),u.year&&m.jsx("p",{className:"text-xs text-gray-500",children:u.year})]}),m.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[m.jsx(Zn,{className:"w-4 h-4 text-red-400 fill-red-400"}),m.jsx("span",{className:"font-bold text-red-400",children:u.rating})]})]},u.id))})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"glass rounded-xl p-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Rating Distribution"}),m.jsx("div",{className:"space-y-2",children:o.ratingDistribution.map((u,c)=>{const d=Math.max(...o.ratingDistribution.map(f=>f.count),1),h=u.count/d*100;return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1 w-12",children:[m.jsx(Zn,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),m.jsx("span",{className:"text-sm font-medium",children:u.rating})]}),m.jsx("div",{className:"flex-1 h-6 bg-gray-800/30 rounded-lg overflow-hidden relative",children:m.jsx(Q.div,{initial:{width:0},animate:{width:`${h}%`},transition:{delay:.1+c*.05,duration:.5},className:"h-full bg-gradient-to-r from-yellow-600/80 to-yellow-500/80 flex items-center justify-end px-2",children:u.count>0&&m.jsx("span",{className:"text-xs font-semibold text-white",children:u.count})})})]},u.rating)})})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass rounded-xl p-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Favorite Viewing Days"}),m.jsx("div",{className:"grid grid-cols-7 gap-2",children:o.dayOfWeekStats.map((u,c)=>{const d=Math.max(...o.dayOfWeekStats.map(f=>f.count),1),h=u.count/d*100;return m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx(Q.div,{initial:{height:0},animate:{height:`${Math.max(h,10)}%`},transition:{delay:.1+c*.1,duration:.5},className:"w-full bg-gradient-to-t from-green-600/80 to-green-500/80 rounded-t-lg mb-2 flex items-start justify-center pt-2 min-h-[40px]",style:{maxHeight:"120px"},children:m.jsx("span",{className:"text-xs font-bold text-white",children:u.count})}),m.jsx("span",{className:"text-xs text-gray-400 font-medium",children:u.day})]},u.day)})})]}),o.yearlyComparison.length>1&&m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"glass rounded-xl p-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Yearly Comparison"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:o.yearlyComparison.map((u,c)=>m.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+c*.1},className:"glass-hover rounded-lg p-4 text-center",children:[m.jsx("div",{className:"text-sm text-gray-400 mb-2",children:u.year}),m.jsx("div",{className:"text-3xl font-bold mb-1",children:u.count}),m.jsx("div",{className:"text-xs text-gray-500",children:"movies"}),u.avgRating>0&&m.jsx("div",{className:"mt-2 pt-2 border-t border-gray-700/50",children:m.jsxs("div",{className:"flex items-center justify-center gap-1",children:[m.jsx(Zn,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),m.jsx("span",{className:"text-sm font-medium text-yellow-400",children:u.avgRating})]})})]},u.year))})]}),m.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"glass rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-xl font-bold",children:e("statistics.monthlyRatings")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>{const u=a.indexOf(s);u<a.length-1&&i(a[u+1])},disabled:a.indexOf(s)===a.length-1,className:"p-2 glass-hover rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:m.jsx(jc,{className:"w-5 h-5"})}),m.jsx("span",{className:"text-lg font-bold px-4",children:s}),m.jsx("button",{onClick:()=>{const u=a.indexOf(s);u>0&&i(a[u-1])},disabled:a.indexOf(s)===0,className:"p-2 glass-hover rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:m.jsx(Oc,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:o.monthlyStats.map((u,c)=>m.jsxs(Q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2+c*.05},className:"bg-gray-800/50 rounded-lg p-4 text-center hover:bg-gray-800/70 transition-colors",children:[m.jsx("div",{className:"text-sm text-gray-400 mb-2",children:u.month}),m.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[m.jsx(Zn,{className:"w-4 h-4 text-yellow-400"}),m.jsx("div",{className:"text-2xl font-bold",children:u.avgRating>0?u.avgRating:"-"})]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[u.count," ",u.count===1?e("watchLater.film"):e("watchLater.films")]})]},c))})]})]}):m.jsx("div",{className:"w-full max-w-6xl mx-auto",children:m.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[m.jsx(wp,{className:"w-16 h-16 mx-auto text-gray-600 mb-4"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("common.noData")}),m.jsx("p",{className:"text-gray-400",children:e("statistics.noMoviesYet")})]})})}function m2({watchedFilms:t}){const{t:e}=Ke();return!t||t.length===0?m.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:e("statistics.title")}),m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:e("statistics.subtitle")})]}),m.jsx("div",{className:"glass rounded-xl p-8 text-center",children:m.jsx("p",{className:"text-gray-400",children:e("statistics.noMoviesYet")})})]}):m.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:e("statistics.title")}),m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:e("statistics.subtitle")})]}),m.jsx(p2,{films:t})]})}function g2({size:t="md",fullScreen:e=!1}){const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},r=m.jsx(Q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:m.jsx(DT,{className:`${n[t]} text-gray-400`})});return e?m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm z-50",children:m.jsxs("div",{className:"glass rounded-xl p-8 flex flex-col items-center gap-4",children:[r,m.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):r}function y2(){const[t,e]=x.useState(null),[n,r]=x.useState(!0),{films:s,refetch:i}=ST(t==null?void 0:t.id),{films:a,refetch:o}=bT(t==null?void 0:t.id);x.useEffect(()=>{xe.auth.getSession().then(({data:{session:p}})=>{e((p==null?void 0:p.user)??null),r(!1)}).catch(p=>{console.error("Error getting session:",p),r(!1)});const{data:{subscription:y}}=xe.auth.onAuthStateChange((p,g)=>{e((g==null?void 0:g.user)??null)});return()=>y.unsubscribe()},[]);const l=s.map(y=>({id:y.id,title:y.title,year:y.year,watchDate:y.watch_date,rating:y.rating,note:y.note,poster:y.poster})),u=a.map(y=>({id:y.id,title:y.title,year:y.year,rating:y.rating,addedDate:y.added_date})),c=async y=>{try{const{error:p}=await xe.from("watched_films").insert({user_id:t.id,title:y.title,year:y.year,watch_date:y.watchDate,rating:y.rating,note:y.note,poster:y.poster});if(p)throw p;await i(),fe.success("Movie added successfully")}catch(p){fe.error("Error adding movie"),console.error(p)}},d=async y=>{try{const{error:p}=await xe.from("watched_films").update({title:y.title,year:y.year,watch_date:y.watchDate,rating:y.rating,note:y.note,poster:y.poster}).eq("id",y.id);if(p)throw p;await i(),fe.success("Movie updated")}catch(p){fe.error("Error updating movie"),console.error(p)}},h=async y=>{try{const{error:p}=await xe.from("watched_films").delete().eq("id",y);if(p)throw p;await i(),fe.success("Movie deleted")}catch(p){fe.error("Error deleting movie"),console.error(p)}},f=async y=>{try{const{error:p}=await xe.from("watch_later").insert({user_id:t.id,title:y.title,year:y.year,rating:y.rating});if(p)throw p;await o(),fe.success("Added to watch later")}catch(p){fe.error("Error adding to watch later"),console.error(p)}},v=async y=>{try{const{error:p}=await xe.from("watch_later").update({title:y.title,year:y.year,rating:y.rating}).eq("id",y.id);if(p)throw p;await o(),fe.success("Movie updated")}catch(p){fe.error("Error updating movie"),console.error(p)}},w=async y=>{try{const{error:p}=await xe.from("watch_later").delete().eq("id",y);if(p)throw p;await o(),fe.success("Removed from watch later")}catch(p){fe.error("Error removing from watch later"),console.error(p)}},S=async y=>{try{const{error:p}=await xe.from("watched_films").insert({user_id:t.id,title:y.title,year:y.year,watch_date:y.watchDate,rating:y.rating,note:y.note,poster:y.poster});if(p)throw p;const{error:g}=await xe.from("watch_later").delete().eq("id",y.id);if(g)throw g;await i(),await o(),fe.success("Moved to watched")}catch(p){fe.error("Error moving to watched"),console.error(p)}};return n?m.jsx(g2,{fullScreen:!0}):m.jsxs(Wb,{basename:"/CinemaTape",children:[m.jsx(Uk,{position:"top-center",toastOptions:{duration:2e3,style:{background:"#1f2937",color:"#f3f4f6",border:"1px solid #374151"}}}),m.jsxs(xb,{children:[m.jsx(Ht,{path:"/signin",element:t?m.jsx(Kl,{to:"/calendar",replace:!0}):m.jsx(XO,{})}),t?m.jsxs(Ht,{element:m.jsx(JO,{}),children:[m.jsx(Ht,{index:!0,element:m.jsx(Kl,{to:"/calendar",replace:!0})}),m.jsx(Ht,{path:"/calendar",element:m.jsx(l2,{watchedFilms:l,onAddFilm:c,onUpdateFilm:d,onDeleteFilm:h})}),m.jsx(Ht,{path:"/watchlater",element:m.jsx(d2,{watchLaterFilms:u,onAddToWatchLater:f,onUpdateWatchLater:v,onDeleteFromWatchLater:w,onMoveToWatched:S})}),m.jsx(Ht,{path:"/all-movies",element:m.jsx(f2,{watchedFilms:l,onEditFilm:d,onDeleteFilm:h})}),m.jsx(Ht,{path:"/statistics",element:m.jsx(m2,{watchedFilms:l})})]}):m.jsx(Ht,{path:"*",element:m.jsx(Kl,{to:"/signin",replace:!0})})]})]})}const{slice:v2,forEach:w2}=[];function x2(t){return w2.call(v2.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function S2(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const Hm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,b2=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!Hm.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Hm.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Km={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=b2(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var k2={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Km.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Km.create(n,t,r,s,i)}},_2={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(n=a[o].substring(l+1))}}return n}},E2={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const o=a.split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===e&&(r=o[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(s=o[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let Dr=null;const qm=()=>{if(Dr!==null)return Dr;try{if(Dr=typeof window<"u"&&window.localStorage!==null,!Dr)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Dr=!1}return Dr};var T2={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&qm())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&qm()&&window.localStorage.setItem(n,t)}};let Lr=null;const Gm=()=>{if(Lr!==null)return Lr;try{if(Lr=typeof window<"u"&&window.sessionStorage!==null,!Lr)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Lr=!1}return Lr};var C2={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Gm())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Gm()&&window.sessionStorage.setItem(n,t)}},P2={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},R2={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},j2={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},O2={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Ww=!1;try{document.cookie,Ww=!0}catch{}const Hw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ww||Hw.splice(1,1);const N2=()=>({order:Hw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Kw{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=x2(n,this.options||{},N2()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(k2),this.addDetector(_2),this.addDetector(T2),this.addDetector(C2),this.addDetector(P2),this.addDetector(R2),this.addDetector(j2),this.addDetector(O2),this.addDetector(E2)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!S2(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Kw.type="languageDetector";const A2={name:"CinemaTape",tagline:"Your personal cinema diary",locale:"en-US"},D2={calendar:"Calendar",later:"Later",allMovies:"All Movies",statistics:"Statistics"},L2={signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",email:"Email",password:"Password",name:"Name",yourName:"Your name",yourEmail:"your@email.com",signedInAs:"Signed in as",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signInSuccess:"Signed in successfully!",signOutSuccess:"Signed out successfully",signUpSuccess:"Account created! You are now signed in.",confirmEmail:"Check your email to confirm registration!",emailAlreadyRegistered:"This email is already registered. Please sign in instead.",authFailed:"Authentication failed",showPassword:"Show password",hidePassword:"Hide password"},M2={title:"Calendar",noFilmsThisDay:"No films watched this day",addFirstFilm:"Add First Film",filmsWatched:"films watched"},$2={title:"Later",filmsInQueue:"films in queue",film:"film",films:"films",addFilm:"Add Film",markAsWatched:"Mark as Watched",sortHighToLow:"High  Low",sortLowToHigh:"Low  High",emptyState:"Your watch later list is empty",emptyStateDesc:"Add movies you want to watch later"},I2={title:"All Movies",totalFilms:"Total films",search:"Search movies...",sortBy:"Sort by",rating:"Rating",movieTitle:"Title",sortByDate:"Sort by Date",sortByRating:"Sort by Rating",sortByTitle:"Sort by Title",newest:"Newest",oldest:"Oldest",highest:"Highest",lowest:"Lowest",aToZ:"A  Z",zToA:"Z  A",noMoviesFound:"No movies found",tryDifferentSearch:"Try a different search or add your first movie"},F2={title:"Statistics",subtitle:"Your cinematic habits and achievements",noMoviesYet:"No movies watched yet. Start adding movies to see statistics!",totalWatched:"Total Watched",thisYear:"This Year",filmsThisYear:"Films This Year",averageRating:"Average Rating",longestStreak:"Longest Streak",days:"days",bestRated:"Top 5 by Rating",monthlyActivity:"Movies by Month",monthlyRatings:"Average Ratings by Month",previousYear:"Previous Year",nextYear:"Next Year",ratingDistribution:"Rating Distribution",dayOfWeek:"Day of Week",mostActiveDay:"Most in a Day",moviesWatched:"movies watched",githubStyle:"GitHub Style",viewDetails:"View Details"},U2={addMovie:"Add Movie",editMovie:"Edit Movie",addToLater:"Add to Later",movieTitle:"Movie Title",movieTitlePlaceholder:"Enter movie title...",year:"Year",rating:"Rating (0-10)",priority:"Priority (0-10)",watchDate:"Watch Date",notes:"Notes & Thoughts",notesPlaceholder:"Your thoughts about the movie...",save:"Save",cancel:"Cancel",required:"*"},V2={title:"Move to Watched",selectDate:"Select the date you watched this film",addNotes:"Add your rating and notes",move:"Move to Watched"},B2={deleteMovie:"Delete Movie",confirmDelete:"Are you sure you want to delete",cannotBeUndone:"This action cannot be undone.",delete:"Delete",cancel:"Cancel"},z2={edit:"Edit",delete:"Delete",close:"Close",loading:"Loading...",error:"Error",success:"Success",noData:"No data available",addedSuccessfully:"Added successfully",updatedSuccessfully:"Updated successfully",deletedSuccessfully:"Deleted successfully",movedSuccessfully:"Moved to watched successfully"},W2={jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"},H2={sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},K2={app:A2,nav:D2,auth:L2,calendar:M2,watchLater:$2,allMovies:I2,statistics:F2,addMovie:U2,moveToWatched:V2,confirmModal:B2,common:z2,months:W2,days:H2},q2={name:"CinemaTape",tagline:"  ",locale:"uk-UA"},G2={calendar:"",later:"",allMovies:" ",statistics:""},Y2={signIn:"",signUp:"",signOut:"",email:" ",password:"",name:"'",yourName:" '",yourEmail:"@.com",signedInAs:" ",alreadyHaveAccount:"  ?",dontHaveAccount:" ?",signInSuccess:" !",signOutSuccess:" ",signUpSuccess:" !    .",confirmEmail:"     !",emailAlreadyRegistered:"    .  , .",authFailed:" ",showPassword:" ",hidePassword:" "},J2={title:"",noFilmsThisDay:"     ",addFirstFilm:"  ",filmsWatched:" "},Q2={title:"",filmsInQueue:"  ",film:"",films:"",addFilm:" ",markAsWatched:"  ",sortHighToLow:"  ",sortLowToHigh:"  ",emptyState:"    ",emptyStateDesc:" ,    "},X2={title:" ",totalFilms:" ",search:" ...",sortBy:" ",rating:"",movieTitle:"",sortByDate:"  ",sortByRating:"  ",sortByTitle:"  ",newest:"",oldest:"",highest:"",lowest:"",aToZ:"  ",zToA:"  ",noMoviesFound:"  ",tryDifferentSearch:"       "},Z2={title:"",subtitle:"    ",noMoviesYet:"    .   ,   !",totalWatched:" ",thisYear:" ",filmsThisYear:"  ",averageRating:" ",longestStreak:" ",days:"",bestRated:"-5  ",monthlyActivity:"  ",monthlyRatings:"   ",previousYear:" ",nextYear:" ",ratingDistribution:" ",dayOfWeek:" ",mostActiveDay:"  ",moviesWatched:" ",githubStyle:" GitHub",viewDetails:" "},eD={addMovie:" ",editMovie:" ",addToLater:"  ",movieTitle:" ",movieTitlePlaceholder:"  ...",year:"",rating:" (0-10)",priority:" (0-10)",watchDate:" ",notes:"  ",notesPlaceholder:"   ...",save:"",cancel:"",required:"*"},tD={title:"  ",selectDate:" ,     ",addNotes:"    ",move:"  "},nD={deleteMovie:" ",confirmDelete:" ,   ",cannotBeUndone:"   .",delete:"",cancel:""},rD={edit:"",delete:"",close:"",loading:"...",error:"",success:"",noData:" ",addedSuccessfully:" ",updatedSuccessfully:" ",deletedSuccessfully:" ",movedSuccessfully:"   "},sD={jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""},iD={sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},aD={app:q2,nav:G2,auth:Y2,calendar:J2,watchLater:Q2,allMovies:X2,statistics:Z2,addMovie:eD,moveToWatched:tD,confirmModal:nD,common:rD,months:sD,days:iD};He.use(Kw).use(AO).init({resources:{en:{translation:K2},uk:{translation:aD}},fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1}});Su.createRoot(document.getElementById("root")).render(m.jsx(Zc.StrictMode,{children:m.jsx(y2,{})}));
